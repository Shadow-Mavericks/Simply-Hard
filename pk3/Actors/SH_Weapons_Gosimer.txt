ACTOR GosimersExplosivepuff
{
	+NOBLOCKMAP
	+NOGRAVITY
	+ALLOWPARTICLES
	+RANDOMIZE
	+PUFFONACTORS
	+PUFFGETSOWNER
	+FORCERADIUSDMG
	RenderStyle ADD
	Alpha 1.0
	Scale 0.3
	Mass 5
	States
	{
	Spawn:
	// Intentional fall-through
		TNT1 A 0
	xdeath:
	Melee:
		D6EX A 0 NoDelay A_Explode(5, 56, 0, false, 32)
		D6EX ABCDEFGHIJKLMNOPQ 1 Bright
		Stop
	}
}


ACTOR BoomToob : Doomweapon //Sprites from Serghei â†’ Typical.SF / Gosimer did gold frames
{
	Weapon.PreferredSkin "Grenade-Marine"
	Weapon.SelectionOrder 2500
	Weapon.SlotNumber 6
	Weapon.AmmoType1 "Roketammo"
	Weapon.AmmoUse1 1
	Weapon.Ammogive1 10
	Weapon.AmmoType2 "Roketammo"
	Weapon.AmmoUse2 1
	Weapon.Ammogive2 10
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.Bobstyle	"Smooth"
	+WEAPON.NOAUTOFIRE
	+WEAPON.NOAUTOAIM
	Inventory.ForbiddenTo	"Fiend"
	Inventory.ForbiddenTo	"Kunai"
	Inventory.RestrictedTo	"Gosimer"
	Inventory.Forbiddento	"Maximusprime"
	Inventory.PickupMessage "You got the Boom shoot"
	Inventory.PickupSound	"Weapon/Nadeget"
	States
	{
	Ready:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldready")
		GNTR A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Golddeselect")
		GNTR A 1 A_Lower
		Loop
	Select:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldselect")
		GNTR A 1 A_Raise
		Loop
	Fire:	//Bounce Grenade
		GNTR A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldfire")
		GNTR A 1 A_Gunflash
		GNTR B 1 Bright A_Playsound ("Gosimer/GrenadeL_POOT",Chan_weapon)
		GNTR B 0 A_FireCustomMissile("Nadez",0,1,0,0,0,7)
		GNTR CDE 1 Bright
		GNTR FA 2
		GNTR A 0 A_Jumpifnoammo("Ready")
		GNTR GHI 3 //FRAME G Reload start
		GNTR I 5 A_Playsound ("Gosimer/GrenadeL_open",Chan_Weapon)
		GNTR JKL 3 //FRAME L Break open
		GNTR M 4 A_Playsound ("Gosimer/GrenadeL_Close",Chan_6) //This Sound has "Insertshell" and "close" sfx baked in!
		GNTR NOP 4
		GNTR QR 3
		GNTR ST 3 //FRAME T CLOSE Barrel
		GNTR U 5
		GNTR VX 3
		GNTR X 0 A_Refire
		Goto Ready
	Altfire: //Contact grenades
		GNTR A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldaltfire")
		GNTR A 1 A_Gunflash
		GNTR B 1 Bright A_Playsound ("Gosimer/GrenadeL_POOT",Chan_weapon)
		GNTR B 0 A_FireCustomMissile("ALTNadez",0,1,0,0,0,7)
		GNTR CDE 1 Bright
		GNTR FA 2
		GNTR A 0 A_Jumpifnoammo("Ready")
		GNTR GHI 3 //Reload start
		GNTR I 5 A_Playsound ("Gosimer/GrenadeL_open",Chan_Weapon)
		GNTR JKL 3 //FRAME L Break open
		GNTR M 4 A_Playsound ("Gosimer/GrenadeL_Close",Chan_6) //This Sound has "Insertshell" and "close" sfx baked in!
		GNTR NOP 4 //FRAME N Insert Shell
		GNTR QR 3
		GNTR ST 3 //FRAME T CLOSE Barrel
		GNTR U 5
		GNTR VX 3
		GNTR X 0 A_Refire
		Goto Ready
	Goldready:
		GNTG A 1 A_WeaponReady
		Loop
	GoldDeselect:
		GNTG A 1 A_Lower
		Loop
	GoldSelect:
		GNTG A 1 A_Raise
		Loop
	Goldfire:
		GNTG A 1
		GNTG A 0 A_Gunflash
		GNTG B 1 Bright A_Playsound ("Gosimer/GrenadeL_POOT",Chan_weapon)
		GNTR B 0 A_FireCustomMissile("CritNadez",0,1,0,0,0,7)
		GNTG CDE 1 Bright
		GNTG FA 2
		GNTR A 0 A_Jumpifnoammo("Ready")
		GNTG GHI 3 //Reload start
		GNTG I 5 A_Playsound ("Gosimer/GrenadeL_open",Chan_Weapon)
		GNTG JKL 3 //FRAME L Break open
		GNTG M 4 A_Playsound ("Gosimer/GrenadeL_Close",Chan_6)
		GNTG NOP 4 //FRAME N Insert Shell
		GNTG QR 3
		GNTG ST 3 //FRAME T CLOSE Barrel
		GNTG U 5
		GNTG VX 3
		GNTG X 0 A_Refire
		Goto Ready
	GoldAltfire:
		GNTG A 1
		GNTG A 0 A_Gunflash
		GNTG B 1 Bright A_Playsound ("Gosimer/GrenadeL_POOT",Chan_weapon)
		GNTR B 0 A_FireCustomMissile("ALTCritNadez",0,1,0,0,0,7)
		GNTG CDE 1 Bright
		GNTG FA 2
		GNTG A 0 A_Jumpifnoammo("Ready")
		GNTG GHI 3 //Reload start
		GNTG I 5 A_Playsound ("Gosimer/GrenadeL_open",Chan_Weapon)
		GNTG JKL 3 //FRAME L Break open
		GNTG M 4 A_Playsound ("Gosimer/GrenadeL_Close",Chan_6)
		GNTG NOP 4 //FRAME N Insert Shell
		GNTG QR 3
		GNTG ST 3 //FRAME T CLOSE Barrel
		GNTG U 5
		GNTG VX 3
		GNTG X 0 A_Refire
		Goto Ready
	Flash:
		TNT1 A 1 A_Light1
		TNT1 A 1 A_light2
		TNT1 A 2 A_light1
		Goto LightDone
	Spawn:
		GNTR Z -1
		Stop
	}
}

Actor DookiClip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 12
	ammo.Backpackmaxamount 12
}

ACTOR GosimersHandgun : Weapon
{
	Tag "Pistol"
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "Gosimer"
	Inventory.Pickupmessage "Pistol."
	Obituary "%o killed %k"

	Weapon.PreferredSkin "Pistol-Marine"
	Weapon.AmmoType1 "DookiClip"
	Weapon.AmmoType2 "peastolClip"
	Weapon.AmmoGive1 32
	Weapon.AmmoGive2 48
	Weapon.AmmoUse1 1
	Weapon.SlotNumber 2
	Weapon.SelectionOrder 4
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"

	+WEAPON.NOAUTOAIM
	+WEAPON.NOAUTOFIRE
	+WEAPON.AMMO_OPTIONAL
	States
	{
		Ready:
			GDPI A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldReady")
			GDPI A 1 A_WeaponReady(WRF_ALLOWRELOAD)
			loop
		GoldReady:
			GDPG A 1 A_WeaponReady(WRF_ALLOWRELOAD)
			loop
		Deselect:
			GDPI A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldDeselect")
			GDPI A 1 A_Lower
			Loop
		Golddeselect:
			GDPG A 1 A_Lower
			Loop
		Select:
			GDPI A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldSelect")
			GDPI A 1 A_Raise
			Loop
		GoldSelect:
			GDPG A 1 A_Raise
			Loop

		Fire:
			GDPI A 0 A_Jumpifinventory("Tier1upgradetoken",1,"StartGoldFire")
			goto StartFire

		StartFire:
			GDPI B 0 A_JumpIfNoAmmo("ReloadOrDryfire")
			goto DoFire
		StartGoldFire:
			GDPG B 0 A_JumpIfNoAmmo("ReloadOrDryfire")
			goto DoGoldFire

		DoFire:
			"####" B 0 A_Playsound("GPistolFire", CHAN_WEAPON)
			"####" B 0 A_FireBullets(1.25, 0.75, 1, 6+random(0, 6), "BulletPuff", FBF_USEAMMO | FBF_NORANDOM)
			goto FireEnd
		DoGoldFire:
			"####" B 0 A_Playsound("GPistolFireGold", CHAN_WEAPON)
			"####" B 0 A_FireBullets(1.25, 0.75, 1, 6+random(0, 6), "GosimersExplosivePuff", FBF_USEAMMO | FBF_NORANDOM)
			goto FireEnd

		FireEnd:
			"####" B 0 A_GunFlash
			"####" B 1 Bright
			"####" C 1 Bright
			"####" DEF 1
			"####" A 1
			"####" A 0 A_JumpIfNoAmmo("ReloadOrDryfire")
			"####" A 0 A_Refire
			goto Ready

		ReloadOrDryfire:
			"####" A 0 A_JumpIfInventory("peastolClip", 1, "CheckReload")
			"####" A 0 A_Playsound("weapons/pistol/dry", CHAN_AUTO)
			"####" A 1 Offset(0, 33)
			"####" A 5 Offset(0, 32)
			"####" A 0 A_Refire
			goto Ready

		Reload:
			GDPI A 0 A_JumpIfInventory("peastolClip", 1, "CheckReload")
			goto Ready
		CheckReload:
			GDPI A 0 A_JumpIfInventory("DookiClip", 0, "Ready") // 0 == At Capacity
			goto ReloadStart
		ReloadStart:
			GPRE A 0 A_Playsound("GPistolMagOut", CHAN_AUTO)
			GPRE A 0 A_Jumpifinventory("Tier1upgradetoken",1,"ReloadEjectGold")
			goto ReloadEject

		ReloadEjectGold:
			GGRE A 0
		ReloadEject:
			"####" ABC 2
			"####" DEFGHIJK 1
			"####" C 6
			GPRI A 0 A_Jumpifinventory("Tier1upgradetoken",1,"ReloadInsertGold")
			goto ReloadInsert

		ReloadInsertGold:
			GGRI A 0
		ReloadInsert:
			"####" A 0 A_Playsound("GPistolMagIn", CHAN_AUTO)
			"####" ABCDEFGHIJKLMNOPQ 1
			goto ReloadLoop

		ReloadLoop:
			"####" A 0 A_TakeInventory("peastolClip", 1)
			"####" A 0 A_GiveInventory("DookiClip", 1)
			"####" A 0 A_JumpIfInventory("DookiClip", 0, "ReloadEnd1")
			"####" A 0 A_JumpIfInventory("peastolClip", 1, "ReloadLoop")
			goto ReloadEnd1

		ReloadEnd1:
			"####" RSTUVWX 1
			GPRE C 0 A_Jumpifinventory("Tier1upgradetoken",1,"ReloadEnd2Gold")
			goto ReloadEnd2

		ReloadEnd2Gold:
			GGRE A 0
		ReloadEnd2:
			"####" CBA 2
			"####" A 0 A_Refire
			goto Ready
		Flash:
			TNT1 A 1 A_Light2
			TNT1 A 1 A_Light1
			TNT1 A 1 A_Light0
			stop
		Spawn:
			PIST A -1
			Stop
	}
}

actor LightningPuff : BulletPuff
{
	+PUFFONACTORS
	+ALWAYSPUFF
	+FORCEPAIN
	+BLOODLESSIMPACT
	+FORCEXYBILLBOARD
	+NOINTERACTION
	+NOTIMEFREEZE
	+NOBLOOD
	-BLOODSPLATTER
	RenderStyle Add
	Alpha 1.0
	Scale 0.25
	VSpeed 0
	States
	{
		Spawn:
			TBAL A 1 Bright A_FadeOut(0.05)
			loop
	}
}

ACTOR Lightning_Rifle: DoomWeapon
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.SlotNumber 7
	Inventory.Forbiddento "Maximusprime"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 40
	Weapon.AmmoType "Battery"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
		//+WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
	Inventory.PickupSound "Weapon/devistatorget"
	Weapon.PreferredSkin "Plasma-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Lightning Gun"
	Tag "Lightning Gun"
	States
	{
	Ready:
		THUN C 0 A_Stopsound(6)
	Ready2:
		THUN A 0 A_playsound("Weapon/litning_IDLE", 6, 1.0, 1)
		THUN A 1 A_WeaponReady
		THUN C 1 A_WeaponReady
		THUN B 1 A_WeaponReady
		THUN C 1 A_WeaponReady
		Loop
	Deselect:
		NULL A 0 A_Stopsound(6)
		THUN C 1 A_Lower
		Goto Deselect+1
	Select:
		NULL A 0 A_Stopsound(6)
		THUN C 1 A_Raise
		Goto Select+1
	Fire:
		NULL A 0 A_PlaySound("Weapon/Litning_START",Chan_weapon)
		THUN D 1
		THUN E 1
	Firehold:
		NULL A 0 A_JumpIfInventory("Tier6upgradetoken",1,"goldFirehold")
		NULL A 0 A_playsound("Weapon/Litning_LOOP", 6, 1.0, 1)
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 5, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	jiggleRando:
		NULL A 0 A_JumpIfInventory("Tier6upgradetoken",1,"goldjiggleRando")
		THUN F 0 A_JUMP(250, "jiggle1", "jiggle2", "jiggle3", "jiggle4", "jiggle5")
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend

	Jiggle1:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(1,33)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle2:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-1,33)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle3:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle4:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle5:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,33)  A_RailAttack(6, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend

	goldFirehold:
		NULL A 0 A_playsound("Weapon/Litning_LOOP", 6, 1.0, 1)
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 5, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	goldjiggleRando:
		THUN F 0 A_JUMP(250, "goldjiggle1", "goldjiggle2", "goldjiggle3", "goldjiggle4", "goldjiggle5")
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32) A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend

	goldJiggle1:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(1,33)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend
	goldJiggle2:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-1,33)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend
	goldJiggle3:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend
	goldJiggle4:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend
	goldJiggle5:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,33)  A_RailAttack(12, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "LightningPuff", 0, 0, 1028, 35, 1.0, 4.0, "REDLightninggunBlast")
		THUN F 1 A_REFIRE ("goldJiggleRando")
		Goto Fireend
	Fireend:
		NULL A 0 A_Stopsound(6)
		NULL A 0 A_PlaySound("Weapon/Litning_STOP", chan_weapon)
		THUN E 1
		THUN D 1
		Goto Ready
	 Flash:
		TNT1 A 1 Bright A_Light1
		Goto LightDone
	 Spawn:
		PLAS A -1
		Stop
	}
}

ACTOR Devistator_shell
{
	scale 0.25
	Radius 11
	Height 8
	Speed 20
	Damage 6
	Projectile
	+SEEKERMISSILE
	+SCREENSEEKER
	+FORCERADIUSDMG
	//SeeSound "weapon/D3DDEVSPAWN"
	DeathSound "weapon/D3DDEVBOOM"
	Obituary "%O caught %K's devistator shell" // "%o rode %k's rocket."
	States
	{
		Spawn:
			RPGX AAAAAA 1 bright
			goto Fly
		Fly:
			RPGX A 0 A_playsound("weapon/D3DDEVFLY",6, 1.0, 1)
			RPGX A 0 A_Weave(3, 3, frandom[speen](0.0, 1.0), frandom[speen](0.0, 1.0))
			RPGX A 1 Bright A_SeekerMissile(3,3,SMF_LOOK,50,5)
			Loop
		Death:
			DEXP A 0 Bright A_Explode(50, 128)
			DEXP A 0 Bright A_stopsound(6)
			DEXP A 0 Bright A_SetScale(0.2, 0.2)
			DEXP A 0 Bright A_SetTranslucent(1.0, 1)
			DEXP ABCDEFGHIJKLMNOPQRST 1 Bright
			Stop
	}
}

ACTOR micro_Devistator : DoomWeapon
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 8
	Weapon.slotnumber 8
	Weapon.AmmoUse 1
	Weapon.AmmoGive 60
	Weapon.AmmoType "Lightningammo"
	Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
	+WEAPON.NOAUTOAIM
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
	Inventory.PickupSound "Weapon/devistatorget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Devastator"
	Tag "Devastator"
	States
	{
	Ready:
		DASS A 0 A_JumpIfInventory("Tier7upgradetoken",1,"GoldReady")
		DASS A 1 A_WeaponReady
		loop
	GoldReady:
		DAGS A 1 A_WeaponReady
		loop
	Deselect:
		DASS A 0 A_JumpIfInventory("Tier7upgradetoken",1,"GoldDeselect")
		DASS A 1 A_Lower
		Loop
	GoldDeselect:
		DAGS A 1 A_Lower
		loop
	Select:
		DASS A 0 A_JumpIfInventory("Tier7upgradetoken",1,"GoldSelect")
		DASS A 1 A_Raise
		Loop
	GoldSelect:
		DAGS A 1 A_Raise
		loop
	Fire:
		DASS A 0 A_JumpIfInventory("Tier7upgradetoken",1,"GoldFire")
		DASS A 0 A_Playsound("weapon/D3DDEVSPAWN",chan_weapon)
		DASS B 1 A_GunFlash
		DASS C 1
		DASS D 2 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS E 2 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS F 2 A_FireCustomMissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS C 1
		DASS B 1
		DASS A 1 A_Refire
		Goto Ready
	GoldFire:
		DAGS A 0 A_Playsound("weapon/D3DDEVSPAWN",chan_weapon)
		DAGS B 1 A_GunFlash
		DAGS C 1
		DAGS D 1 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DAGS E 1 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DAGS F 1 A_FireCustomMissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DAGS C 1
		DAGS B 1
		DAGS A 1 A_Refire("GoldFire")
		Goto GoldReady
	Flash:
		TNT1 A 2 Bright
		TNT1 A 2 Bright A_Light1
		TNT1 A 2 Bright A_Light2
		TNT1 A 2 Bright A_Light1
		Goto LightDone
	Spawn:
		LAUN A -1
		Stop
	}
}

ACTOR HMachinegun : Doomweapon
{
   Tag "Heavy Machinegun"
   Weapon.PreferredSkin "Minigun-Marine"
   Weapon.SelectionOrder 3
   Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
   Weapon.AmmoUse 1
   Weapon.AmmoGive 50
   Weapon.AmmoType "AK_MAG"
   Weapon.BobSpeed 1.5
   Weapon.BobRangeX .5
   Weapon.BobStyle "Smooth"
   Inventory.ForbiddenTo "Fiend"
   Inventory.ForbiddenTo "Kunai"
   Inventory.Respawntics"4200"
   Inventory.RestrictedTo "Gosimer"
   Inventory.PickupMessage "Heavy machinegun!"
   Inventory.PickupSound "weapon/akget"
   Obituary "%o killed %k"
   Tag "$TAG_CHAINGUN"
   States
   {
	Ready:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldReady")
		D3DG A 1 A_WeaponReady
		D3DG A 15 A_WeaponReady
		Loop
	Deselect:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldDeselect")
		D3DG A 1 A_Lower
		Loop
	Select:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldSelect")
		D3DG A 1 A_Raise
		Loop
	Fire:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldFire")
		D3DF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 2, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 2, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 2, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DG A 0 A_ReFire("Hold")
		Goto Ready
	Hold:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldHold")
		D3DF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 4, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 4, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 4, -1, 9+Random(0,9), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
		D3DG A 0 A_ReFire("Hold")
		Goto Ready
	GoldReady:
		D3GG A 1 A_WeaponReady
		D3GG A 15 A_WeaponReady
		Loop
	GoldDeselect:
		D3GG A 1 A_Lower
		Loop
	GoldSelect:
		TNT1 A 0 A_giveinventory("Tier4upgradetoken", 1)
		D3GG A 1 A_Raise
		Loop
	GoldFire:
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GG A 0 A_ReFire("GoldFire")
		Goto Ready
	GoldHold:
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(5, 3.5, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_AUTO)
		MNGF A 0 Bright A_FireBullets(5, 3.5, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_AUTO)
		MNGF A 0 Bright A_FireBullets(5, 3.5, -1, 9+Random(0,9), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
		D3GG A 0 A_ReFire("GoldHold")
		Goto Ready
	Flash:
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		DEGT A -1
		Stop
	}
}

//Combat Shotgun

ACTOR CombatShotgun : Doomweapon
{
	Tag "Shotgun"
	Weapon.PreferredSkin "Shotgun-Marine"
	Weapon.SelectionOrder 2
	Weapon.AmmoUse 1
	Weapon.AmmoGive 8
	Weapon.AmmoType "Shellz"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
	Inventory.Respawntics"4200"
	Weapon.SlotNumber 3
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "Gosimer"
	Inventory.PickupSound "weapon/singleget"
	Inventory.PickupMessage "CombatShotgun"
	Obituary "%o killed %k"

	States
	{
		Ready:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldready")
			GUN2 A 1 A_WeaponReady
			GUN2 A 10 A_WeaponReady
			Loop
		Deselect:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Golddeselect")
			GUN2 A 1 A_Lower
			Loop
		Select:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldselect")
			GUN2 A 1 A_Raise
			Loop
		Fire:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldfire")
			GUN2 A 0 A_FireBullets(5, 4, -1, 10+Random(0,10), "Bulletpuff", FBF_USEAMMO | FBF_NORANDOM)
			GUN2 AAAAAA 0 A_FireBullets(5, 4, -1, 10+Random(0,10), "Bulletpuff", FBF_NORANDOM)
			GUN2 A 0 A_GunFlash
			GUN2 H 2 A_PlaySound("GShotgunFire", CHAN_WEAPON)
			GUN2 A 2
			GUN2 A 3
			GUN2 G 3
			GUN2 B 3
			GUN2 C 5 A_PlaySound("GShotgunCock1", CHAN_AUTO)
			GUN2 D 4
			GUN2 C 3 A_FireCustomMissile("SupershotgunCasingSpawner", 0, 0, 0, 2)
			GUN2 B 3 A_PlaySound("GShotgunCock2", CHAN_AUTO)
			GUN2 G 2
			GUN2 A 0
			GUN2 A 0 A_ReFire
			Goto Ready
		GoldReady:
			SUN2 A 1 A_WeaponReady
			SUN2 A 10 A_WeaponReady
			Loop
		GoldDeselect:
			TNT1 A 0 A_giveinventory("Tier2upgradetoken", 1)
			SUN2 A 1 A_Lower
			Loop
		GoldSelect:
			SUN2 A 1 A_Raise
			Loop
		GoldFire:
			SUN2 A 0 A_FireBullets(5, 4, -1, 10+Random(0,10), "GosimersExplosivepuff", FBF_USEAMMO | FBF_NORANDOM)
			SUN2 AAAAAA 0 A_FireBullets(5, 4, -1, 10+Random(0,10), "GosimersExplosivepuff", FBF_NORANDOM)
			SUN2 A 0 A_GunFlash
			SUN2 H 2 A_PlaySound("Weapon/Quadshotgunfire", CHAN_WEAPON)
			SUN2 A 2
			SUN2 A 3
			SUN2 G 3
			SUN2 B 3
			SUN2 C 5 A_PlaySound("GShotgunCock1", CHAN_AUTO)
			SUN2 D 4
			SUN2 C 3 A_FireCustomMissile("SupershotgunCasingSpawner", 0, 0, 0, 2)
			SUN2 B 3 A_PlaySound("GShotgunCock2", CHAN_AUTO)
			SUN2 G 2
			SUN2 A 0
			SUN2 A 0 A_ReFire
			Goto Ready
		AltFire:
			GUN1 A 0 A_jumpifinventory("Tier2upgradetoken",1,"Goldkick")
			GUNK A 2
			GUNK B 2 A_playsound("Weapon/Quickkick",Chan_weapon)
			TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			GUNK C 3 A_CustomPunch(2 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			GUNK D 3
			GUNK E 2
			GUNK A 2
			GUN2 A 5
			goto Ready
		Berserked:
			GUNK C 3 A_CustomPunch(20 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			GUNK D 3
			GUNK E 2
			GUNK A 2
			GUN2 A 5
			goto Ready
		Goldkick:
			SUNK A 2
			SUNK B 2 A_playsound("Weapon/Quickkick",Chan_weapon)
			TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "GoldBerserked")
			SUNK C 3 A_CustomPunch(4 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			SUNK D 3
			SUNK E 2
			SUNK A 2
			SUN2 A 5
			goto Ready
		GoldBerserked:
			SUNK C 3 A_CustomPunch(40 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			SUNK D 3
			SUNK E 2
			SUNK A 2
			SUN2 A 5
			goto Ready
		Flash:
			GUN2 F 2 Bright A_Light2
			GUN2 E 1 Bright A_Light1
			TNT1 A 0 A_Light0
			Goto LightDone

		Spawn:
			SHOT A -1
			Stop
	}
}