

//---------------------------
//----< -Fistsy  cuffs- >----
//---------------------------


ACTOR Fists : fist replaces Fist
{
	Weapon.PreferredSkin "Fist-Marine"
	Game Doom
	Weapon.SelectionOrder 9
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Weapon.Kickback 100
	Obituary "$OB_MPFIST"
	Tag "Fisty cuffs"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	States
	{
	Ready:
		PUNG A 1 A_WeaponReady
		PUNG A 10 A_Weaponready
		Loop
	Deselect:
		PUNG A 1 A_Lower
		Loop
	Select:
		PUNG A 1 A_Raise
		Loop
	Fire:
		PUNG B 2
		PUNG C 3 A_Punch
		PUNG D 4
		PUNG C 3
		PUNG B 4 A_ReFire
		Goto Ready
	}
}

ACTOR kankanboot : Weapon
{
	Weapon.PreferredSkin "Fist-Marine"
	Game Doom
	Weapon.SelectionOrder 8
	Weapon.Kickback 100
	Obituary "gave a guy a boot to the head :O"
	Tag "Fisty cuffs"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	Weapon.AmmoUse 0
	Weapon.AmmoGive 0
	Weapon.AmmoType "Kancounter"
	States
	{
	Ready:
		KANK A 0 A_Giveinventory("Kancounter",25)
		KANK A 1 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		goto Fire
	Deselect:
		KANK A 1 A_Lower
		KANK A 0 A_Takeinventory("kankanboot", 1)
		Loop
	Select:
		KANK A 1 A_Raise
		Loop
	Fire:
		KANK A 0 A_Jumpifinventory("Kancounter",1,1)
		Goto itstimetostopokay
		KANK B 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_CustomPunch(20 * random(5, 10), TRUE,0,"Shotgunmayray",96)
		KANK A 0 A_Punch
		KANK C 5 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 15), TRUE,0,"Shotgunmayray",96)
		KANK C 6 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 10), TRUE,0,"Shotgunmayray",96)
		KANK E 5 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 15), TRUE,0,"Shotgunmayray",96)
		KANK E 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_takeinventory("Kancounter", 1)
		goto Fire
	itstimetostopokay:
		KANK A 0 A_Playsound("TIME2STAHPKAY?",CHAN_7)
		KANK A 105
		KANK A 0 A_WeaponReady
		Goto Deselect
	}
}

Actor Kancounter : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 24
	ammo.Backpackmaxamount 24
}

Actor Reload : Custominventory
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 1
}


ACTOR Soulreaper : Weapon
{
	Weapon.PreferredSkin "Knife-Marine"
	Game Doom
	+WEAPON.NOAUTOAIM
	Weapon.SelectionOrder 8
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Weapon.Kickback 100
	Tag "Soul-Reaper"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Inventory.PickupSound "weapon/srget"
	+WEAPON.MELEEWEAPON
	States
	{
		Ready:
			KRDY A 1 A_WeaponReady
			Loop
		Deselect:
			KRDY A 1 A_Lower
			Loop
		Select:
			KRDY A 1 A_Raise
			Loop
		Fire:
			KBLD A 2
			KBLD B 2
			KRDY A 0 A_giveinventory("Souldrain", 1)
			KBLD C 1 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			Goto Normal
		Altfire:
			KBLD A 1
			KBLD A 1 A_JUMPIFINVENTORY("AbilityCharge", 25, "Bladebem")
			Goto Ready
		Bladebem:
			KRDY A 0 A_giveinventory("Souldrain", 1)
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1
			KBLD F 1 A_takeinventory("AbilityCharge",25)
			KBLD G 1 A_FireCustomMissile("Beem_Slash",0,0,0,0,0)
			KBLD H 1
			KBLD I 1
			KBLD J 2
			KBLD L 2
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
		Normal:
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1
			KBLD F 1
			KBLD G 1 A_CustomPunch(30, FALSE, 0, "SoulreaperPuff", 96)// 1, 2, "ArmorBonus", "Weapons/SReaperhit", "weapons/srswing")
			KBLD H 1
			KBLD I 1
			KBLD J 2
			KBLD L 2
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
		Berserked:
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1
			KBLD F 1
			KBLD G 1 A_CustomPunch(100, FALSE, 0, "SoulreaperPuff", 96) //, 2, 4, "ArmorBonus", "Weapons/SReaperhit", "weapons/srswing")
			KBLD H 1
			KBLD I 1
			KBLD J 2
			KBLD L 2
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
	}
}

//---------------------------
//---< Chainsaw replacer >---
//---------------------------

ACTOR UAC-Chainsaw : Weapon
{
	Weapon.PreferredSkin "Chainsaw-Marine"
	Game Doom
	SpawnID 32
	Weapon.Kickback 0
	Weapon.SelectionOrder 9
	Weapon.UpSound "weapons/sawup"
	Weapon.ReadySound "weapons/sawidle"
	Inventory.PickupMessage "$GOTCHAINSAW"
	Obituary "$OB_MPCHAINSAW"
	Tag "$TAG_CHAINSAW"
	+WEAPON.MELEEWEAPON
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.RestrictedTo "Gosimer"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Kunai"
	Inventory.PickupSound "weapon/chainget"
	States
	{
		Ready:
			SAWG CD 4 A_WeaponReady
			SAWG CD 4 A_WeaponReady
			Loop
		Deselect:
			SAWG C 0 A_Playsound("Chainsaw/shutoff",Chan_weapon)
			SAWG C 1 A_Lower
			Goto Deselect+1
		Select:
			SAWG C 1 A_Raise
			Loop
		Fire:
			SAWG A 0 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			SAWG AB 2 A_Saw
			SAWG B 0 A_ReFire
			Goto Ready
		Berserked:
			SAWG AB 1 A_Saw
			SAWG B 0 A_ReFire
			Goto Ready
		Spawn:
			CSAW A -1
			Stop
	}
}

Actor ChainsawDrop : CustomInventory
{
	Radius 12
	Height 18
	scale 1
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupSound ""
	Inventory.PickupMessage "You got a Chainsaw! (Soul reaper for Kunai)"
	States
	{
		Spawn:
			CSAW A -1
			Stop
		pickup:
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_Playsound("weapon/Chainget",Chan_7)
			TNT1 A 0 A_Giveinventory("UAC-CHAINSAW")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("Weapon/SRGET",Chan_7)
			TNT1 A 0 A_Giveinventory("SoulReaper")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Weapon/CHAINGET",Chan_7)
			TNT1 A 0 A_Giveinventory("UAC-CHAINSAW")
			Stop
	}
}


//---------------------------
//----< Pistol replacer >----
//---------------------------


ACTOR RenettiM9 : doomweapon
{
	Weapon.SelectionOrder 10
	Weapon.PreferredSkin "Pistol-Marine"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 30
	Weapon.AmmoType "peastolclip"
	Weapon.slotnumber 2
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	decal bulletchip
	Inventory.PickupSound "misc/w_pkup"
	States
	{
		Ready:
			FR9G A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldready")
			FR9G A 1 A_weaponready
			Loop
		Deselect:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddeselect")
			TNT1 AA 0 A_Lower
			FR9G A 1 A_Lower
			Goto Deselect+3
		Select:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldselect")
			TNT1 AA 0 A_Raise
			FR9G A 1 A_Raise
			Goto Select+2
			Loop
		Fire:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldfire")
			FR9G A 0 A_Playsound("depisto",Chan_weapon)
			NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
			FR9G B 1 BRIGHT A_FireBullets(2,2,-1,5,"BulletPuff",1)
			FR9G C 1 BRIGHT
//			FR9G D 1
			FR9G E 1
			FR9G A 0 A_Playsound("depisto",Chan_weapon)
			NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
			FR9G B 1 BRIGHT A_FireBullets(2,2,-1,5,"BulletPuff",1)
			FR9G C 1 BRIGHT
//			FR9G D 1
			FR9G E 1
			FR9G A 0 A_Playsound("depisto",Chan_weapon)
			NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
			FR9G B 1 BRIGHT A_FireBullets(2,2,-1,5,"BulletPuff",1)
			FR9G C 1 BRIGHT
			FR9G D 1
			FR9G E 1
			FR9G F 2
			FR9G G 3
			FR9G FE 1
			FR9G A 1 A_WeaponReady
			Goto Ready
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
/*		Reload:
		ReloadBegin:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReady")
			NULL A 0 A_TakeInventory("Reload",1)
			NULL A 0 A_JumpIfInventory("PistolClip",0,"Ready")
			NULL A 0 A_JumpIfInventory("peastolclip",1,1)
			Goto Ready
			NULL A 0 A_PlaySoundEx("weapons/pistol/clipout","SoundSlot5")
			PISG R 3 A_WeaponReady(WRF_NOFIRE)
			PISG F 3 A_WeaponReady(WRF_NOFIRE)
			PISG GH 2 A_WeaponReady(WRF_NOFIRE)
			PISG H 16 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/clipin","SoundSlot6")
			PISG IJK 4 A_WeaponReady(WRF_NOFIRE)
			PISG LMNML 2 A_WeaponReady(WRF_NOFIRE)
		ReloadAmmoLoop:
			NULL A 0 A_TakeInventory("peastolclip",1)
			NULL A 0 A_GiveInventory("PistolClip",1)
			NULL A 0 A_JumpIfInventory("peastolclip",1,1) // if not out of ammo, countinue reloading
			goto ReloadEnd
			NULL A 0 A_JumpIfInventory("PistolClip",0,"ReloadEnd") // if clip full, finish reload
			goto ReloadAmmoLoop // otherwise continue
		ReloadEnd:
			PISG OPQ 2 A_WeaponReady(WRF_NOFIRE)
			Goto ready
*/
		DryFire:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReady")
			FR9G A 1 A_WeaponReady(WRF_NOFIRE)
			FR9G D 2 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
			FR9G A 1 A_WeaponReady(WRF_NOFIRE)
			FR9G D 2 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
			FR9G A 1 A_WeaponReady(WRF_NOFIRE)
			FR9G D 2 A_WeaponReady(WRF_NOFIRE)
			FR9G A 3
			Goto Ready
		GoldDryFire:
			FGPL A 1 A_WeaponReady(WRF_NOFIRE)
			FGPL A 2 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
			FGPL A 2 A_WeaponReady(WRF_NOFIRE)
			Goto GoldReady
		Flash:
			TNT1 A 2 A_Light1
			TNT1 A 0 A_Light0
			Goto LightDone
		GoldReady:
			FGPL A 1 A_WeaponReady
			Wait
		GoldDeselect:
			TNT1 AA 0 A_Lower
			FGPL A 1 A_Lower
			Loop
		GoldSelect:
			TNT1 A 0 A_giveinventory("Tier1upgradetoken", 1)
			TNT1 AA 0 A_raise
			FGPL A 1 A_Raise
			Loop
		GoldFire:
			FGPL A 0 A_Jumpifinventory("Leftpistolshot", 1, "Leftfire")
			FGPL A 0 A_WeaponReady(WRF_NOFIRE | WRF_NOBOB | WRF_NOSWITCH | WRF_NOPRIMARY)
			FGPL A 0 A_FireBullets (2.5, 2.5, -1, 7, "BulletPuff")
			FGPL A 0 A_GunFlash
			FGPL A 0 A_PlaySound("Dukepistol", CHAN_WEAPON)
			FGPL B 1 Bright A_giveinventory("Leftpistolshot", 1)
			FGPL C 1
			FGPL D 1
			FGPL A 1 A_Refire
			Goto Ready
		Leftfire:
			FGPL A 0 A_Takeinventory("Leftpistolshot", 1)
			FGPL A 0 A_WeaponReady(WRF_NOFIRE | WRF_NOBOB | WRF_NOSWITCH | WRF_NOPRIMARY)
			FGPL A 0 A_FireBullets (2.5, 2.5, -1, 7, "BulletPuff")
			FGPL A 0 A_GunFlash
			FGPL A 0 bright A_PlaySound("Dukepistol", CHAN_6)
			FGPL E 1 Bright
			FGPL F 1
			FGPL G 1
			FGPL A 1 A_Refire
			Goto Ready
		Spawn:
			PIST A -1
			Stop
	}
}

Actor Leftpistolshot : Inventory
{
	Radius 4
	Height 18
	scale 1
	Inventory.MaxAmount 1
	States
	{
		Spawn:
			GUGT ABCD 6 BRIGHT
			loop
		pickup:
			TNT1 A 0
			Stop
	}
}

Actor Tier1upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Pistol Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/PLToken"
	States
	{
		Spawn:
			GUGT ABCD 3 BRIGHT
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("peastolclip",5)
			Stop
	}
}

Actor Tier2upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Shotgun Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/PLToken"
	States
	{
		Spawn:
			GUGT EFGD 3 BRIGHT
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("peastolclip",5)
			Stop
	}
}

Actor Tier3upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Super Shotgun Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/RLToken"
	States
	{
		Spawn:
			GUGT HIJD 6 BRIGHT
			Loop
		pickup:
			TNT1 A 0 A_Giveinventory("shellz",4)
			Stop
	}
}

Actor Tier4upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Chaingun / Machinegun Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/RLToken"
	States
	{
		Spawn:
			GUGT KLMD 3 BRIGHT
			Loop
		pickup:
			TNT1 A 0 A_Giveinventory("shellz",4)
			Stop
	}
}

Actor Tier5upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Rocket launcher upgrade token! stats increased / added!"
	Inventory.PickupSound "Mannco/RLToken"
	States
	{
		Spawn:
			GUGT NOPD 3 Bright
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("RoketAmmo",5)
			Stop
	}
}


Actor Tier6upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a Plasmarifle / Flame thrower upgrade token! stats increased / added!"
	Inventory.PickupSound "Mannco/PRToken"
	States
	{
		Spawn:
			GUGT QRSD 3 Bright
			Loop
	}
}

Actor Tier7upgradetoken : UpgradeToken_Base
{
	Inventory.PickupMessage "You picked up a BFG Upgrade upgrade token! HUGE BUFF'S APPLIED!!!"
	Inventory.PickupSound "Mannco/PRToken"
	States
	{
		Spawn:
			GUGT TUVD 3 Bright
			Loop
	}
}

Actor Allupgradetokens : CustomInventory
{
	Radius 12
	Height 56
	scale 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "Holy shit! you got ALL upgrade tokens! YOU ARE UNSTOPPABLE NOW!!!"
	Inventory.PickupSound "Mannco/Special"
	+SLIDESONWALLS
	+CANBLAST
	States
	{
		Spawn:
			GUGT ABCDEFGDHIJDKLMDNOPDQRSDTUVDWXYD 3 Bright
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("Tier1upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier2upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier3upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier4upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier5upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier6upgradetoken",1)
			TNT1 A 0 A_Giveinventory("Tier7upgradetoken",1)
			Stop
	}
}

Actor PistolClip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 12
	ammo.Backpackmaxamount 24
}

Actor Abilitycharge : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 1000
}

Actor UltimateAbilityCharge : Ammo
{
	+inventory.Ignoreskill
	Inventory.MaxAmount 2000
}

ACTOR PeastolClip : Ammo replaces Clip
{
  Inventory.PickupMessage "$GOTCLIP" // "Picked up a clip."
  Inventory.Amount 12
  Inventory.MaxAmount 100
  Ammo.BackpackAmount 24
  Ammo.BackpackMaxAmount 250
  Inventory.Icon "CLIPA0"
  Inventory.Respawntics"2100"
  Inventory.PickupSound "AMMO/CLIP"
  States
  {
  Spawn:
	CLIP A -1
	Stop
  }
}

//-----------------------------
//----< Shawtgun replacer >----
//-----------------------------

Actor Shotgunclip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 6
	ammo.Backpackmaxamount 12
}


Actor D3shotgun : Doomweapon
{
	Weapon.PreferredSkin "Shotgun-Marine"
	Game Doom
	scale 1
	SpawnID 28
	Weapon.SelectionOrder 3
	Weapon.AmmoUse 1
	Weapon.AmmoGive 12
	Weapon.AmmoType "shellz"
	//+WEAPON.NOAUTOAIM
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Weapon.slotnumber 3
	Weapon.Slotpriority 1
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupMessage "$GOTSHOTGUN"
	Inventory.Respawntics"4200"
	Obituary "$OB_MPSHOTGUN"
	Inventory.PickupSound "weapon/singleget"
	attacksound ""
	Tag "$TAG_SHOTGUN"
	States
	{
		Ready:
			FSGA A 0 A_jumpifinventory("Tier2upgradetoken",1,"Goldready")
			FSGA A 1 A_WeaponReady
			Loop
		Deselect:
			FSGA A 0 A_jumpifinventory("Tier2upgradetoken",1,"Golddeselect")
			FSGA AA 0 A_Lower
			FSGA A 1 A_Lower
			Goto Deselect+1
		Select:
			FSGA A 0 A_jumpifinventory("Tier2upgradetoken",1,"goldselect")
			FSGA AA 0 A_Raise
			FSGA A 1 A_Raise
			Goto Select+1
		Fire:
			FSGA A 0 a_jumpifinventory("Tier2upgradetoken",1,"Goldfire")
			FSGA F 1 Bright
			SHTG A 0 A_FireBullets (5.6, 3, 8, 5, "BulletPuff")
			SHTG A 0 A_PlaySound ("weapons/shotgf", CHAN_WEAPON)
			SHTG A 0 A_GunFlash
			FSGA G 1 Bright
			FSGA A 2
			FSGA BC 5
			FSGA D 4
			FSGA CB 5
			FSGA A 3
			FSGA A 7 A_ReFire
			Goto Ready
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
		Goldready:
			FGSG A 1 A_WeaponReady
			Loop
		GoldDeselect:
			FGSG AA 0 A_Lower
			FGSG A 1 A_Lower
			Goto goldDeselect+1
		GoldSelect:
			FGSG AA 0 A_Raise
			FGSG A 1 A_Raise
			Goto goldSelect+1
		Goldfire:
			FSGA A 0 a_jump(50, "Speedfire")
			FGSG B 1 Bright
			SHTG A 0 A_FireBullets (5.6, 3, 8, 6, "BulletPuff")
			SHTG A 0 A_PlaySound ("weapons/shotgf", CHAN_WEAPON)
			SHTG A 0 A_GunFlash
			FGSG C 1 Bright
			FGSG A 2
			FGSG DE 5
			FGSG F 4
			FGSG ED 5
			FGSG A 3
			FGSG A 7 A_ReFire
			Goto Ready
		Speedfire:
			SHTG A 0 A_FireBullets (5.6, 3, 8, 6, "BulletPuff")
			SHTG A 0 A_PlaySound ("weapons/shotgf", CHAN_WEAPON)
			SHTG A 0 A_GunFlash
			FGSG B 1 Bright
			FGSG C 1 Bright
			FGSG A 8
			Goto Ready
		Flash:
			TNT1 A 1 Bright A_Light1
			TNT1 B 1 Bright A_Light2
			Goto LightDone
		Spawn:
			SHOT A -1
			Stop
	}
}

Actor Shotgundrop : CustomInventory //This is to prevent the "CHGCHG SHOTGUN!" sound spam!
{
  Radius 12
  Height 18
  scale 1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a shawtgun weapon"
  States
  {
  Spawn:
	SHOT A -1
	Stop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("Kunaitoken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Gosimertoken",1,"GosimerPickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("D3Shotgun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("Helltechshotgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Misc/W_Pkup",chan_6)
	TNT1 A 0 A_Giveinventory("CombatShotgun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",chan_6)
	TNT1 A 0 A_Giveinventory("DFBlaster")
	Stop
  }
}

Actor Shootgundrop : CustomInventory replaces Shotgun //This is to prevent the "CHGCHG SHOTGUN!" sound spam!
{
  Radius 12
  Height 18
  scale 0.10
  Inventory.Respawntics"2100"
  +INVENTORY.ALWAYSPICKUP  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a shawtgun weapon"
  States
  {
  Spawn:
	SGBX ABC 15 BRIGHT
	loop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("Kunaitoken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Gosimertoken",1,"GosimerPickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("weapon/singleget",Chan_7)
	TNT1 A 0 A_Giveinventory("D3shotgun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("weapon/singleget",CHAN_7)
	TNT1 A 0 A_Giveinventory("Helltechshotgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Weapon/GShotget",CHAN_7)
	TNT1 A 0 A_Giveinventory("CombatShotgun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("DFBlaster")
	Stop
  }
}
//-----------------------------
//--< Super Shotgun replacer>--
//-----------------------------

ACTOR SuperShawtgun : Doomweapon
{
	Weapon.PreferredSkin "SSG-Marine"
	Weapon.SelectionOrder 5
	Weapon.KickBack 512
	Weapon.AmmoUse 2
	Weapon.AmmoGive 8
	Weapon.AmmoType "SuperShellz"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.Respawntics"4200"
	Inventory.PickupMessage "Super shawtgun."
	Obituary "$OB_MPSSHOTGUN"
  //+WEAPON.NOAUTOAIM
	Weapon.slotnumber 3
	Weapon.Slotpriority 2
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.PickupSound "weapon/ssgget"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Tag "Super Shotgun"
	decal bulletchip
	States
	{
		Ready:
			SHT2 S 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldReady")
			SHT2 A 1 A_WeaponReady
			Loop
		GoldReady:
			SHT2 S 1 A_Weaponready
			Loop
		Deselect:
			SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldDeselect")
			TNT1 AA 0 A_Lower
			SHT2 A 1 A_Lower
			Goto Deselect+2
		Select:
			SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldSelect")
			TNT1 AA 0 A_Raise
			SHT2 A 1 A_Raise
			Goto Select+2
		GoldDeselect:
			TNT1 AA 0 A_Lower
			SHT2 S 1 A_Lower
			Goto Deselect+2
		GoldSelect:
			TNT1 AA 0 A_Raise
			SHT2 S 1 A_Raise
			Goto Select+2
		Fire:
			SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"Goldfire")
			SHT2 A 3
			SHT2 A 1 A_FireShotgun2
			SH2F A 1 Bright A_Light1
			SH2F B 1 Bright A_Light2
			SHT2 A 2
			SHT2 B 3
			SHT2 C 4
			SHT2 D 4 A_CheckReload
			SHT2 E 3
			SHT2 F 3 A_OpenShotgun2
			SHT2 G 3
			SHT2 H 3
			SHT2 I 3
			SHT2 J 3 A_LoadShotgun2
			SHT2 K 3
			SHT2 L 3
			SHT2 M 2
			SHT2 M 2 A_PlaySound ("weapons/sshotc", CHAN_WEAPON)
			SHT2 N 2
			SHT2 O 2
			SHT2 P 2
			SHT2 A 2 A_ReFire
			Goto Ready
		GoldFire:
			SHT2 S 3
			SHT2 S 1 A_FireShotgun2
			SH2F Q 1 Bright A_Light1
			SH2F R 1 Bright A_Light2
			SHT2 S 2
			SHT2 B 3
			SHT2 C 4
			SHT2 D 4 A_CheckReload
			SHT2 E 3 A_Jump(100,"Noreload")
			SHT2 F 3 A_OpenShotgun2
			SHT2 G 3
			SHT2 H 3
			SHT2 I 3
			SHT2 J 3 A_LoadShotgun2
			SHT2 K 3
			SHT2 L 3
			SHT2 M 2
			SHT2 M 2 A_PlaySound ("weapons/sshotc", CHAN_WEAPON)
			SHT2 N 2
			SHT2 O 2
			SHT2 P 2
			SHT2 S 2 A_ReFire
			Goto GoldReady
		Noreload:
			SHT2 B 3
			SHT2 S 2
			Goto Ready
			// unused states
			SHT2 B 7
			SHT2 S 3
			Goto Deselect
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
		Flash:
			TNT1 A 1 Bright A_Light1
			TNT1 A 2 Bright A_Light2
			Goto LightDone
			
		Spawn:
			SGN2 A -1
			Stop
	}
}



Actor ssgdrop : CustomInventory replaces Supershotgun
{
	Radius 12
	Height 18
	scale 0.1
	Inventory.Respawntics"4200"
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupSound ""
	Inventory.PickupMessage "You got a Supahshawtgun weapon"
	States
	{
		Spawn:
			SSGB ABC 15 BRIGHT
			LOOP
		pickup:
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
			TNT1 A 0 A_Playsound("weapon/Fssgget",Chan_7)
			TNT1 A 0 A_Giveinventory("SuperShawtgun")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("Weapon/StreetsweeperGet",Chan_7)
			TNT1 A 0 A_Giveinventory("Streetsweeper")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Weapon/PRotoget",Chan_7)
			TNT1 A 0 A_Giveinventory("BurstShotgun")
			Stop
		Maxpickup:
			TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
			TNT1 A 0 A_Giveinventory("FusionCutter")
			Stop
	}
}

ACTOR ShellZ : Ammo
{
  Inventory.PickupMessage "Picked up 2 shotgun + SSG Shells"
  Inventory.Amount 2
  Inventory.MaxAmount 50
  Ammo.BackpackMaxAmount 150
  Inventory.Respawntics"4200"
  Inventory.Icon "SHELA0"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHEL A -1
	Stop
  }
}

ACTOR SuperShellZ : Ammo
{
  Inventory.PickupMessage "Picked up 10 shotgun + SSG Shells"
  Inventory.Amount 2
  Inventory.MaxAmount 50
  Ammo.BackpackMaxAmount 150
  Inventory.Respawntics"4200"
  Inventory.Icon "SHELA0"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHEL A -1
	Stop
  }
}

ACTOR Shellbawx : CustomInventory replaces shellbox
{
  Inventory.PickupMessage "Picked up a box of 10 shotgun + SSG shells."
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/SHELBAWX"
  States
  {
  Spawn:
	SBOX A 1
	loop
	pickup:
	TNT1 A 0 A_Giveinventory("Shellz",10)
	TNT1 A 0 A_Giveinventory("SuperShellZ",10)
	Stop
  }
}

ACTOR Smallshellz : CustomInventory replaces shell
{
  Inventory.PickupMessage "Picked up 2 Shotgun + SSG Shells."
  Inventory.Respawntics"2800"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHLZ A 1
	loop
	pickup:
	TNT1 A 0 A_Giveinventory("Shellz",2)
	TNT1 A 0 A_Giveinventory("Supershellz",2)
	Stop
  }
}

//-----------------------------
//----< Chaingun replacer >----
//-----------------------------

ACTOR D3Machinegun : Doomweapon  //This weapon used to be an AK47 weapon (golden souls mod)
{
  Tag "Minigun"
  Weapon.PreferredSkin "Minigun-Marine"
  //$Category Weapons
  Weapon.SelectionOrder 3
  Weapon.AmmoUse 1
  Weapon.AmmoGive 20
  decal Bulletchip
  Weapon.AmmoType "AK_Mag"  //Old ak ammo type, before it changed to a minigun, (too lazy to change)
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
  //+WEAPON.NOAUTOAIM
  Inventory.Respawntics"4200"
  Inventory.PickupSound "weapon/Miniget"
	Weapon.slotnumber 4
	Inventory.ForbiddenTo "Maximusprime"
  Inventory.ForbiddenTo "Kunai"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.RestrictedTo "Fiend"
  Obituary "%o was in %k's sights"
  Inventory.Pickupmessage "You picked up a Minigun"
	States
	{
	 Ready:
		FGN4 A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 AA 0 A_Lower
		FGN4 A 1 A_Lower
		Loop
	Select:
			TNT1 AA 0 A_Raise
			FGN4 A 1 A_Raise
			Loop
	Fire:
		NULL A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Ragefire")
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		COLT B 0 A_FireBullets(3, 3, 1, 5, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", chan_Weapon)
		FGF4 C 1
		FGF4 D 1
		FGN4 C 1
		FGN4 D 1
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		COLT B 0 A_FireBullets(3, 3, 1, 5, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon)
		FGF4 A 1
		FGF4 B 1
		FGN4 C 1
		FGN4 D 1
		FGN4 A 2 A_ReFire
		FGN4 B 3 A_WeaponReady
		FGN4 C 3 A_WeaponReady
		FGN4 D 3 A_WeaponReady
		FGN4 A 4 A_WeaponReady
		FGN4 B 4 A_WeaponReady
		FGN4 C 4 A_WeaponReady
		FGN4 D 5 A_WeaponReady
		FGN4 A 5 A_WeaponReady
		FGN4 B 5 A_WeaponReady
		FGN4 C 6 A_WeaponReady
		FGN4 D 6 A_WeaponReady
		FGN4 A 7 A_WeaponReady
		FGN4 B 7 A_WeaponReady
		FGN4 C 7 A_WeaponReady
		FGN4 D 7 A_WeaponReady
		FGN4 A 8 A_WeaponReady
		FGN4 B 8 A_WeaponReady
		FGN4 C 9 A_WeaponReady
		FGN4 D 9 A_WeaponReady

	Goto Ready
		RageFire:
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		COLT B 0 A_FireBullets(3, 3, 2, 5, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon)
		FGF4 C 1
		FGN4 C 1
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		COLT B 0 A_FireBullets(3, 3, 2, 5, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon)
		FGF4 A 1
		FGN4 C 1
		Fgn4 A 0 A_Refire
		FGN4 D 1 A_WeaponReady
		FGN4 A 2 A_WeaponReady
		FGN4 B 3 A_WeaponReady
		FGN4 C 3 A_WeaponReady
		FGN4 D 3 A_WeaponReady
		FGN4 A 4 A_WeaponReady
		FGN4 B 4 A_WeaponReady
		FGN4 C 4 A_WeaponReady
		FGN4 D 5 A_WeaponReady
		FGN4 A 5 A_WeaponReady
		FGN4 B 5 A_WeaponReady
		FGN4 C 6 A_WeaponReady
		FGN4 D 6 A_WeaponReady
		FGN4 A 7 A_WeaponReady
		FGN4 B 7 A_WeaponReady
		FGN4 C 7 A_WeaponReady
		FGN4 D 7 A_WeaponReady
		FGN4 A 8 A_WeaponReady
		FGN4 B 8 A_WeaponReady
		FGN4 C 9 A_WeaponReady
		FGN4 D 9 A_WeaponReady
		Goto Ready
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
  Spawn:
	MGUN A -1
	Stop
  }
}

Actor AK47drop : CustomInventory //This is to prevent the "CHGCHG Machinegun!" sound spam!
{
  Radius 12
  Height 18
  scale 1
	Inventory.Respawntics"4200"
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a Machinegun weapon"
  States
  {
  Spawn:
	MGUN A -1
	Stop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("d3machinegun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("PDW")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("HMachinegun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("Autogun")
	Stop
  }
}

Actor Chaingundrop : CustomInventory replaces Chaingun //This is to prevent the "CHGCHG Machinegun!" sound spam!
{
  Radius 12
  Height 18
  scale 0.1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a Machinegun weapon"
  States
  {
  Spawn:
	CGBX ABC 15 BRIGHT
	loop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_playsound("Weapon/Miniget",Chan_7)
	TNT1 A 0 A_Giveinventory("D3Machinegun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/lmgget",Chan_7)
	TNT1 A 0 A_Giveinventory("PDW")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("Weapon/Ripperget",Chan_7)
	TNT1 A 0 A_Giveinventory("HMachinegun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("Autogun")
	Stop
  }
}

ACTOR Ak_Mag : Ammo
{
  //$Category Ammunition
  Inventory.PickupMessage "Picked up an AK Magazine."
  Inventory.Amount 75
  Inventory.MaxAmount 250
  Ammo.BackpackAmount 75
  Inventory.Respawntics"4200"
  Ammo.BackpackMaxAmount 500
  Inventory.Icon "AKAMA0"
  Inventory.PickupSound "AMMO/AKMAG"
  States
  {
  Spawn:
	AKAM A -1
	Stop
  }
}

ACTOR Ak_MagSpecial : CustomInventory replaces Clipbox
{
  //$Category Ammunition
  Inventory.PickupMessage "Picked up an Machinegun Magazine."
  Inventory.Respawntics"4200"
  States
  {
  Spawn:
	AKAM A -1
	Stop
   pickup:
	TNT1 A 0 A_Giveinventory("AK_MAG",75)
	TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"AMMO")
	Stop
  AMMO:
	TNT1 A 0 A_Playsound("Jim/taunt10",Chan_6)
	Stop
  }
}
//-------------------------------------
//----< Rawket lawnchair replacer >----
//-------------------------------------

ACTOR Rawketlawnchair : DoomWeapon //Zdoom spriting carnival
{
	Game Doom
	Weapon.PreferredSkin "rocket-Marine"
	Scale 0.8
	SpawnID 29
	Weapon.SelectionOrder 5
	Weapon.AmmoUse 1
	Weapon.Ammogive 5
	Weapon.AmmoType "RoketAmmo"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	//+WEAPON.NOAUTOAIM
	+WEAPON.NOAUTOFIRE
	Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupSound "weapon/rocketget"
	Inventory.PickupMessage "$GOTLAUNCHER"
	States
	{
		Ready:
			FRLG A 1 A_WeaponReady
			Loop
		Deselect:
			TNT1 AA 0 A_lower
			FRLG A 1 A_Lower
			Goto Deselect+1
		Select:
			TNT1 AA 0 A_Raise
			FRLG A 1 A_Raise
			Goto Select+1
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
		Fire:
			FRLF A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldfire")
			FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
			FRLF A 1 Bright A_GunFlash
			FRLF A 0 A_FireCustomMissile("FiendsRawket",0,1,0,0,0)
			FRLF B 1 Bright
			FRLF C 1 Bright
			FRLF D 2
			FRLF E 2
			FRLF F 1
			FRLF G 1
			FRLF H 1
			FRLF I 1
			FRLF J 1
			FRLF K 1
			FRLF L 1
			FRLF M 1
			FRLF N 1
			FRLF O 1
			FRLF P 1
			FRLF Q 4
			FRLG A 0 A_ReFire
			Goto Ready
		GoldFire:
			FRLF A 0 A_Jump(100,"Critfire")
			FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
			FRLF A 1 Bright A_GunFlash
			FRLF A 0 A_FireCustomMissile("FiendsRawket",0,1,0,0,0)
			FRLF B 1 Bright
			FRLF C 1 Bright
			FRLF D 2
			FRLF E 2
			FRLF F 1
			FRLF G 1
			FRLF H 1
			FRLF I 1
			FRLF J 1
			FRLF K 1
			FRLF L 1
			FRLF M 1
			FRLF N 1
			FRLF O 1
			FRLF P 1
			FRLF Q 4
			FRLG A 0 A_ReFire
			Goto Ready
		CritFire:
			FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
			NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
			FRLF A 1 Bright A_GunFlash
			FRLF A 0 A_FireCustomMissile("FiendsCRocket",0,1,0,0,0)
			FRLF B 1 Bright
			FRLF C 1 Bright
			FRLF D 2
			FRLF E 2
			FRLF F 1
			FRLF G 1
			FRLF H 1
			FRLF I 1
			FRLF J 1
			FRLF K 1
			FRLF L 1
			FRLF M 1
			FRLF N 1
			FRLF O 1
			FRLF P 1
			FRLF Q 4
			FRLG A 0 A_ReFire
			Goto Ready
		Flash:
			TNT1 A 3 Bright A_Light1
			TNT1 A 4 Bright
			TNT1 AA 4 Bright A_Light2
			Goto LightDone
		Spawn:
			LAUN A -1
			Stop
	}
}

Actor RLdrop : CustomInventory replaces Rocketlauncher
{
	Radius 12
	Height 18
	scale 0.1
	Inventory.Respawntics 6300
	Inventory.PickupSound ""
	Inventory.PickupMessage "You got an Explosive weapon"
	+INVENTORY.ALWAYSPICKUP
	States
	{
		Spawn:
			RLBX ABC 15 BRIGHT
			loop
		pickup:
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
			TNT1 A 0 A_playsound("Weapon/Rocketget",Chan_7)
			TNT1 A 0 A_Giveinventory("Rawketlawnchair")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("Weapon/Bowget",Chan_7)
			TNT1 A 0 A_Giveinventory("Cryobow")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Weapon/Nadeget",Chan_7)
			TNT1 A 0 A_Giveinventory("BoomToob")
			Stop
		Maxpickup:
			TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
			TNT1 A 0 A_Giveinventory("MortarGun")
			Stop
	}
}

ACTOR Roketammo : Ammo replaces Rocketammo
{
	Inventory.PickupMessage "$GOTROCKET" // "Picked up a rocket."
	Inventory.Amount 1
	Inventory.MaxAmount 50
	Inventory.Respawntics 6300
	Ammo.BackpackAmount 1
	Ammo.BackpackMaxAmount 100
	Inventory.Icon "ROCKA0"
	Inventory.PickupSound "AMMO/ROKET"
	States
	{
		Spawn:
			ROCK A -1
			Stop
	}
}

ACTOR RoketBox : Roketammo
{
	Inventory.PickupMessage "$GOTROCKBOX" // "Picked up a box of rockets."
	Inventory.Amount 5
	Inventory.Respawntics"6300"
	Inventory.PickupSound "AMMO/ROKETBAWX"
	States
	{
		Spawn:
			BROK A -1
			Stop
	}
}

//---------------------------
//----< Plasma replacer >----
//---------------------------


//Removed for balance reasons. < Used to be for a Reload mechanic >
Actor Plasmaclip : Ammo
{
	Inventory.MaxAmount 100
}


ACTOR DEPlasmaRifle : DoomWeapon
{
	Game Doom
	Scale 1

	Weapon.SelectionOrder 1
	Weapon.AmmoUse 1
	Weapon.Ammogive 40
	Weapon.AmmoType "Battery"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Weapon.SlotNumber 6
	Weapon.Slotpriority 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.Restrictedto "Fiend"
	Inventory.Respawntics"4200"
	Inventory.PickupSound "weapon/plasmaget"
	Inventory.PickupMessage "$GOTPLASMA"
	States
	{
		Ready:
			FPLG A 1 A_WeaponReady
			Loop
		Deselect:
			TNT1 AA 0 A_Lower
			FPLG A 1 A_Lower
			Goto Deselect+1
		Select:
			TNT1 AA 0 A_Raise
			FPLG A 1 A_Raise
			Goto Select+1
		Fire:
			TNT1 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"Goldfire")
			TNT1 A 0 A_JUMP(250, "Muzzleflash1","Muzzleflash2")
		Muzzleflash1:
			FPLF A 2 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
			FPLF B 1
			FPLG A 1 A_REFIRE("Fire")
			Goto Ready
		Muzzleflash2:
			FPLF C 2 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
			FPLF B 1
			FPLG A 1 A_REFIRE("Fire")
			Goto Ready
		GoldFire:
			TNT1 A 0 A_JUMP(250, "GOLDMuzzleflash1","GOLDMuzzleflash2")
		GOLDMuzzleflash1:
			FPLF A 1 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
			FPLF B 1
			FPLG A 1 A_REFIRE("GoldFire")
			Goto Ready
		GOLDMuzzleflash2:
			FPLF C 1 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
			FPLF B 1
			FPLF B 1 A_REFIRE("GoldFire")
			Goto Ready
		Altfire:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
		Flash:
			TNT1 A 2 Bright A_Light1
			TNT1 A 1 A_Light0
			TNT1 A 2 Bright A_Light1
			TNT1 A 1 A_Light0
			Goto LightDone
		Spawn:
			DEPG A -1
			Stop
	}
}




Actor Highnoon : Inventory
{
	Radius 12
	Height 18
	scale 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "Reach for the sky!"
	States
	{
		Spawn:
			PIST A -1
			Stop
	}
}

ACTOR Battery : AMMO
{
	Inventory.PickupMessage "$GOTCELL" // "Picked up an energy cell."
	Inventory.Amount 20
	Inventory.MaxAmount 300
	Ammo.BackpackAmount 20
	Ammo.BackpackMaxAmount 800
	Inventory.Icon "CELLA0"
	Inventory.Respawntics"4200"
	Inventory.PickupSound "AMMO/BATTERY"
	States
	{
		Spawn:
			CELL A -1
			Stop
	}
}


ACTOR Railslugs : AMMO
{
	Inventory.PickupMessage "you have collected some Rail Slug(s)!"
	Inventory.Amount 5
	Inventory.MaxAmount 25
	Ammo.BackpackAmount 10
	Ammo.BackpackMaxAmount 50
	Inventory.Icon "CELLA0"
	Inventory.Respawntics"4200"
	Inventory.PickupSound "AMMO/BATTERY"
	States
	{
		Spawn:
			CELL A -1
			Stop
	}
}

Actor Batteryspecial : CustomInventory Replaces Cell
{
	Radius 12
	Height 18
	scale 1
	Inventory.Respawntics"8400"
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You picked up a Large battery and 5 Rail Slugs!"
	Inventory.PickupSound "AMMO/BATTERYPAK"
	States
	{
		Spawn:
			CELL A -1
			Stop
		pickup:
			TNT1 A 0 A_Giveinventory("Battery",40)
			TNT1 A 0 A_Giveinventory("RailSLUGS",5)
			TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"Plasma")
			Stop
		Plasma:
			TNT1 A 0 A_Playsound("Jim/taunt6",Chan_6)
			Stop
	}
}


Actor Batterypackspecial : CustomInventory Replaces Cellpack
{
	Radius 12
	Height 18
	scale 1
	Inventory.Respawntics"8400"
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You picked up a Large battery and 2 bfg Charges"
	Inventory.PickupSound "AMMO/BATTERYPAK"
	States
	{
		Spawn:
			CELP A -1
			Stop
		pickup:
			TNT1 A 0 A_Giveinventory("Battery",100)
			TNT1 A 0 A_Giveinventory("BFGCHARGE",2)
			TNT1 A 0 A_Giveinventory("Lightningammo",50)
			TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"Tender")
			Stop
		Tender:
			TNT1 A 0 A_Playsound("Jim/taunt4",Chan_6)
			Stop
	}
}
ACTOR Lightningammo : Ammo
{
	Inventory.PickupMessage "Got Lightning gun ammo (gosimers ammo source only!)" // "Picked up an BFG CHARGE!"
	Inventory.Amount 50
	Inventory.MaxAmount 150
	Ammo.BackpackAmount 25
	Ammo.BackpackMaxAmount 200
	Inventory.Icon "CELLA0"
	Inventory.Respawntics"4200"
	Inventory.PickupSound "AMMO/BATTERY"
	States
	{
		Spawn:
			CELL A -1
			Stop
	}
}

ACTOR batteryPack : Battery
{
	Inventory.PickupMessage "$GOTCELLBOX" // "Picked up an energy cell pack."
	Inventory.Amount 100
	Inventory.Respawntics"4200"
	Inventory.PickupSound "AMMO/BATTERYPAK"
	States
	{
		Spawn:
			CELP A -1
			Stop
	}
}

Actor PLASMAdrop : CustomInventory replaces Plasmarifle
{
  Radius 12
  Height 18
  scale 0.1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.Respawntics"8400"
   Inventory.PickupMessage "You got a Plasma Weapon!"
  States
  {
  Spawn:
	PRBX ABC 15 Bright
	loop
  pickup:
	TNT1 A 0 A_JumpifInventory ("Fiendtoken", 1,"Fiendpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_Playsound("Weapon/thunderboltget",Chan_7)
	TNT1 A 0 A_Giveinventory("Lightning_Rifle")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/ChannlerGet",Chan_6)
	TNT1 A 0 A_Giveinventory("Channeler")
	Stop
  Fiendpickup:
	TNT1 A 0 A_Playsound("weapon/Plasmaget",Chan_7)
	TNT1 A 0 A_Giveinventory("DEPlasmaRifle")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("ConcRifle")
	Stop
  }
}

//--------------=-------------
//----< Bfg9000 replacer >----
//---------------=------------


ACTOR BFGCHARGE : Ammo
{
	Inventory.PickupMessage "Got a bfg charge!" // "Picked up an BFG CHARGE!"
	Inventory.Amount 2
	Inventory.MaxAmount 10
	Ammo.BackpackAmount 3
	Ammo.BackpackMaxAmount 20
	Inventory.Icon "CELLA0"
	Inventory.Respawntics"8400"
	Inventory.PickupSound "AMMO/BATTERY"
	States
	{
		Spawn:
			CELL A -1
			Stop
	}
}


/*ACTOR DEBFG9500 : DoomWeapon  //Sprites from Shivers
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.AmmoUse 1
	Weapon.AmmoGive 2
	Weapon.AmmoType "bfgcharge"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.Respawntics"10500"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupSound "weapon/bfgget"
	Weapon.PreferredSkin "BFG-Marine"
	Inventory.PickupMessage "$GOTBFG9000"
	States
	{
	Ready:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldReady")
		DBFG A 1 A_WeaponReady
		Loop
	Deselect:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldDeselect")
		DBFG A 1 A_Lower
		loop
	Select:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldSelect")
		DBFG A 1 A_Raise
		Loop
	Altfire:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto Ready
		RLGG A 1 Offset ( -26, 70 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto ALTFirestop
		RLGF A 1 Bright
		RLGG B 1 Bright
		RLGG C 1 Bright
		RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
		RLGG D 1 A_Takeinventory("AbilityCharge",2)
		RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
		RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
		RLGG A 1 A_Refire
	ALTFirestop:
		RLGG A 4 Offset ( 0, 32 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 1 Offset ( -26, 70 )
		goto Ready

	Fire:
		DBFG A 0 A_Jumpifinventory("Tier7upgradetoken",1,"Goldfire")
		DBFG B 10 A_PlaySound("9kbfg", chan_weapon)
		DBFC ABCDE 2 Bright
		DBFC F 2 Bright A_GunFlash
		DBFC GHIJ 2 Bright
		DBFF A 2 Bright A_FireCustomMissile("kewlbfg",0,1,0,0)
		DBFF B 2 Bright
		DBFG CDA 2 Bright
		DBFG A 20 A_ReFire
		Goto Ready

//GOLD FIRE
	GOLDReady:
		GBFG A 1 A_WeaponReady
		Loop
	GOLDDeselect:
		GBFG A 1 A_Lower
		loop
	GOLDSelect:
		TNT1 A 0 A_giveinventory("Tier7upgradetoken", 1)
		GBFG A 1 A_Raise
		Loop
	Goldfire:
		GBFG B 10 A_PlaySound("9kbfg", chan_weapon)
		GBFC ABCDE 2 Bright
		GBFC F 2 Bright A_GunFlash
		GBFC GHIJ 2 Bright
		GBFF A 2 Bright A_FireCustomMissile("REDkewlbfg",0,1,0,0)
		GBFF B 2 Bright
		GBFG CDA 2 Bright
		GBFG A 20 A_ReFire
		Goto GoldReady
	Flash:
		TNT1 A 5 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		DEBF A -1
		Stop
	}
}

*/

ACTOR DEBFG9500 : BFG9000
{
  Game Doom
  Scale 0.8
  Height 20
  SpawnID 31
  Weapon.SelectionOrder 7
  Weapon.AmmoUse 1
  Weapon.AmmoGive 1
  Weapon.AmmoType "bfgcharge"
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
Weapon.SlotNumber 7
  Inventory.Forbiddento "Maximusprime"
  Inventory.Respawntics"10500"
  Inventory.ForbiddenTo "Kunai"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.RestrictedTo "Fiend"
  Inventory.PickupSound "weapon/bfgget"
  Tag "BFG9K"
  Obituary "%o was vapourized by %k's bfg blast"
  States
  {
	Spawn:
		BFUG A -1
		Stop
	Select:
		TNT1 A 0
		TNT1 A 0 A_StopSound(CHAN_WEAPON)
		BFKN A 0 A_Raise
		BFKN A 1 A_Raise
		Loop
	Deselect:
		TNT1 A 0
		TNT1 A 0 A_StopSound(CHAN_WEAPON)
		BFKN A 0 A_Lower
		BFKN A 1 A_Lower
		Loop
	Ready:
		BFKN A 0
		BFKN AAQQRRQQ 1 A_WeaponReady
		Loop
	Fire:
		BFKN A 0 A_JumpIfInventory("Tier7upgradetoken",1,"Goldfire")
//		BFKN A 0 Bright A_Quake(1, 30, 0, 345, "none")
//		BFKN A 0 A_PlaySound("9kbfg", CHAN_7, 0.35, 0)
		BFKN A 0 A_PlaySound("BFG/Fire", CHAN_WEAPON, 1.0, 0)
		BFKN AAABBBCCDDEEFFGGHHIIJJ 1 Bright
		BFKN K 0 A_SetBlend("Green", 0.35, 18)
//		BFKN K 0 A_Quake(6, 15, 0, 450, "none")
		BFKN K 0 A_FireCustomMissile("kewlbfg", 0, 1)
		BFKN KLM 2 Bright
//		BFKN K 0 A_Quake(1, 20, 0, 450, "none")
		BFKN NOPQR 2 Bright
		BFKN R 2 A_Refire
		Goto Ready
	GoldFire:
		BFKN A 0
//		BFKN A 0 Bright A_Quake(1, 30, 0, 345, "none")
//		BFKN A 0 A_PlaySound("9kbfg", CHAN_7, 0.35, 0)
		BFKN A 0 A_PlaySound("BFG/Fire", CHAN_WEAPON, 1.0, 0)
		BFKN AAABBBCCDDEEFFGGHHIIJJ 1 Bright
		BFKN K 0 A_SetBlend("Green", 0.35, 18)
//		BFKN K 0 A_Quake(6, 15, 0, 450, "none")
		BFKN K 0 A_FireCustomMissile("REDKEWLBFG", 0, 1)
		BFKN KLM 2 Bright
//		BFKN K 0 A_Quake(1, 20, 0, 450, "none")
		BFKN NOPQR 2 Bright
		BFKN R 2 A_Refire
	Goto Ready
		Altfire:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto Ready
		RLGG A 1 Offset ( -26, 70 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto ALTFirestop
		RLGF A 1 Bright
		RLGG B 1 Bright
		RLGG C 1 Bright
		RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
		RLGG D 1 A_Takeinventory("AbilityCharge",2)
		RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
		RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 10, 1.0, 4.0, "Healgunblast")
		RLGG A 1 A_Refire
	ALTFirestop:
		RLGG A 4 Offset ( 0, 32 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 1 Offset ( -26, 70 )
		goto Ready
  }
}

Actor bfgdrop : CustomInventory replaces Bfg9000
{
  Radius 12
  Height 18
  scale 0.1
	Inventory.Respawntics"21000"
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a BFG Weapon!"
  States
  {
  Spawn:
	9KBX ABC 15 BRIGHT
	LOOP
  pickup:
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_Playsound("weapon/bfgget",Chan_7)
	TNT1 A 0 A_Giveinventory("debfg9500")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/Vortexget",Chan_6)
	TNT1 A 0 A_Giveinventory("Vortexgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Weapon/devistatorget",Chan_7)
	TNT1 A 0 A_Giveinventory("micro_Devistator")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("AssaultCannon")
	Stop
  }
}

//Kunais Class Weapons

ACTOR Kunaisrevolver : weapon //Weapon base from Golden souls
{
  Weapon.SelectionOrder 7
  Weapon.PreferredSkin "Pistol-Marine"
  Weapon.SlotNumber 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 0
	Weapon.AmmoGive1 18
	+WEAPON.NOAUTOAIM
	+DONTGIB
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.PickupSound "misc/w_pkup"
	Weapon.AmmoType1 "Peastolclip"
	Weapon.AmmoType2 "REV_SHOT"
	decal bulletchip
	States
	{
	Ready:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldready")
		NULL A 0 A_JumpIfInventory("Reload",0,"Reload")
		COLT A 1 A_WeaponReady (WRF_ALLOWRELOAD)
		Loop
	Deselect:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddeselect")
		NULL A 0 A_TakeInventory("Reload",1)
		COLT A 1 A_Lower
		loop
	Select:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldSelect")
		COLT A 1 A_Raise
		Loop
	Fire:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Dryfire
		COLT A 1 A_TakeInventory("REV_SHOT",1)
		COLT B 1 A_Playsound("REVFIRE", CHAN_WEAPON)
		TNT1 A 0 A_GUNFLASH
		COLT C 1 BRIGHT A_FireBullets(0, 0, -1, 20,"BulletPuff",1)
		TNT1 A 0
		COLT D 1
		TNT1 A 0
		COLT E 4
		COLT D 5
		COLT A 1 A_refire
		Goto Ready
	ALTFIRE:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldAltFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto AltfireDry
		HCLT A 4
		HCLT B 4
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		HCLT F 4
		HCLT G 4
		goto Reload
	GoldALTFIRE:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"HNGoldaltfire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Golddry
		HGLT A 4
		HGLT B 4
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
	HNGoldaltfire:
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Golddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
	AltfireDry:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddry")
		HCLT A 4
		HCLT B 4
		HCLT C 4
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HCLT F 4
		HCLT G 4
		COLT A 4
		Goto Reload
	GoldDry:
		HGLT A 4
		HGLT B 4
		HGLT C 4
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HGLT F 4
		HGLT G 4
		GOLT A 4
		Goto Reload
	HNGoldDry:
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HGLT F 4
		HGLT G 4
		GOLT A 4
		Goto Reload
	HNDry:
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HCLT F 4
		HCLT G 4
		COLT A 4
		Goto Reload
	Reload:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldreload")
		NULL A 0 A_TakeInventory("Reload",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"Ready")
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1)
		Goto Ready
		NULL A 0 A_PlaySound("REVOPEN",chan_5)
	    	COLT FGHIJ 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVEJECT",chan_5)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		COLT K 2 A_WeaponReady(WRF_NOFIRE)
		COLT LM 2 A_WeaponReady(WRF_NOFIRE)
		COLT M 10 A_WeaponReady(WRF_NOFIRE)
		COLT ML 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVINSERT",chan_5)
		COLT KJIHGF 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVCLOSE",chan_5)
		COLT A 2 A_WeaponReady(WRF_NOFIRE)
	ReloadAmmoLoop:
		NULL A 0 A_TakeInventory("Peastolclip",1)
		NULL A 0 A_GiveInventory("REV_SHOT",1)
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1) // if not out of ammo, countinue reloading
		goto ReloadEnd
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"ReloadEnd") // if clip full, finish reload
		goto ReloadAmmoLoop // otherwise continue
	ReloadEnd:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReloadend")
		COLT A 1 A_WeaponReady(WRF_NOFIRE)
		COLT A 1 A_weaponready
		COLT A 0 A_Jump(25,"Highnooncheck")
		Goto Ready
	GoldReload:
		NULL A 0 A_TakeInventory("Reload",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"Ready")
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1)
		Goto Ready
		NULL A 0 A_PlaySound("REVOPEN",chan_5)
	    	GOLT FGHIJ 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVEJECT",chan_5)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		GOLT K 2 A_WeaponReady(WRF_NOFIRE)
		GOLT LM 2 A_WeaponReady(WRF_NOFIRE)
		GOLT M 10 A_WeaponReady(WRF_NOFIRE)
		GOLT ML 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVINSERT",chan_5)
		GOLT KJIHGF 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVCLOSE",chan_5)
		GOLT A 2 A_WeaponReady(WRF_NOFIRE)
		Goto ReloadAmmoLoop
	GoldReloadEnd:
		GOLT A 1 A_WeaponReady(WRF_NOFIRE)
		GOLT A 1 A_weaponready
		GOLT A 0 A_Jump(25,"Highnooncheck")
		Goto Ready
	Highnooncheck:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"ItsHighnoon")
		Goto Ready
	ItsHighnoon:
		NULL A 0 A_Giveinventory("Highnoon",1)
		HGLT A 4 ACS_Namedexecutewithresult("sv_highnoon")
		HGLT B 4
		HGLT C 70
		HGLT C 4 A_WeaponReady(WRF_NOSECONDARY)
		Goto ItsHighnoon+4
	Deadeyeready:
		HGLT B 4
		HGLT C 4
		HGLT C 4 A_WeaponReady
		Goto Deadeyeready+2

	Flash:
		TNT1 A 2 A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	DryFire:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GolddryFire")
		COLT A 1 A_WeaponReady(WRF_NOFIRE)
		COLT A 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		COLT B 2 A_WeaponReady(WRF_NOFIRE)
		Goto Reload
	GoldDryFire:
		GOLT A 1 A_WeaponReady(WRF_NOFIRE)
		GOLT A 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		GOLT B 2 A_WeaponReady(WRF_NOFIRE)
		Goto Reload
	GoldReady:
		TNT1 A 0 A_giveinventory("Tier1upgradetoken", 1)
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"Deadeyeready")
		NULL A 0 A_JumpIfInventory("Reload",0,"Reload")
		GOLT A 1 A_WeaponReady (WRF_ALLOWRELOAD)
		Loop
	GoldDeselect:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"HighnoonDeselect")
		NULL A 0 A_TakeInventory("Reload",1)
		GOLT A 1 A_Lower
		loop
	HighnoonDeselect:
		NULL A 0 A_TakeInventory("Reload",1)
		HGLT F 4
		HGLT G 4
		GOLT A 1 A_Lower
		Goto HighnoonDeselect+3
	GoldSelect:
		GOLT A 1 A_Raise
		Loop
	GoldFire:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"DeadeyeFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Dryfire
		GOLT A 1 A_TakeInventory("REV_SHOT",1)
		GOLT B 1 A_Playsound("REVFIRE", CHAN_WEAPON)
		TNT1 A 0 A_GUNFLASH
		GOLT C 1 BRIGHT A_FireBullets(2, 2, -1, 25,"BulletPuff",1)
		GOLT D 1
		GOLT E 4
		GOLT D 5
		GOLT A 1 A_refire
		Goto Ready
	DeadeyeFire:
		NULL A 0 A_TakeInventory("Highnoon",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGCT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
		  Spawn:
	PIST A -1
	Stop
	}
}


actor REV_Shot : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 6
}

//Kunai Single Shotgun
ACTOR Helltechshotgun : weapon //Weapon from Laundry
{
	Weapon.SelectionOrder 6
	Weapon.SlotNumber 3
	Inventory.Forbiddento "Maximusprime"
	Weapon.PreferredSkin "Shotgun-Marine"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse1 1
	Weapon.AmmoGive 8
	Inventory.Respawntics"4200"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	+WEAPON.NOAUTOAIM
	Inventory.PickupSound "weapon/singleget"
	Weapon.BobStyle "InverseSmooth"
	Weapon.AmmoType "Shellz"
	decal bulletchip
	States
	{
	Ready:
		SNGL A 0 A_Jumpifinventory("tier2upgradetoken",1,"GoldReady")
		SNGL A 1 A_WeaponReady
		Loop
	Deselect:
		SNGL A 0 A_Jumpifinventory("tier2upgradetoken",1,"GoldDeselect")
		SNGL A 1 A_Lower
		Loop
	Select:
		SNGL A 0 A_Jumpifinventory("tier2upgradetoken",1,"GoldSelect")
		SNGL A 1 A_Raise
		Loop
	Fire:
		SNGL A 0 A_Jumpifinventory("tier2upgradetoken",1,"GoldFire")
		SNGL A 1 A_Playsound("Kunaishotgun_FIRE",Chan_weapon)
		SNGL A 0 A_GUNFLASH
		SNGL B 1 BRIGHT A_FireBullets (3, 3, 10, 5, "BulletPuff")
		SNGL C 1 BRIGHT
		SNGL D 1 BRIGHT
		SNGL E 1
		SNGL F 1
		SNGL G 2
		SNGL H 3
		SNGL A 4
		SNGL I 3
		SNGL J 3
		SNGL K 5 A_playsound("Kunaishotgun_Pump",Chan_6)
		SNGL L 7
		SNGL K 5
		SNGL IH 3
		SNGL A 7 A_ReFire
		Goto Ready
	Altfire:
		SNGL A 0 A_Jumpifinventory("tier2upgradetoken",1,"Goldaltfire")
		SNGL A 0 A_Print("Missing Hellshot attachment!")
		Goto ready
	Goldaltfire:
		KSGG A 0 A_Print("Function not yet complete!")
		Goto Goldfire
	GoldReady:
		KSGG A 1 A_WeaponReady
		Loop
	GoldDeselect:
		KSGG A 1 A_Lower
		Loop
	GoldSelect:
		SNGL A 1 A_Raise
		Loop
	GoldFire:
		KSGG A 1 A_Playsound("Kunaishotgun_FIRE",Chan_weapon)
		KSGG A 0 A_GUNFLASH
		KSGG B 1 BRIGHT A_FireBullets (3, 3, 10, 5, "BulletPuff")
		KSGG C 1 BRIGHT
		KSGG D 1 BRIGHT
		KSGG E 1
		KSGG F 1
		KSGG G 2
		KSGG H 3
		KSGG A 4
		KSGG I 3
		KSGG J 3
		KSGG K 5 A_playsound("Kunaishotgun_Pump",Chan_6)
		KSGG L 7
		KSGG K 5
		KSGG IH 3
		KSGG A 7 A_ReFire
		Goto Ready
	Flash:
		TNT1 A 1 Bright A_Light1
		TNT1 A 1 Bright A_Light2
		TNT1 A 1 Bright A_Light1
		Goto LightDone
	Spawn:
		SHOT A -1
		Stop
	}
}

ACTOR CryoBow : Weapon
{
	Weapon.PreferredSkin "ROCKET-Marine"
	Weapon.AmmoType "RoketAmmo"
	Weapon.SelectionOrder 2
	Weapon.AmmoUse 1
	Weapon.AmmoGive 5
	Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Inventory.Respawntics"4200"
	Weapon.BobStyle "InverseSmooth"
	+WEAPON.NOAUTOAIM
	Inventory.PickupSound "weapon/bowget"
	Inventory.PickupMessage "You got the Cryobow"
	Obituary "%K was shattered by %o's Cryoshot"
	States
	{
	Spawn:
		WBOW A -1
		Stop
	Deselect:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldDeselect")
		BOWG A 1 Bright A_Lower
		Loop
	Select:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldselect")
		BOWG A 1 Bright A_Raise
		Loop
	Ready:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldReady")
		BOWG AAABBBCCCDDDBBB 1 Bright A_WeaponReady
		Loop
	GoldDeselect:
		GOWG A 1 Bright A_Lower
		Loop
	GoldSelect:
		TNT1 A 0 A_giveinventory("Tier5upgradetoken", 1)
		GOWG A 1 Bright A_Raise
		Loop
	GoldReady:
		GOWG AAABBBCCCDDDBBB 1 Bright A_WeaponReady
		Loop
  Altfire:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GOLDALTFIRE")
		BOWG A 0 A_JumpifInventory("GosimersAmmoSphere",1,"InfammoBluecharge")
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG AAABBBCCCDDDBBB 2
		BOWF J 6 Bright
		BOWF K 5 Bright
	Althold:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GoldAlthold")
		BOWF L 2 Bright
		BOWF M 2 Bright
		BOWF N 2 Bright
		BOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		BOWF L 0 Bright A_refire
	BlueChargedFire:
		BOWF K 1 Bright A_takeinventory("Roketammo",5)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold3",0,1,0,8,0)
		BOWF CD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31)
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	InfammoBluecharge:
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG AAABBBCCCDDDBBB 2
		BOWF J 6 Bright
		BOWF K 5 Bright
	INFAlthold:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GoldAlthold")
		BOWF L 2 Bright
		BOWF M 2 Bright
		BOWF N 2 Bright
		BOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		BOWF L 0 Bright A_refire
	INFBlueChargedFire:
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold3",0,1,0,8,0)
		BOWF CD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31)
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	Fire:
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GOLDFIRE")
		BOWG A 0 Bright A_GunFlash
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 2 Bright A_FireCustomMissile("CryoShot",0,1)
		BOWF BCD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31)
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		BOWG A 0 A_ReFire
		Goto Ready
	GoldFire:
		NULL A 0 A_Jump(75,"GoldFire2")
		GOWG A 0 Bright A_GunFlash
		GOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		GOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 2 Bright A_FireCustomMissile("GoldCryoShot",0,1)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload")
		GOWF E 2 Offset(0,31)
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		GOWG A 0 A_ReFire
		Goto Ready
	GoldFire2:
		GOWG A 0 Bright A_GunFlash
		GOWG A 0 A_Giveinventory("Roketammo",1)
		GOWG A 0 Bright A_PlaySound("weapons/cryobowshot")
		GOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 2 Bright A_FireCustomMissile("GoldCryoShot",0,1)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload")
		GOWF E 2 Offset(0,31)
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		GOWG A 0 A_ReFire
		Goto Ready
  GoldAltfire:
		GOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWG A 0 A_JumpifInventory("GosimersAmmoSphere",1,"InfammoBluecharge")
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		GOWG AAABBBCCCDDDBBB 2
		GOWF J 6 Bright
		GOWF K 5 Bright
	GOLDAlthold:
		GOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWF L 2 Bright
		GOWF M 2 Bright
		GOWF N 2 Bright
		GOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		GOWF L 0 Bright A_refire
	GoldChargedFire:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWF A 1 Bright A_takeinventory("Roketammo",5,1)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue3",0,1,0,8,0)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		GOWF E 2 Offset(0,31)
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		Goto Ready
 InfammoChargegold:
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("weapon/Cryobow/Charge",chan_6)
		GOWG A 7 Bright
		GOWC A 7 Bright
		GOWC B 6 Bright
		GOWC C 5 Bright
	INFGoldAlthold:
		GOWF L 2 Bright
		GOWF M 2 Bright
		GOWF N 2 Bright
		GOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		GOWF L 0 Bright A_refire
	INFGoldChargedFire:
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue3",0,1,0,8,0)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		GOWF E 2 Offset(0,31)
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	Flash:
		TNT1 A 2 Bright A_Light1
		TNT1 A 2 Bright A_Light2
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	}
}


ACTOR streetsweeper : DoomWeapon 8467
{
	Weapon.PreferredSkin "SSG-Marine"
	Game Doom
	SpawnID 28
	Weapon.SelectionOrder 1
	Weapon.AmmoUse 1
	Weapon.AmmoGive 20
	Weapon.AmmoType "SuperShellz"
	Weapon.SlotNumber 3
	Weapon.slotpriority 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Kunai"
	Inventory.Respawntics"4200"
	+WEAPON.NOAUTOAIM
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.PickupSound "weapon/streetsweeperget"
	Inventory.PickupMessage "You got the street sweaper! time to rock"
	Obituary "%o was decimated by %k's Street sweeper"
	States
	{
	Ready:
		STSW A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldReady")
		STSW A 1 A_WeaponReady
		Loop
	GoldReady:
		STSG A 1 A_WeaponReady
		Loop
	Deselect:
		STSW A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldDeselect")
		STSW A 1 A_Lower
		Loop
	GoldDeselect:
		STSG A 1 A_Lower
		Loop
	Select:
		STSW A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldSelect")
		STSW A 1 A_Raise
		Loop
	GoldSelect:
		TNT1 A 0 A_giveinventory("Tier3upgradetoken", 1)
		STSG A 1 A_Raise
		Loop
	Fire:
		STSW A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldFire")
		STSW A 0 A_PlaySound("SSWFire", CHAN_WEAPON)
		STSW B 0 A_Recoil(1)
		STSW B 2 BRIGHT A_FireBullets(5, 5, 10, 4, "BulletPuff")
		STSW C 2 BRIGHT
		STSW D 2 A_FireCustomMissile("SingleShotgunCasingSpawner", 0, 0, 0, 1)
		STSW EF 2
		STSW A 3
		STSW A 0 A_ReFire
		Goto Ready
	GoldFire:
		STSG A 0 A_Jump(40, "GoldFire_Crit")
		STSG A 0 A_PlaySound("SSWFire", CHAN_WEAPON)
		STSG B 0 A_Recoil(2)
		STSG B 0 A_FireBullets(4, 4, 10, 5, "BulletPuff")
		goto GoldFire_End
	GoldFire_Crit:
		STSG A 0 A_PlaySound("SSWFire", CHAN_WEAPON)
		STSG A 0 A_PlaySound("GenericCrit", CHAN_AUTO)
		STSG B 0 A_Recoil(5)
		STSG B 0 A_FireBullets(4, 4, 10, 7, "GosimersExplosivePuff")
		goto GoldFire_End
	GoldFire_End:
		STSG B 2 BRIGHT
		STSG C 2 BRIGHT
		STSG D 2 A_FireCustomMissile("SingleShotgunCasingSpawner", 0, 0, 0, 1)
		STSG EF 2
		STSG A 2
		STSG A 0 A_ReFire("GoldFire")
		Goto GoldReady
	Spawn:
		STSP A -1
		Stop
	}
}

Actor PDW : Doomweapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Game Doom
	scale 1
	SpawnID 28
	Weapon.SelectionOrder 3
	Weapon.SlotNumber 4
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 50
	Weapon.AmmoType "AK_MAG"
	Inventory.Respawntics"4200"
	+WEAPON.NOAUTOAIM
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.PickupSound"LMGGET"
	Inventory.PickupMessage "You got the PDW!"
	Obituary "%o Had a bad time by %k's PDW"
	States
	{
		Ready:
			KPDW A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldready")
			KPDW A 1 A_WeaponReady
			Loop
		Deselect:
			KPDW A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "GoldDeselect")
			KPDW A 1 A_Lower
			loop
		Select:
			KPDW A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldselect")
			KPDW A 1 A_Raise
			Loop
		Fire:
			KPDW A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldfire")
			KPDW A 0 A_GunFlash
			NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
			KPDW A 0 A_PlaySound("PDWFire", CHAN_WEAPON)
			KPDA A 0 A_Jump(256, "muzzle1", "Muzzle2")
		Muzzle1:
			KPDW B 2 A_FireBullets(4, 0, -1, 6, "Bulletpuff")
			KPDW A 2
			Goto Ready
		Muzzle2:
			KPDW C 2 A_FireBullets(5, 0, -1, 7, "Bulletpuff")
			KPDW A 2
			Goto ready

		//Gold state

		GoldReady:
			KPDG A 1 A_WeaponReady
			Loop
		GoldDeselect:
			KPDG A 1 A_Lower
			loop
		GoldSelect:
			TNT1 A 0 A_giveinventory("Tier4upgradetoken", 1)
			KPDG A 1 A_Raise
			Loop
		GoldFire:
			KPDG A 0 A_GunFlash
			//NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
			//NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
			KPDG A 0 A_PlaySound("PDWFire", CHAN_WEAPON)
			KPDG B 2 BRIGHT A_FireBullets(5, 5, 1, 6, "Bulletpuff")
			KPDG C 0 BRIGHT A_PlaySound("PDWFire", CHAN_6)
			KPDG C 2 BRIGHT A_FireBullets(5, 5, 1, 6, "Bulletpuff")
			KPDG A 1 A_ReFire
			Goto Ready
		Flash:
			TNT1 A 1 A_Light1
			TNT1 A 1 A_Light0
			Goto Lightdone
		Spawn:
			AK4I A -1
			Stop
	}
}

actor Coolant : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 100
}

ACTOR PlasmagunMK2 : DoomWeapon
{
  Weapon.SelectionOrder 2
  Weapon.AmmoUse1 1
  Weapon.Ammouse2 0
  Weapon.AmmoGive1 40
  Weapon.AmmoType1 "Battery"
  Weapon.Ammotype2 "Coolant"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.ForbiddenTo "Kunai"
  Inventory.RestrictedTo "Fiend"
  Weapon.BobSpeed 1.5
  weapon.BobRangeX .5
  Weapon.Bobstyle "Alpha"
  Inventory.PickupMessage "$GOTPLASMA"
  Tag "$TAG_PLASMARIFLE"
  States
  {
  Ready:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldReady")
	GUN7 A 1 A_WeaponReady
	GUN7 A 0 A_Playsound("Weapon/FPRIDLE", chan_weapon)
	GUN7 A 48 A_WeaponReady
	GUN7 A 0 A_giveinventory("Coolant",10)
	Loop
  Deselect:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldDeselect")
	TNT1 AA 0 A_Lower
	GUN7 A 1 A_Lower
	Goto Deselect+2
  Select:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldSelect")
	TNT1 AA 0 A_Raise
	GUN7 A 1 A_Raise
	Goto Select+2
  Fire:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldFire")
	GUN7 A 0 A_Jumpifinventory("Coolant",1,1)
	goto Cooldownstart
	GUN7 A 0 A_Takeinventory("Coolant",1)
	GUN7 A 0 A_Takeinventory("Battery",1)
	GUN7 A 1 A_FireCustomMissile(Kewlplasma, random(-2, 2), 0, 0, 0, true)
	GUN7 B 1 Bright A_Playsound("weapon/FPlasfire",Chan_5)
	GUN7 C 2
	GUN7 A 0 A_Refire
	Goto Ready
  ALTFIRE:
  CooldownStart:
	GUN7 A 0 A_JUMPIFINVENTORY("Coolant",100,"Ready")
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownStart")
	GUN7 A 1 A_Playsound("Weapon/FPLASVENT",Chan_6)
	GUN7 C 1
	GUN7 D 1
	GUN7 E 2
	GUN7 F 3
	GUN7 G 4 A_Playsound("Weapon/FPRCOOL",Chan_weapon)
	GUN7 H 5
  CooldownLOOP:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownloop")
	GUN7 A 0 A_JUMPIFINVENTORY("Coolant",100,"CooldownEND")
	GUN7 H 1 A_Giveinventory("Coolant",1)
	LOOP
  CooldownEND:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownEND")
	GUN7 H 5 A_Playsound("Weapon/FPREND",Chan_Weapon)
	GUN7 G 4
	GUN7 F 3
	GUN7 E 2
	GUN7 D 1
	GUN7 C 1
	GUN7 A 1 A_weaponready
	Goto Ready
  GoldReady:
	GUN7 J 1 A_WeaponReady
	GUN7 J 0 A_Playsound("Weapon/FPRIDLE")
	GUN7 J 48 A_WeaponReady
	GUN7 J 0 A_giveinventory("Coolant",10)
	Loop
  GoldDeselect:
	TNT1 AA 0 A_Lower
	GUN7 J 1 A_Lower
	Goto Golddeselect+1
  GoldSelect:
	TNT1 AA 0 A_Raise
	GUN7 J 1 A_Raise
	Goto Goldselect+1
  GoldFire:
	GUN7 J 0 A_Jumpifinventory("Coolant",1,1)
	goto Cooldownstart
	GUN7 J 0 A_Takeinventory("Coolant",1)
	GUN7 J 0 A_Takeinventory("Battery",1)
	GUN7 J 1 A_FireCustomMissile(Kewlplasma2, random(-2, 2), 0, 0, 0, true)
	GUN7 K 1 Bright A_Playsound("weapon/FPlasfire",Chan_5)
	GUN7 L 2
	GUN7 J 0 A_Refire
	Goto Ready
  GoldCooldownStart:
	GUN7 J 0 A_JUMPIFINVENTORY("Coolant",100,"Ready")
	GUN7 J 1 A_Playsound("Weapon/FPLASVENT",Chan_6)
	GUN7 L 1
	GUN7 M 1
	GUN7 N 2
	GUN7 O 3
	GUN7 P 4 A_Playsound("Weapon/FPRCOOL",Chan_weapon)
	GUN7 Q 5
  GoldCooldownLOOP:
	GUN7 Q 0 A_JUMPIFINVENTORY("Coolant",100,"CooldownEND")
	GUN7 Q 1 A_Giveinventory("Coolant",1)
	LOOP
  GoldCooldownEND:
	GUN7 Q 5 A_Playsound("Weapon/FPREND",Chan_Weapon)
	GUN7 P 4
	GUN7 O 3
	GUN7 M 2
	GUN7 N 1
	GUN7 L 1
	GUN7 J 1 A_weaponready
	Goto Ready
  Flash:
	TNT1 A 1 Bright A_Light1
	TNT1 A 0 A_Light0
	Goto LightDone
	TNT1 A 1 Bright A_Light1
	TNT1 A 0 A_Light0
	Goto LightDone
  Spawn:
	GUN7 I -1
	Stop
  }
}


// Mighty boot thing.
ACTOR Shotgunmayray : Bulletpuff
{
	DamageType Mightyboot
}

Actor KunaisKar98 : Doomweapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Game Doom
	scale 1
	SpawnID 28
	Weapon.SelectionOrder 3
	Weapon.SlotNumber 7
	Weapon.Slotpriority 1
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse1 1
	Weapon.AmmoGive1 5
	Weapon.AmmoType1 "Railslugs"
	Inventory.Respawntics"4200"
	+WEAPON.NOAUTOAIM
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.PickupSound"weapon/RAILGET"
	Inventory.PickupMessage "You got the kar98!"
	Obituary "%o Got picked off by %k's Kar98"
	States
	{
		Select:
			KARG A 1 A_Raise
			Loop
		Deselect:
			KARG A 1 A_Lower
			Loop
		Ready:
			KARG A 1 A_WeaponReady
			loop
		Fire:
			KARG A 2 A_GunFlash
			KARG A 0 A_PlaySoundEx("weapon/K98FIRE","Weapon")
			KARF A 1 Bright A_FireBullets(0.5, 0.5, 1, 100)
			KARF B 1 Bright
			KARG A 1
			KARG B 2
			KARG C 3 A_PlaySoundEx("weapon/K98Boltback","SoundSlot5")
			KARG D 4
			KARG E 3
			KARG F 3
			KARG G 2 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
			KARG H 5
			KARG I 2 A_PlaySoundEx("weapon/K98Boltforward","SoundSlot6")
			KARG J 3
			KARG K 4
			KARG L 3
			KARG A 2
			KARG A 1 A_Refire
			Goto Ready
		Flash:
			TNT1 A 1 A_LIGHT1
			TNT1 A 1 A_LIGHT2
			TNT1 A 0 A_Light0
			Stop
		Spawn:
			 K98G A -1
			 Stop
	}
}

actor Railclip : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 5
}

/*ACTOR Propulsion_Cannon : DoomWeapon
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.AmmoUse1 1
	Weapon.AmmoGive 5
	Weapon.AmmoType "Railslugs"
		 Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
	+WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
		Inventory.PickupSound "Weapon/railget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Gosimers propulsion cannon"
	States
	{
	Ready:
		GRAI G 0 A_playsound("Weapon/PropulsionIDLE", 6, 1.0, 1)
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		Loop
	Deselect:
		GRAI A 0 A_stopsound(6)
		GRAI A 0 BRIGHT A_PlaySound("Weapons/Change")
		GRAI G 1 BRIGHT A_Lower
		Goto Deselect+1
	Select:
		GRAI G 1 BRIGHT A_Raise
		Loop
	Fire:
		GRAI G 0 A_JumpifInventory("GosimersAmmoSphere", 1, "INFAMMO")
		GRAI G 0 A_JumpIfInventory("Railslugs",1, 1)
		Goto Ready
		GRAI G 1 Bright A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		GRAI ABCDE 2 BRIGHT
		GRAI F 2 A_GunFlash
		GRAI F 0 A_RailAttack(500, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "BulletPuff", 0, 0, 0, 35, 1.0, 4.0, "Devistaterblast")
		GRAI F 20 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 12  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 9  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 6 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 3 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		Goto Ready
	INFAMMO:
		GRAI G 1 Bright A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		GRAI ABCDE 2 BRIGHT
		GRAI F 2 A_GunFlash
		GRAI F 0 A_RailAttack(500, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "BulletPuff", 0, 0, 0, 35, 1.0, 4.0, "Devistaterblast")
		GRAI F 20 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 15 A_playsound("Weapon/PropulsionCHARGE", Chan_7)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 12  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 9  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 6 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 3 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		Goto Ready
	Flash:
		TNT1 A 5 Bright A_Light1
		TNT1 A 5 Bright A_Light2
		TNT1 A 2 Bright A_Light(3)
		TNT1 A 2 Bright A_Light2
		TNT1 A 2 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		GRAI L -1
		Stop
	}
}
*/

ACTOR FiendsRailgun : DoomWeapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Weapon.SelectionOrder 700
	Weapon.AmmoUse 2
	Weapon.AmmoGive 10
	Weapon.AmmoType "Railslugs"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.SlotNumber 6
	Weapon.Slotpriority 1
	Inventory.Forbiddento "Maximusprime"
	Weapon.BobStyle "InverseSmooth"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupMessage "Fiends Lazer gun"
	Obituary "(%K got gibbed by Fiend's Lazer gun"
	Tag "Fiends Railgun"
	States
	{
	Ready:
		FRGB A 1 A_weaponready
		FRGN A 0 A_playsound("Weapon/PropulsionIDLE", Chan_weapon)
		FRGG A 1 A_weaponready
		FRGY A 1 A_weaponready
		FRGR A 1 A_weaponready
		FRGP A 1 A_weaponready
		FRGB A 1 A_weaponready
		FRGG A 1 A_weaponready
		FRGY A 1 A_weaponready
		FRGR A 1 A_weaponready
		FRGP A 1 A_weaponready
		Loop
	Select:
		FRGB A 1 A_Raise
		Loop
	Deselect:
		FRGB A 1 A_Lower
		Loop
	Fire:
		FRGB A 1
		FRGF E 2
		FRGF J 2
		//FRGF J 0 A_RailAttack(500, 0, 1, "", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT|RGF_NOPIERCING, 1, "BulletPuff", 0, 0, 0, 35, 2.0, 4.0, "Greenlitningzap")
		FRGF J 0 A_RailAttack(250, 0, 1, "FF FF FF", "FF FF FF", RGF_FULLBRIGHT|RGF_SILENT, 0, "BulletPuff", 0, 0, 0, 35, 2.0, 4.0, "healgunblast")
		//FRGF J 0 A_RailAttack(0, 0, 0, "FF FF FF", "", RGF_FULLBRIGHT|RGF_SILENT|RGF_NOPIERCING , 0, "BulletPuff", 0, 0, 0, 35, 2.0, 4.0, "Bluerailcoil")
		FRGF J 0 A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		FRGB G 1
		FRGG G 1
		FRGY G 1
		FRGR G 1
		FRGP G 1
		FRGB G 1
		FRGG G 1
		FRGY G 1
		FRGR G 1
		FRGP G 1
		FRGB F 1
		FRGG F 1
		FRGY F 1
		FRGR F 1
		FRGP F 1
		FRGB F 1
		FRGG F 1
		FRGY F 1
		FRGR F 1
		FRGP F 1
		FRGB E 1
		FRGG E 1
		FRGY E 1
		FRGR E 1
		FRGP E 1
		FRGB E 1
		FRGG E 1
		FRGY E 1
		FRGR E 1
		FRGP E 1
		FRGB D 1
		FRGG D 1
		FRGY D 1
		FRGR D 1
		FRGP D 1
		FRGB D 1
		FRGG D 1
		FRGY D 1
		FRGR D 1
		FRGP D 1
		FRGB C 1
		FRGG C 1
		FRGY C 1
		FRGR C 1
		FRGP C 1
		FRGB C 1
		FRGG C 1
		FRGY C 1
		FRGR C 1
		FRGP C 1
		FRGB B 1
		FRGG B 1
		FRGY B 1
		FRGR B 1
		FRGP B 1
		FRGB B 1
		FRGG B 1
		FRGY B 1
		FRGR B 1
		FRGP B 1
		FRGB A 1
		FRGG A 1
		FRGY A 1
		FRGR A 1
		FRGP A 1
		FRGB A 1
		FRGG A 1
		FRGY A 1
		FRGR A 1
		FRGP A 1
		Goto Ready
	Altfire:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto Ready
		RLGG A 1 Offset ( -26, 70 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto ALTFirestop
		RLGF A 1 Bright
		RLGG B 1 Bright
		RLGG C 1 Bright
		RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
		RLGG D 1 A_Takeinventory("AbilityCharge",2)
		RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
		RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "BulletPuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
		RLGG A 1 A_Refire
	ALTFirestop:
		RLGG A 4 Offset ( 0, 32 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 1 Offset ( -26, 70 )
		goto Ready
	  Spawn:
	RLGN A -1
	Stop
	}
}

Actor Propulsion_Cannon : doomweapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Radius 20
	Height 16
	Weapon.Selectionorder 100
	Weapon.AmmoUse 1
	Weapon.AmmoGive 10
	Weapon.AmmoType "Railslugs"
	Weapon.SlotNumber 6 // This line isn't in skulltag.pk3, which instead defines the slot directly in DoomPlayer
	Inventory.Pickupmessage "$PICKUP_RAILGUN" // "You got the railgun!"
	Obituary "$OB_RAILGUN" // "%o was railed by %k."
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
	+WEAPON.NOAUTOAIM
	Weapon.SlotNumber 7
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
	Inventory.PickupSound "Weapon/railget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Gosimers propulsion cannon"
  States
  {
  Ready:
	GSNP A 1 A_WeaponReady
	Loop
  Deselect:
	GSNP A 1 A_Lower
	Loop
  Select:
	GSNP A 1 A_Raise
	Loop
  Fire:
	GSNF A 1 BRIGHT A_RailAttack(100, 0, 1, "FF FF FF", "FF FF FF", RGF_FULLBRIGHT|RGF_SILENT, 0, "BulletPuff", 0, 0, 0, 35, 2.0, 4.0, "REDLightRailBlast")
	GSNF A 0 A_playsound("Weapon/Sniperrail_Fire",Chan_Weapon)
	GSNF B 1 BRIGHT
//	GSNP B 1 A_playsound("Weapon/SniperRecharge", Chan_7)
	GSNP B 9
	GSNP A 0 A_Refire
	Goto Ready
//  Reloaded:
//  GSNP B 6
//  GSNP C 2
//	GSNP A 6 A_ReFire
	Goto Ready
  Flash:
	TNT1 A 5 bright A_Light1
	TNT1 A 5 bright A_Light2
	TNT1 A 0 bright A_Light0
	Goto LightDone
  Spawn:
	GSNP G -1
	Stop
  }
}