

//---------------------------
//----< -Fistsy  cuffs- >---- 
//---------------------------


ACTOR Fists : fist replaces Fist
{
	Weapon.PreferredSkin "Fist-Marine"
	Game Doom
	Weapon.SelectionOrder 9
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Weapon.Kickback 100
	Obituary "$OB_MPFIST"
	Tag "Fisty cuffs"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	States
	{
	Ready:
		PUNG A 1 A_WeaponReady
		PUNG A 10 A_Weaponready
		GUN1 A 0 A_giveinventory("scatterclip",1)  			
		Loop
	Deselect:
		PUNG A 1 A_Lower
		Loop
	Select:
		PUNG A 1 A_Raise
		Loop
	Fire:
		PUNG B 2 A_giveinventory("scatterclip",5)  
		PUNG C 3 A_Punch
		PUNG D 4
		PUNG C 3
		PUNG B 4 A_ReFire
		Goto Ready
	}
}

ACTOR kankanboot : Weapon
{
	Weapon.PreferredSkin "Fist-Marine"
	Game Doom
	Weapon.SelectionOrder 8
	Weapon.Kickback 100
	Obituary "gave a guy a boot to the head :O"
	Tag "Fisty cuffs"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	Weapon.AmmoUse 0
	Weapon.AmmoGive 0
	Weapon.AmmoType "Kancounter"
	States
	{
	Ready:
		KANK A 0 A_Giveinventory("Kancounter",25)
		KANK A 1 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		goto Fire
	Deselect:
		KANK A 1 A_Lower
		KANK A 0 A_Takeinventory("kankanboot", 1)
		Loop
	Select:
		KANK A 1 A_Raise
		Loop
	Fire:
		KANK A 0 A_Jumpifinventory("Kancounter",1,1)
		Goto itstimetostopokay
		KANK B 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_CustomPunch(20 * random(5, 10), TRUE,0,"Shotgunmayray",96)
		KANK A 0 A_Punch
		KANK C 5 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 15), TRUE,0,"Shotgunmayray",96)
		KANK C 6 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK B 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 10), TRUE,0,"Shotgunmayray",96)
		KANK E 5 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 3 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_Punch
		KANK A 0 A_CustomPunch(20 * random(5, 15), TRUE,0,"Shotgunmayray",96)
		KANK E 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK D 4 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 7 A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOFIRE)
		KANK A 0 A_takeinventory("Kancounter", 1)
		goto Fire
	itstimetostopokay:
		KANK A 0 A_Playsound("TIME2STAHPKAY?",CHAN_7)
		KANK A 105
		KANK A 0 A_WeaponReady
		Goto Deselect
	}
}

Actor Kancounter : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 24
	ammo.Backpackmaxamount 24
}

Actor Reload : Custominventory
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 1
}


ACTOR Soulreaper : Weapon
{
	Weapon.PreferredSkin "Knife-Marine"
	Game Doom
	+WEAPON.NOAUTOAIM
	Weapon.SelectionOrder 8
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Weapon.Kickback 100
	Tag "Soul-Reaper"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Inventory.PickupSound "weapon/srget"
	+WEAPON.MELEEWEAPON
	States
	{
		Ready:
			KRDY A 1 A_WeaponReady
			Loop
		Deselect:
			KRDY A 1 A_Lower
			Loop
		Select:
			KRDY A 1 A_Raise
			Loop
		Fire:
			KBLD A 2
			KBLD B 2
			KRDY A 0 A_giveinventory("Souldrain", 1)
			KBLD C 1 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			Goto Normal
		Altfire:
			KBLD A 1
			KBLD A 1 A_JUMPIFINVENTORY("AbilityCharge", 25, "Bladebem")
			Goto Ready
		Bladebem:
			KRDY A 0 A_giveinventory("Souldrain", 1)
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1 
			KBLD F 1 A_takeinventory("AbilityCharge",25)
			KBLD G 1 A_FireCustomMissile("Beem_Slash",0,0,0,0,0)
			KBLD H 1 
			KBLD I 1 
			KBLD J 2 
			KBLD L 2 
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
		Normal:
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1 
			KBLD F 1 
			KBLD G 1 A_CustomPunch(30, FALSE, 0, "SoulreaperPuff", 96)// 1, 2, "ArmorBonus", "Weapons/SReaperhit", "weapons/srswing")
			KBLD H 1 
			KBLD I 1 
			KBLD J 2 
			KBLD L 2 
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
		Berserked:
			KBLD D 1 A_playsound("weapons/srswing", Chan_6)
			KBLD E 1 
			KBLD F 1 
			KBLD G 1 A_CustomPunch(100, FALSE, 0, "SoulreaperPuff", 96) //, 2, 4, "ArmorBonus", "Weapons/SReaperhit", "weapons/srswing")
			KBLD H 1 
			KBLD I 1 
			KBLD J 2 
			KBLD L 2 
			KRDY A 10
			KRDY A 0 A_ReFire
			Goto Ready
	}
}

//---------------------------
//---< Chainsaw replacer >---
//---------------------------

ACTOR UAC-Chainsaw : Weapon 
{
	Weapon.PreferredSkin "Chainsaw-Marine"
	Game Doom
	SpawnID 32
	Weapon.Kickback 0
	Weapon.SelectionOrder 9
	Weapon.UpSound "weapons/sawup"
	Weapon.ReadySound "weapons/sawidle"
	Inventory.PickupMessage "$GOTCHAINSAW"
	Obituary "$OB_MPCHAINSAW"
	Tag "$TAG_CHAINSAW"
	+WEAPON.MELEEWEAPON
	Weapon.slotnumber 1
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.RestrictedTo "Gosimer"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Kunai"
	Inventory.PickupSound "weapon/chainget"
	States
	{
		Ready:
			SAWG CD 4 A_WeaponReady
			SAWG CD 4 A_WeaponReady
			GUN1 A 0 A_giveinventory("scatterclip",1)  
			Loop
		Deselect:
			SAWG C 0 A_Playsound("Chainsaw/shutoff",Chan_weapon)
			SAWG C 1 A_Lower
			Goto Deselect+1
		Select:
			SAWG C 1 A_Raise
			Loop
		Fire:
			SAWG A 0 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			SAWG AB 2 A_Saw
			SAWG B 0 A_ReFire
			Goto Ready
		Berserked:
			SAWG AB 1 A_Saw
			SAWG B 0 A_ReFire
			Goto Ready
		Spawn:
			CSAW A -1
			Stop
	}
}

Actor ChainsawDrop : CustomInventory
{
	Radius 12
	Height 18
	scale 1
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupSound ""
	Inventory.PickupMessage "You got a Chainsaw! (Soul reaper for Kunai)"
	States
	{
		Spawn:
			CSAW A -1
			Stop
		pickup:
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_Playsound("weapon/Chainget",Chan_7)
			TNT1 A 0 A_Giveinventory("UAC-CHAINSAW")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("Weapon/SRGET",Chan_7)
			TNT1 A 0 A_Giveinventory("SoulReaper")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Weapon/CHAINGET",Chan_7)
			TNT1 A 0 A_Giveinventory("UAC-CHAINSAW")
			Stop
	}
}


//---------------------------
//----< Pistol replacer >---- 
//---------------------------


ACTOR DEPistol : doomweapon 
{
	Weapon.SelectionOrder 10
	Weapon.PreferredSkin "Pistol-Marine"
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 0
	Weapon.AmmoGive1 32
	Weapon.AmmoType1 "peastolclip"
	Weapon.AmmoType2 "PistolClip"
	Weapon.slotnumber 2
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	decal bulletchip
	Inventory.PickupSound "misc/w_pkup"
	States
	{
		Ready:
			PKPI A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldready")
			NULL A 0 A_JumpIfInventory("Reload",0,"ReloadBegin")
			PKPI A 1 A_WeaponReady (WRF_ALLOWRELOAD)
			Loop
		Deselect:
				NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddeselect")
			NULL A 0 A_TakeInventory("Reload",1)
			TNT1 AA 0 A_Lower
			PKPI A 1 A_Lower
			Goto Deselect+3
		Select:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldselect")
			TNT1 AA 0 A_Raise
			PKPI A 1 A_Raise
			Goto Select+2
			Loop
		Fire:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldfire")
			NULL A 0 A_JumpIfInventory("PistolClip",1,1)
			Goto DryFire
			PKPI A 0 A_Playsound("depisto",Chan_weapon)
			PKPI A 0 A_TakeInventory("Pistolclip",1)
			NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
			PKPI B 1 A_FireBullets(0.5,0.5,-1,5,"BulletPuff",1)
			PKPI C 1 
			PKPI D 1 
			PKPI C 1 
			PKPI A 1 A_WeaponReady
			Goto Ready
		Altfire: 
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto Ready
			RLGG A 1 Offset ( -26, 70 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 4 Offset ( -5, 34 )
			RLGG A 4 Offset ( 0, 32 )
		ALTHOLD:
			RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
			Goto ALTFirestop
			RLGF A 1 Bright 
			RLGG B 1 Bright
			RLGG C 1 Bright
			RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
			RLGG D 1 A_Takeinventory("AbilityCharge",2)
			RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
			RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
			RLGG A 1 A_Refire
		ALTFirestop:
			RLGG A 4 Offset ( 0, 32 )
			RLGG A 4 Offset ( -5, 34 ) 
			RLGG A 3 Offset ( -10, 37 )
			RLGG A 3 Offset ( -15, 42 )
			RLGG A 2 Offset ( -20, 47 )
			RLGG A 2 Offset ( -23, 52 )
			RLGG A 1 Offset ( -25, 60 )
			RLGG A 1 Offset ( -26, 70 )
			goto Ready
		Reload:
		ReloadBegin:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReady")
			NULL A 0 A_TakeInventory("Reload",1)
			NULL A 0 A_JumpIfInventory("PistolClip",0,"Ready")
			NULL A 0 A_JumpIfInventory("peastolclip",1,1)
			Goto Ready
			NULL A 0 A_PlaySoundEx("weapons/pistol/clipout","SoundSlot5")
			PISG R 3 A_WeaponReady(WRF_NOFIRE)
			PISG F 3 A_WeaponReady(WRF_NOFIRE)
			PISG GH 2 A_WeaponReady(WRF_NOFIRE)
			PISG H 16 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/clipin","SoundSlot6")
			PISG IJK 4 A_WeaponReady(WRF_NOFIRE)
			PISG LMNML 2 A_WeaponReady(WRF_NOFIRE)
		ReloadAmmoLoop:
			NULL A 0 A_TakeInventory("peastolclip",1)
			NULL A 0 A_GiveInventory("PistolClip",1)
			NULL A 0 A_JumpIfInventory("peastolclip",1,1) // if not out of ammo, countinue reloading
			goto ReloadEnd
			NULL A 0 A_JumpIfInventory("PistolClip",0,"ReloadEnd") // if clip full, finish reload
			goto ReloadAmmoLoop // otherwise continue
		ReloadEnd:
			PISG OPQ 2 A_WeaponReady(WRF_NOFIRE)
			Goto ready
		DryFire:
			NULL A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReady")
			PKPI A 1 A_WeaponReady(WRF_NOFIRE)
			PKPI C 2 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
			PKPI D 2 A_WeaponReady(WRF_NOFIRE)
			Goto ReloadBegin
		GoldDryFire:
			DMGG A 1 A_WeaponReady(WRF_NOFIRE)
			DMGG A 2 A_WeaponReady(WRF_NOFIRE)
			NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
			FGPL A 2 A_WeaponReady(WRF_NOFIRE)
			Goto GoldReady
		Flash:
			TNT1 A 2 A_Light1
			TNT1 A 0 A_Light0 
			Goto LightDone
		GoldReady:
			FGPL A 0 A_Takeinventory("Pistolclip",24)
			FGPL A 1 A_WeaponReady
			Wait
		GoldDeselect:
			TNT1 AA 0 A_Lower
			FGPL A 1 A_Lower
			Loop
		GoldSelect:
			TNT1 A 0 A_giveinventory("Tier1upgradetoken", 1)
			TNT1 AA 0 A_raise
			FGPL A 1 A_Raise
			Loop
		GoldFire:
			NULL A 0 A_JumpIfInventory("PeastolClip",1,1)
			Goto DryFire
			FGPL A 0 A_Jumpifinventory("Leftpistolshot", 1, "Leftfire")
			FGPL A 0 A_WeaponReady(WRF_NOFIRE | WRF_NOBOB | WRF_NOSWITCH | WRF_NOPRIMARY)
			FGPL A 0 A_TakeInventory("Peastolclip",1)
			FGPL A 0 A_FireBullets (2.5, 2.5, -1, 7, "BulletPuff")
			FGPL A 0 A_GunFlash
			FGPL A 0 A_PlaySound("Dukepistol", CHAN_WEAPON)
			FGPL B 1 Bright A_giveinventory("Leftpistolshot", 1)
			FGPL C 1 
			FGPL D 1 
			FGPL A 1 A_Refire
			Goto Ready
		Leftfire:
			FGPL A 0 A_Takeinventory("Leftpistolshot", 1)
			FGPL A 0 A_WeaponReady(WRF_NOFIRE | WRF_NOBOB | WRF_NOSWITCH | WRF_NOPRIMARY)
			FGPL A 0 A_TakeInventory("Peastolclip",1)
			FGPL A 0 A_FireBullets (2.5, 2.5, -1, 7, "BulletPuff")
			FGPL A 0 A_GunFlash
			FGPL A 0 bright A_PlaySound("Dukepistol", CHAN_WEAPON)
			FGPL E 1 Bright
			FGPL F 1 
			FGPL G 1 
			FGPL A 1 A_Refire
			Goto Ready
		Spawn:
			PIST A -1
			Stop
	}
}

Actor Leftpistolshot : Inventory
{
	Radius 4
	Height 18
	scale 1
	Inventory.MaxAmount 1
	States
	{
		Spawn:
			GUGT ABCD 6 BRIGHT
			loop
		pickup:
			TNT1 A 0 
			Stop
	}
}
Actor Tier1upgradetoken : Inventory
{
	Radius 4
	Height 18
	scale 0.75
	+INVENTORY.UNDROPPABLE
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You picked up a Pistol Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/PLToken"
	States
	{
		Spawn:
			GUGT ABCD 3 BRIGHT
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("peastolclip",5)
			Stop
	}
}

Actor Tier2upgradetoken : Inventory
{
	Radius 4
	Height 18
	scale 0.75
	+INVENTORY.UNDROPPABLE
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You picked up a Shotgun Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/PLToken"
	States
	{
		Spawn:
			GUGT EFGD 3 BRIGHT
			loop
		pickup:
			TNT1 A 0 A_Giveinventory("peastolclip",5)
			Stop
	}
}

Actor Tier3upgradetoken : Inventory
{
	Radius 12
	Height 18
	scale 0.75
	+INVENTORY.UNDROPPABLE
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You picked up a Super Shotgun Upgrade token! Stats have been added!!!"
	Inventory.PickupSound "Mannco/RLToken"
	States
	{
		Spawn:
			GUGT HIJD 6 BRIGHT
			Loop
		pickup:
			TNT1 A 0 A_Giveinventory("shellz",4)
			Stop
	}
}

Actor Tier4upgradetoken : Inventory
{
  Radius 12
  Height 18
  scale 0.75
+INVENTORY.UNDROPPABLE
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a Chaingun / Machinegun Upgrade token! Stats have been added!!!"
  Inventory.PickupSound "Mannco/RLToken"
  States
  {
  Spawn:
	GUGT KLMD 3 BRIGHT
	Loop
  pickup:
	TNT1 A 0 A_Giveinventory("shellz",4)
	Stop
  }
}

Actor Tier5upgradetoken : Inventory
{
  Radius 12
  Height 18
  scale 0.75
+INVENTORY.UNDROPPABLE
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a Rocket launcher upgrade token! stats increased / added!"
  Inventory.PickupSound "Mannco/RLToken"
  States
  {
  Spawn:
	GUGT NOPD 3 Bright
	loop
  pickup:
	TNT1 A 0 A_Giveinventory("RoketAmmo",5)
	Stop
  }
}


Actor Tier6upgradetoken : Inventory
{
  Radius 12
  Height 18
  scale 1
+INVENTORY.UNDROPPABLE
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a Plasmarifle / Flame thrower upgrade token! stats increased / added!"
  Inventory.PickupSound "Mannco/PRToken"
  States
  {
  Spawn:
	GUGT QRSD 3 Bright
	Loop
  }
}

Actor Tier7upgradetoken : Inventory
{
  Radius 12
  Height 18
  scale 1
+INVENTORY.UNDROPPABLE
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a BFG Upgrade upgrade token! HUGE BUFF'S APPLIED!!!"
  Inventory.PickupSound "Mannco/PRToken"
  States
  {
  Spawn:
	GUGT TUVD 3 Bright
	Loop
  }
}

Actor Allupgradetokens : CustomInventory
{
  Radius 12
  Height 18
  scale 1
  Inventory.MaxAmount 1
  Inventory.PickupMessage "Holy shit! you got ALL upgrade tokens! YOU ARE UNSTOPPABLE NOW!!!"
  Inventory.PickupSound "Mannco/Special"
  States
  {
  Spawn:
	GUGT ABCDEFGDHIJDKLMDNOPDQRSDTUVDWXYD 3 Bright
	loop
  pickup:
	TNT1 A 0 A_Giveinventory("Tier1upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier2upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier3upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier4upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier5upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier6upgradetoken",1)
	TNT1 A 0 A_Giveinventory("Tier7upgradetoken",1)
	Stop
  }
}

Actor PistolClip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 12
	ammo.Backpackmaxamount 24
}

Actor Abilitycharge : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 1000
}
Actor UltimateAbilitycharge : Ammo //Currently Unused.
{
	+inventory.Ignoreskill
	Inventory.MaxAmount 1000
}

ACTOR PeastolClip : Ammo replaces Clip
{
  Inventory.PickupMessage "$GOTCLIP" // "Picked up a clip."
  Inventory.Amount 12
  Inventory.MaxAmount 100
  Ammo.BackpackAmount 24
  Ammo.BackpackMaxAmount 250
  Inventory.Icon "CLIPA0"
  Inventory.Respawntics"2100"
  Inventory.PickupSound "AMMO/CLIP"
  States
  {
  Spawn:
	CLIP A -1
	Stop
  }
}

//-----------------------------
//----< Shawtgun replacer >----
//-----------------------------

Actor Shotgunclip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 6
	ammo.Backpackmaxamount 12
}


Actor PkShotgun : Doomweapon
{
Weapon.PreferredSkin "Shotgun-Marine"
   Game Doom
   scale 1
   SpawnID 28
   Weapon.SelectionOrder 3
   Weapon.AmmoUse 1
   Weapon.AmmoGive 12
   Weapon.AmmoType "Supershellz"
   //+WEAPON.NOAUTOAIM
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
	Weapon.slotnumber 3
	Weapon.Slotpriority 1
	Inventory.ForbiddenTo "Maximusprime"
	 Inventory.ForbiddenTo "Kunai"
	 Inventory.ForbiddenTo "Gosimer"
	 Inventory.RestrictedTo "Fiend"
	 Inventory.PickupMessage "$GOTSHOTGUN"
	 Inventory.Respawntics"4200"
	 Obituary "$OB_MPSHOTGUN"
	 Inventory.PickupSound "weapon/singleget"
	attacksound ""
  Tag "$TAG_SHOTGUN"
  States
  {
  Ready:
	FSGA A 1 A_WeaponReady
	Loop
  Deselect:
	FSGA AA 0 A_Lower
	FSGA A 1 A_Lower
	Goto Deselect+1
  Select:
	FSGA AA 0 A_Raise
	FSGA A 1 A_Raise
	Goto Select+1
  Fire:
	FSGA A 0 a_jumpifinventory("Tier2upgradetoken",1,"Goldfire")
	FSGA F 1 Bright
	FSGA F 0 A_FireShotgun
	FSGA G 1 Bright
	FSGA A 4 
	FSGA BC 3
	FSGA D 4
	FSGA E 6
	FSGA D 4
	FSGA CB 3
	FSGA A 1
	FSGA A 7 A_ReFire
	Goto Ready
	Goldfire:
	FSGA A 0 a_jump(136, "Speedfire")
	FSGA F 1 Bright
	SHTG A 0 A_FireBullets (5.6, 0, 7, 5, "BulletPuff")
	SHTG A 0 A_PlaySound ("weapons/shotgf", CHAN_WEAPON)
	SHTG A 0 A_GunFlash
	FSGA G 1 Bright
	FSGA A 4 
	FSGA BC 3
	FSGA D 4
	FSGA E 6
	FSGA D 4
	FSGA CB 3
	FSGA A 1
	FSGA A 7 A_ReFire
	Goto Ready
	Speedfire:
	FSGA F 1 Bright
	SHTG A 0 A_FireBullets (5.6, 0, 7, 5, "BulletPuff")
	SHTG A 0 A_PlaySound ("weapons/shotgf", CHAN_WEAPON)
	SHTG A 0 A_GunFlash
	FSGA G 1 Bright
	FSGA A 4
	Goto Ready
  Flash:
	TNT1 A 1 Bright A_Light1
	TNT1 B 1 Bright A_Light2
	Goto LightDone
  Spawn:
	SHOT A -1
	Stop
  }
}

Actor Shotgundrop : CustomInventory //This is to prevent the "CHGCHG SHOTGUN!" sound spam!
{
  Radius 12
  Height 18
  scale 1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a shawtgun weapon"
  States
  {
  Spawn:
	SHOT A -1
	Stop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("Kunaitoken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Gosimertoken",1,"GosimerPickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("PKShotgun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("SingleShotgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Misc/W_Pkup",chan_6)
	TNT1 A 0 A_Giveinventory("CombatShotgun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",chan_6)
	TNT1 A 0 A_Giveinventory("DFBlaster")
	Stop
  }
}

Actor Shootgundrop : CustomInventory replaces Shotgun //This is to prevent the "CHGCHG SHOTGUN!" sound spam!
{
  Radius 12
  Height 18
  scale 0.10
  Inventory.Respawntics"2100"
  +INVENTORY.ALWAYSPICKUP  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a shawtgun weapon"
  States
  {
  Spawn:
	SGBX ABC 15 BRIGHT
	loop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("Kunaitoken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Gosimertoken",1,"GosimerPickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("weapon/singleget",Chan_7)
	TNT1 A 0 A_Giveinventory("PKShotgun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("weapon/singleget",CHAN_7)
	TNT1 A 0 A_Giveinventory("SingleShotgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Weapon/GShotget",CHAN_7)
	TNT1 A 0 A_Giveinventory("CombatShotgun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("DFBlaster")
	Stop
  }
}
//-----------------------------
//--< Super Shotgun replacer>--
//-----------------------------

ACTOR SuperShawtgun : Doomweapon
{
	Weapon.PreferredSkin "SSG-Marine"
	Weapon.SelectionOrder 5
	Weapon.KickBack 512
	Weapon.AmmoUse 2
	Weapon.AmmoGive 8
	Weapon.AmmoType "SuperShellz"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.Respawntics"4200"
	Inventory.PickupMessage "Super shawtgun."
	Obituary "$OB_MPSSHOTGUN"
  //+WEAPON.NOAUTOAIM
	Weapon.slotnumber 3
	Weapon.Slotpriority 2
	Inventory.ForbiddenTo "Maximusprime"
	Inventory.PickupSound "weapon/ssgget"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Tag "Super Shotgun"
	decal bulletchip
  States
  {
  Ready:
	SHT2 S 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldReady")
	SHT2 A 1 A_WeaponReady
	Loop
  GoldReady:
	SHT2 S 1 A_Weaponready
	Loop
  Deselect:
	SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldDeselect")
	TNT1 AA 0 A_Lower
	SHT2 A 1 A_Lower
	Goto Deselect+2
  Select:
	SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldSelect")
	TNT1 AA 0 A_Raise
	SHT2 A 1 A_Raise
	Goto Select+2
	 GoldDeselect:
	TNT1 AA 0 A_Lower
	SHT2 S 1 A_Lower
	Goto Deselect+2
  GoldSelect:
	TNT1 AA 0 A_Raise
	SHT2 S 1 A_Raise
	Goto Select+2
  Fire:
	SHT2 A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"Goldfire")
	SHT2 A 3
	SHT2 A 1 A_FireShotgun2 
	SH2F A 2 Bright A_Light1
	SH2F B 2 Bright A_Light2
	SHT2 A 2
	SHT2 B 3
	SHT2 C 4
	SHT2 D 4 A_CheckReload
	SHT2 E 3
	SHT2 F 3 A_OpenShotgun2
	SHT2 G 3
	SHT2 H 3
	SHT2 I 3
	SHT2 J 3 A_LoadShotgun2
	SHT2 K 3
	SHT2 L 3
	SHT2 M 2
	SHT2 M 2 A_PlaySound ("weapons/sshotc", CHAN_WEAPON)
	SHT2 N 2 
	SHT2 O 2
	SHT2 P 2
	SHT2 A 2 A_ReFire
	Goto Ready
  GoldFire:
	SHT2 S 3
	SHT2 S 1 A_FireShotgun2 
	SH2F Q 2 Bright A_Light1
	SH2F R 2 Bright A_Light2
	SHT2 S 2
	SHT2 B 3
	SHT2 C 4
	SHT2 D 4 A_CheckReload
	SHT2 E 3 A_Jump(100,"Noreload")
	SHT2 F 3 A_OpenShotgun2
	SHT2 G 3
	SHT2 H 3
	SHT2 I 3
	SHT2 J 3 A_LoadShotgun2
	SHT2 K 3
	SHT2 L 3
	SHT2 M 2
	SHT2 M 2 A_PlaySound ("weapons/sshotc", CHAN_WEAPON)
	SHT2 N 2 
	SHT2 O 2
	SHT2 P 2
	SHT2 A 2 A_ReFire
	Goto GoldReady
	Noreload:
	SHT2 B 3
	SHT2 S 2
	Goto Ready
	// unused states
	SHT2 B 7
	SHT2 A 3
	Goto Deselect
  Flash:
	TNT1 A 2 Bright A_Light1
	TNT1 A 2 Bright A_Light2
	Goto LightDone
  Spawn:
	SGN2 A -1
	Stop
  }
}



Actor ssgdrop : CustomInventory replaces Supershotgun
{
  Radius 12
  Height 18
  scale 0.1
	Inventory.Respawntics"4200"
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a Supahshawtgun weapon"
  States
  {
  Spawn:
	SSGB ABC 15 BRIGHT
	LOOP
  pickup:
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_Playsound("weapon/Fssgget",Chan_7)
	TNT1 A 0 A_Giveinventory("SuperShawtgun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/StreetsweeperGet",Chan_7)
	TNT1 A 0 A_Giveinventory("Streetsweeper")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("Weapon/PRotoget",Chan_7)
	TNT1 A 0 A_Giveinventory("BurstShotgun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("FusionCutter")
	Stop
  }
}

ACTOR ShellZ : Ammo
{
  Inventory.PickupMessage "Picked up 2 shotgun + SSG Shells"
  Inventory.Amount 2
  Inventory.MaxAmount 50
  Inventory.Respawntics"4200"
  Inventory.Icon "SHELA0"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHEL A -1
	Stop
  }
}

ACTOR SuperShellZ : Ammo 
{
  Inventory.PickupMessage "Picked up 10 shotgun + SSG Shells"
  Inventory.Amount 2
  Inventory.MaxAmount 50
  Inventory.Respawntics"4200"
  Inventory.Icon "SHELA0"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHEL A -1
	Stop
  }
}

ACTOR Shellbawx : CustomInventory replaces shellbox
{
  Inventory.PickupMessage "Picked up a box of 10 shotgun + SSG shells."
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/SHELBAWX"
  States
  {
  Spawn:
	SBOX A 1
	loop
	pickup:
	TNT1 A 0 A_Giveinventory("Shellz",10)
	TNT1 A 0 A_Giveinventory("SuperShellZ",10)
	Stop
  }
}

ACTOR Smallshellz : CustomInventory replaces shell
{
  Inventory.PickupMessage "Picked up 2 Shotgun + SSG Shells."
  Inventory.Respawntics"2800"
  Inventory.PickupSound "AMMO/SHEL"
  States
  {
  Spawn:
	SHLZ A 1
	loop
	pickup:
	TNT1 A 0 A_Giveinventory("Shellz",2)
	TNT1 A 0 A_Giveinventory("Supershellz",2)
	Stop
  }
}

//-----------------------------
//----< Chaingun replacer >----
//-----------------------------

ACTOR FiendsMinigun : Doomweapon  //This weapon used to be an AK47 weapon (golden souls mod)
{
  Tag "Minigun"
  Weapon.PreferredSkin "Minigun-Marine"
  //$Category Weapons
  Weapon.SelectionOrder 3
  Weapon.AmmoUse 1
  Weapon.AmmoGive 20
  decal Bulletchip
  Weapon.AmmoType "AK_Mag"  //Old ak ammo type, before it changed to a minigun, (too lazy to change)
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
  //+WEAPON.NOAUTOAIM
  Inventory.Respawntics"4200"
  Inventory.PickupSound "weapon/Miniget"
	Weapon.slotnumber 4
	Inventory.ForbiddenTo "Maximusprime"
  Inventory.ForbiddenTo "Kunai"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.RestrictedTo "Fiend"
  Obituary "%o was in %k's sights"
  Inventory.Pickupmessage "You picked up a Minigun"
	States
	{
	 Ready:
		FGN4 A 1 A_WeaponReady	
		Loop
	Deselect:
		TNT1 AA 0 A_Lower
		FGN4 A 1 A_Lower
		Loop
	Select:
			TNT1 AA 0 A_Raise
			FGN4 A 1 A_Raise
			Loop
	Fire:
		NULL A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Ragefire")
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		COLT B 0 A_FireBullets(5, 5, 3, 4, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", chan_Weapon)
		FGF4 C 1  
		FGF4 D 1 
		FGN4 C 1
		FGN4 D 1
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		COLT B 0 A_FireBullets(5, 5, 3, 4, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon) 
		FGF4 A 1 
		FGF4 B 1 
		FGN4 C 1
		FGN4 D 1
		FGN4 A 2 A_ReFire
		FGN4 B 3 A_WeaponReady
		FGN4 C 3 A_WeaponReady
		FGN4 D 3 A_WeaponReady
		FGN4 A 4 A_WeaponReady
		FGN4 B 4 A_WeaponReady
		FGN4 C 4 A_WeaponReady
		FGN4 D 5 A_WeaponReady
		FGN4 A 5 A_WeaponReady
		FGN4 B 5 A_WeaponReady
		FGN4 C 6 A_WeaponReady
		FGN4 D 6 A_WeaponReady
		FGN4 A 7 A_WeaponReady
		FGN4 B 7 A_WeaponReady
		FGN4 C 7 A_WeaponReady
		FGN4 D 7 A_WeaponReady
		FGN4 A 8 A_WeaponReady
		FGN4 B 8 A_WeaponReady
		FGN4 C 9 A_WeaponReady
		FGN4 D 9 A_WeaponReady
		
	Goto Ready
		RageFire:
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		COLT B 0 A_FireBullets(5, 5, 3, 4, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon)
		FGF4 C 1  
		FGN4 C 1
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		COLT B 0 A_FireBullets(5, 5, 3, 4, "BulletPuff")
		COLT B 0 A_Playsound("Weapon/Machinegunfire", Chan_weapon) 
		FGF4 A 1 
		FGN4 C 1
		Fgn4 A 0 A_Refire
		FGN4 D 1 A_WeaponReady
		FGN4 A 2 A_WeaponReady
		FGN4 B 3 A_WeaponReady
		FGN4 C 3 A_WeaponReady
		FGN4 D 3 A_WeaponReady
		FGN4 A 4 A_WeaponReady
		FGN4 B 4 A_WeaponReady
		FGN4 C 4 A_WeaponReady
		FGN4 D 5 A_WeaponReady
		FGN4 A 5 A_WeaponReady
		FGN4 B 5 A_WeaponReady
		FGN4 C 6 A_WeaponReady
		FGN4 D 6 A_WeaponReady
		FGN4 A 7 A_WeaponReady
		FGN4 B 7 A_WeaponReady
		FGN4 C 7 A_WeaponReady
		FGN4 D 7 A_WeaponReady
		FGN4 A 8 A_WeaponReady
		FGN4 B 8 A_WeaponReady
		FGN4 C 9 A_WeaponReady
		FGN4 D 9 A_WeaponReady
		Goto Ready
  Spawn:
	MGUN A -1
	Stop
  }
}

Actor AK47drop : CustomInventory //This is to prevent the "CHGCHG Machinegun!" sound spam!
{
  Radius 12
  Height 18
  scale 1
	Inventory.Respawntics"4200"
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a Machinegun weapon"
  States
  {
  Spawn:
	MGUN A -1
	Stop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_PLAYSOUND("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("Fiendsminigun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("LMG")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("misc/w_pkup",chan_6)
	TNT1 A 0 A_Giveinventory("HMachinegun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("Autogun")
	Stop
  }
}

Actor Chaingundrop : CustomInventory replaces Chaingun //This is to prevent the "CHGCHG Machinegun!" sound spam!
{
  Radius 12
  Height 18
  scale 0.1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a Machinegun weapon"
  States
  {
  Spawn:
	CGBX ABC 15 BRIGHT
	loop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_playsound("Weapon/Miniget",Chan_7)
	TNT1 A 0 A_Giveinventory("Fiendsminigun")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/lmgget",Chan_7)
	TNT1 A 0 A_Giveinventory("LMG")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("Weapon/Ripperget",Chan_7)
	TNT1 A 0 A_Giveinventory("HMachinegun")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("Autogun")
	Stop
  }
}

ACTOR Ak_Mag : Ammo 
{
  //$Category Ammunition
  Inventory.PickupMessage "Picked up an AK Magazine."
  Inventory.Amount 75
  Inventory.MaxAmount 250
  Ammo.BackpackAmount 75
  Inventory.Respawntics"4200"
  Ammo.BackpackMaxAmount 500
  Inventory.Icon "AKAMA0"
  Inventory.PickupSound "AMMO/AKMAG"
  States
  {
  Spawn:
	AKAM A -1
	Stop
  }
}

ACTOR Ak_MagSpecial : CustomInventory replaces Clipbox 
{
  //$Category Ammunition
  Inventory.PickupMessage "Picked up an Machinegun Magazine."
  Inventory.Respawntics"4200"
  States
  {
  Spawn:
	AKAM A -1
	Stop
   pickup:
	TNT1 A 0 A_Giveinventory("AK_MAG",75)
	TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"AMMO")
	Stop
  AMMO:
	TNT1 A 0 A_Playsound("Jim/taunt10",Chan_6)
	Stop
  }
}
//-------------------------------------
//----< Rawket lawnchair replacer >---- 
//-------------------------------------

ACTOR Rawketlawnchair : DoomWeapon //Zdoom spriting carnival
{
	Game Doom
	Weapon.PreferredSkin "rocket-Marine"
	Scale 0.8
	SpawnID 29
	Weapon.SelectionOrder 5
	Weapon.AmmoUse 1
	Weapon.Ammogive 5
	Weapon.AmmoType "RoketAmmo"
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
		//+WEAPON.NOAUTOAIM
	Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupSound "weapon/rocketget"
	Inventory.PickupMessage "$GOTLAUNCHER"
	States
	{
		Ready:
		FRLG A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 AA 0 A_lower
		FRLG A 1 A_Lower
		Goto Deselect+1
	Select:
		TNT1 AA 0 A_Raise
		FRLG A 1 A_Raise
		Goto Select+1
	Altfire: 
	RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
	Goto Ready
	RLGG A 1 Offset ( -26, 70 )
	RLGG A 1 Offset ( -25, 60 )
	RLGG A 2 Offset ( -23, 52 )
	RLGG A 2 Offset ( -20, 47 )
	RLGG A 3 Offset ( -15, 42 )
	RLGG A 3 Offset ( -10, 37 )
	RLGG A 4 Offset ( -5, 34 )
	RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
	RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
	Goto ALTFirestop
	RLGF A 1 Bright 
	RLGG B 1 Bright
	RLGG C 1 Bright
	RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
	RLGG D 1 A_Takeinventory("AbilityCharge",2)
	RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
	RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
	RLGG A 1 A_Refire
  ALTFirestop:
	RLGG A 4 Offset ( 0, 32 )
	RLGG A 4 Offset ( -5, 34 ) 
	RLGG A 3 Offset ( -10, 37 )
	RLGG A 3 Offset ( -15, 42 )
	RLGG A 2 Offset ( -20, 47 )
	RLGG A 2 Offset ( -23, 52 )
	RLGG A 1 Offset ( -25, 60 )
	RLGG A 1 Offset ( -26, 70 )
	goto Ready
	Fire:
		FRLF A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldfire")
		FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
		FRLF A 1 Bright A_GunFlash
		FRLF A 0 A_FireCustomMissile("FiendsRawket",0,1,0,0,0)
		FRLF B 1 Bright 
		FRLF C 1 Bright
		FRLF D 2
		FRLF E 2
		FRLF F 1
		FRLF G 1
		FRLF H 1
		FRLF I 1
		FRLF J 1
		FRLF K 1
		FRLF L 1
		FRLF M 1
		FRLF N 1
		FRLF O 1
		FRLF P 1
		FRLF Q 4 
		FRLG A 0 A_ReFire
		Goto Ready
	GoldFire:
		FRLF A 0 A_Jump(100,"Critfire")
		FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
		FRLF A 1 Bright A_GunFlash
		FRLF A 0 A_FireCustomMissile("FiendsRawket",0,1,0,0,0)
		FRLF B 1 Bright 
		FRLF C 1 Bright
		FRLF D 2
		FRLF E 2
		FRLF F 1
		FRLF G 1
		FRLF H 1
		FRLF I 1
		FRLF J 1
		FRLF K 1
		FRLF L 1
		FRLF M 1
		FRLF N 1
		FRLF O 1
		FRLF P 1
		FRLF Q 4 
		FRLG A 0 A_ReFire
		Goto Ready
		CritFire:
		FRLF A 0 A_playsound("RLAWNCH", Chan_weapon)
		NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
		FRLF A 1 Bright A_GunFlash
		FRLF A 0 A_FireCustomMissile("FiendsCRocket",0,1,0,0,0)
		FRLF B 1 Bright 
		FRLF C 1 Bright
		FRLF D 2
		FRLF E 2
		FRLF F 1
		FRLF G 1
		FRLF H 1
		FRLF I 1
		FRLF J 1
		FRLF K 1
		FRLF L 1
		FRLF M 1
		FRLF N 1
		FRLF O 1
		FRLF P 1
		FRLF Q 4 
		FRLG A 0 A_ReFire
		Goto Ready
	Flash:
		TNT1 A 3 Bright A_Light1
		TNT1 A 4 Bright
		TNT1 AA 4 Bright A_Light2
		Goto LightDone
	Spawn:
		LAUN A -1
		Stop
	}
}

Actor RLdrop : CustomInventory replaces Rocketlauncher
{
  Radius 12
  Height 18
  scale 0.1
	Inventory.Respawntics"6300"	
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got an Explosive weapon"
  States
  {
  Spawn:
	RLBX ABC 15 BRIGHT
	loop
  pickup:
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_playsound("Weapon/Rocketget",Chan_7)
	TNT1 A 0 A_Giveinventory("Rawketlawnchair")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/Bowget",Chan_7)
	TNT1 A 0 A_Giveinventory("Cryobow")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_playsound("Weapon/Nadeget",Chan_7)
	TNT1 A 0 A_Giveinventory("Degrenadelauncher")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("MortarGun")
	Stop
  }
}

ACTOR Roketammo : Ammo replaces Rocketammo
{
  Inventory.PickupMessage "$GOTROCKET" // "Picked up a rocket."
  Inventory.Amount 1
  Inventory.MaxAmount 50
  Inventory.Respawntics"6300"
  Ammo.BackpackAmount 1
  Ammo.BackpackMaxAmount 100
  Inventory.Icon "ROCKA0"
  Inventory.PickupSound "AMMO/ROKET"
  States
  {
  Spawn:
	ROCK A -1
	Stop
  }
}

ACTOR RoketBox : Roketammo
{
  Inventory.PickupMessage "$GOTROCKBOX" // "Picked up a box of rockets."
  Inventory.Amount 5
  Inventory.Respawntics"6300"
  Inventory.PickupSound "AMMO/ROKETBAWX"
  States
  {
  Spawn:
	BROK A -1
	Stop
  }
}

//---------------------------
//----< Plasma replacer >----
//---------------------------


//Removed for balance reasons. < Used to be for a Reload mechanic >
Actor Plasmaclip : Ammo
{
	Inventory.MaxAmount 100
}


ACTOR DEPlasmaRifle : DoomWeapon 
{
	Game Doom
	Scale 1

	Weapon.SelectionOrder 1
	Weapon.AmmoUse 1
	Weapon.Ammogive 40
	Weapon.AmmoType "Battery"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Weapon.SlotNumber 6
	Weapon.Slotpriority 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.Restrictedto "Fiend"
	Inventory.Respawntics"4200"
	Inventory.PickupSound "weapon/plasmaget"
	Inventory.PickupMessage "$GOTPLASMA"
	States
	{
	Ready:
		FPLG A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 AA 0 A_Lower
		FPLG A 1 A_Lower
		Goto Deselect+1
	Select:
		TNT1 AA 0 A_Raise
		FPLG A 1 A_Raise
		Goto Select+1
	Fire:
		TNT1 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"Goldfire")
		FPLF A 2 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
		FPLF B 1
		FPLF C 2 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
		FPLF B 1
		FPLF B 0 A_Refire
		Goto Ready
		GoldFire:
		FPLF A 1 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
		FPLF B 1
		FPLF C 1 Bright A_FireCustomMissile("Fiendzys_PlasmaBall",0,1,0,0,0)
		FPLF B 1
		FPLF B 0 A_Refire
		Goto Ready
	Flash:
		TNT1 A 2 Bright A_Light1
	    TNT1 A 1 A_Light0
		TNT1 A 2 Bright A_Light1
	    TNT1 A 1 A_Light0
		Goto LightDone
	Spawn:
		DEPG A -1
		Stop
	}
}

	


Actor Highnoon : Inventory
{
  Radius 12
  Height 18
  scale 1
  Inventory.MaxAmount 1
  Inventory.PickupMessage "Reach for the sky!"
  States
  {
  Spawn:
	PIST A -1
	Stop
  }
}

ACTOR Battery : AMMO
{
  Inventory.PickupMessage "$GOTCELL" // "Picked up an energy cell."
  Inventory.Amount 20
  Inventory.MaxAmount 300
  Ammo.BackpackAmount 20
  Ammo.BackpackMaxAmount 600
  Inventory.Icon "CELLA0"
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/BATTERY"
  States
  {
  Spawn:
	CELL A -1
	Stop
  }
}


ACTOR Railslugs : AMMO
{
  Inventory.PickupMessage "you have collected some Rail Slug(s)!"
  Inventory.Amount 5
  Inventory.MaxAmount 25
  Ammo.BackpackAmount 10
  Ammo.BackpackMaxAmount 50
  Inventory.Icon "CELLA0"
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/BATTERY"
  States
  {
  Spawn:
	CELL A -1
	Stop
  }
}

Actor Batteryspecial : CustomInventory Replaces Cell
{
  Radius 12
  Height 18
  scale 1
	Inventory.Respawntics"8400"
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a Large battery and 5 Rail Slugs!"
  Inventory.PickupSound "AMMO/BATTERYPAK"
  States
  {
  Spawn:
	CELL A -1
	Stop
  pickup:

	TNT1 A 0 A_Giveinventory("Battery",40)
	TNT1 A 0 A_Giveinventory("RailSLUGS",5)
	TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"Plasma")
	Stop
  Plasma:
	TNT1 A 0 A_Playsound("Jim/taunt6",Chan_6)
	Stop
  }
}


Actor Batterypackspecial : CustomInventory Replaces Cellpack
{
  Radius 12
  Height 18
  scale 1
  Inventory.Respawntics"8400"
  Inventory.MaxAmount 1
  Inventory.PickupMessage "You picked up a Large battery and 2 bfg Charges"
  Inventory.PickupSound "AMMO/BATTERYPAK"
  States
  {
  Spawn:
	CELP A -1
	Stop
  pickup:
	TNT1 A 0 A_Giveinventory("Battery",100)
	TNT1 A 0 A_Giveinventory("BFGCHARGE",2)
	TNT1 A 0 A_Giveinventory("Lightningammo",50)  
	TNT1 A 0 A_Jumpifinventory("Fiendtoken",1,"Tender")
	Stop
  Tender:
	TNT1 A 0 A_Playsound("Jim/taunt4",Chan_6)
	Stop
  }
}
ACTOR Lightningammo : Ammo
{
  Inventory.PickupMessage "Got Lightning gun ammo (gosimers ammo source only!)" // "Picked up an BFG CHARGE!"
  Inventory.Amount 50
  Inventory.MaxAmount 150
  Ammo.BackpackAmount 25
  Ammo.BackpackMaxAmount 200
  Inventory.Icon "CELLA0"
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/BATTERY"
  States
  {
  Spawn:
	CELL A -1
	Stop
  }
}

ACTOR batteryPack : Battery
{
  Inventory.PickupMessage "$GOTCELLBOX" // "Picked up an energy cell pack."
  Inventory.Amount 100
  Inventory.Respawntics"4200"
  Inventory.PickupSound "AMMO/BATTERYPAK"
  States
  {
  Spawn:
	CELP A -1
	Stop
  }
}

Actor PLASMAdrop : CustomInventory replaces Plasmarifle
{
  Radius 12
  Height 18
  scale 0.1
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.Respawntics"8400"
   Inventory.PickupMessage "You got a Plasma Weapon!"
  States
  {
  Spawn:
	PRBX ABC 15 Bright
	loop
  pickup:
	TNT1 A 0 A_JumpifInventory ("Fiendtoken", 1,"Fiendpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_Playsound("Weapon/thunderboltget",Chan_7)
	TNT1 A 0 A_Giveinventory("Lightning_Rifle")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/ChannlerGet",Chan_6)
	TNT1 A 0 A_Giveinventory("Channeler")
	Stop
  Fiendpickup:
	TNT1 A 0 A_Playsound("weapon/Plasmaget",Chan_7)
	TNT1 A 0 A_Giveinventory("DEPlasmaRifle")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("ConcRifle")
	Stop
  }
}

//--------------=-------------
//----< Bfg9000 replacer >----
//---------------=------------


ACTOR BFGCHARGE : Ammo
{
  Inventory.PickupMessage "Got a bfg charge!" // "Picked up an BFG CHARGE!"
  Inventory.Amount 2
  Inventory.MaxAmount 10
  Ammo.BackpackAmount 3
  Ammo.BackpackMaxAmount 15
  Inventory.Icon "CELLA0"
  Inventory.Respawntics"8400"
  Inventory.PickupSound "AMMO/BATTERY"
  States
  {
  Spawn:
	CELL A -1
	Stop
  }
}


/*ACTOR DEBFG9500 : DoomWeapon  //Sprites by Erience.
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.AmmoUse 1
	Weapon.AmmoGive 2
	Weapon.AmmoType "bfgcharge"
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
	Inventory.Respawntics"10500"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
		Inventory.PickupSound "weapon/bfgget"
	Weapon.PreferredSkin "BFG-Marine"
	Inventory.PickupMessage "$GOTBFG9000"
	States
	{
	Ready:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldReady")
		DBFG A 1 A_WeaponReady
		Loop
	Deselect:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldDeselect")
		DBFG A 1 A_Lower
		loop
	Select:
		GRAI G 0 A_jumpifinventory("Tier7upgradetoken",1,"GoldSelect")
		DBFG A 1 A_Raise
		Loop
	Altfire: 
	RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
	Goto Ready
	RLGG A 1 Offset ( -26, 70 )
	RLGG A 1 Offset ( -25, 60 )
	RLGG A 2 Offset ( -23, 52 )
	RLGG A 2 Offset ( -20, 47 )
	RLGG A 3 Offset ( -15, 42 )
	RLGG A 3 Offset ( -10, 37 )
	RLGG A 4 Offset ( -5, 34 )
	RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
	RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
	Goto ALTFirestop
	RLGF A 1 Bright 
	RLGG B 1 Bright
	RLGG C 1 Bright
	RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
	RLGG D 1 A_Takeinventory("AbilityCharge",2)
	RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
	RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
	RLGG A 1 A_Refire
  ALTFirestop:
	RLGG A 4 Offset ( 0, 32 )
	RLGG A 4 Offset ( -5, 34 ) 
	RLGG A 3 Offset ( -10, 37 )
	RLGG A 3 Offset ( -15, 42 )
	RLGG A 2 Offset ( -20, 47 )
	RLGG A 2 Offset ( -23, 52 )
	RLGG A 1 Offset ( -25, 60 )
	RLGG A 1 Offset ( -26, 70 )
	goto Ready
		
	Fire:
		DBFG A 0 A_Jumpifinventory("Tier7upgradetoken",1,"Goldfire")
		DBFG B 10 A_PlaySound("9kbfg", chan_weapon)
		DBFC ABCDE 2 Bright
		DBFC F 2 Bright A_GunFlash
		DBFC GHIJ 2 Bright
		DBFF A 2 Bright A_FireCustomMissile("kewlbfg",0,1,0,0)
		DBFF B 2 Bright 
		DBFG CDA 2 Bright
		DBFG A 20 A_ReFire
		Goto Ready

//GOLD FIRE

	GOLDReady:
		GBFG A 1 A_WeaponReady
		Loop
	GOLDDeselect:
		GBFG A 1 A_Lower
		loop
	GOLDSelect:
		TNT1 A 0 A_giveinventory("Tier7upgradetoken", 1)
		GBFG A 1 A_Raise
		Loop
	Goldfire:
		GBFG B 0 A_Jump(128, "Critshot")
		GBFG B 10 A_PlaySound("9kbfg", chan_weapon)
		GBFC ABCDE 2 Bright
		GBFC F 2 Bright A_GunFlash
		GBFC GHIJ 2 Bright
		GBFF A 2 Bright A_FireCustomMissile("REDkewlbfg",0,1,0,0)
		GBFF B 2 Bright 
		GBFG CDA 2 Bright
		GBFG A 20 A_ReFire
		Goto GoldReady
	Critshot:
		GBFG B 10 A_PlaySound("9kbfg", chan_weapon)
		GBFC ABCDE 2 Bright
		GBFC F 2 Bright A_GunFlash
		GBFC GHIJ 2 Bright
		GBFC J 0 A_PlaySound("Weapon/Critshot", Chan_7)
		GBFF A 2 Bright A_FireCustomMissile("Critkewlbfg",0,1,0,0)
		GBFF B 2 Bright 
		GBFG CDA 2 Bright
		GBFG A 20 A_ReFire
		Goto GoldReady
	Flash:
		TNT1 A 5 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		DEBF A -1
		Stop
	}
}

*/

ACTOR DEBFG9500 : BFG9000 
{
  Game Doom
  Scale 0.8
  Height 20
  SpawnID 31
  Weapon.SelectionOrder 7
  Weapon.AmmoUse 1
  Weapon.AmmoGive 1
  Weapon.AmmoType "bfgcharge"
  Weapon.BobSpeed 1.5
  Weapon.BobRangeX .5
  Weapon.BobStyle "InverseSmooth"
Weapon.SlotNumber 7
  Inventory.Forbiddento "Maximusprime"
  Inventory.Respawntics"10500"
  Inventory.ForbiddenTo "Kunai"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.RestrictedTo "Fiend"
  Inventory.PickupSound "weapon/bfgget"
  Tag "BFG9K"
  Obituary "%o was vapourized by %k's bfg blast"
  States
  {
  Spawn:
	BFUG A -1
	Stop
  Select:
	TNT1 A 0
	TNT1 A 0 A_StopSound(CHAN_WEAPON)
	BFKN A 0 A_Raise
	BFKN A 1 A_Raise
	Loop
  Deselect:
	TNT1 A 0
	TNT1 A 0 A_StopSound(CHAN_WEAPON)
	BFKN A 0 A_Lower
	BFKN A 1 A_Lower
	Loop
  Ready:
	BFKN A 0
	BFKN AAQQRRQQ 1 A_WeaponReady
	Loop
  Fire:
	BFKN A 0
//	BFKN A 0 Bright A_Quake(1, 30, 0, 345, "none")
//	BFKN A 0 A_PlaySound("9kbfg", CHAN_7, 0.35, 0)
	BFKN A 0 A_PlaySound("BFG/Fire", CHAN_WEAPON, 1.0, 0)
	BFKN AAABBBCCDDEEFFGGHHIIJJ 1 Bright
	BFKN K 0 A_SetBlend("Green", 0.35, 18)
//	BFKN K 0 A_Quake(6, 15, 0, 450, "none")
	BFKN K 0 A_FireCustomMissile("kewlbfg", 0, 1)
	BFKN KLM 2 Bright
//	BFKN K 0 A_Quake(1, 20, 0, 450, "none")
	BFKN NOPQR 2 Bright
	BFKN R 2 A_Refire
	Goto Ready
  }
}
ACTOR Lightning_Rifle: DoomWeapon 
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.SlotNumber 7
	Inventory.Forbiddento "Maximusprime"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 40
	Weapon.AmmoType "Battery"
	Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
		//+WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
		Inventory.PickupSound "Weapon/devistatorget"
	Weapon.PreferredSkin "Plasma-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Lightning Gun"
	Tag "Lightning Gun"
	States
	{
	Ready:
		THUN C 0 A_Stopsound(6)
	Ready2:
		THUN A 0 A_playsound("Weapon/litning_IDLE", 6, 1.0, 1)
		THUN A 1 A_WeaponReady 
		THUN C 1 A_WeaponReady
		THUN B 1 A_WeaponReady 
		THUN C 1 A_WeaponReady
		Loop
	Deselect:
		NULL A 0 A_Stopsound(6)
		THUN C 1 A_Lower
		Goto Deselect+1
	Select:
		NULL A 0 A_Stopsound(6)
		THUN C 1 A_Raise
		Goto Select+1
	Fire:
		NULL A 0 A_PlaySound("Weapon/Litning_START",Chan_weapon)
		THUN D 1
		THUN E 1 
	Firehold:
		NULL A 0 A_playsound("Weapon/Litning_LOOP", 6, 1.0, 1)
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 5, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	jiggleRando:
		THUN F 0 A_JUMP(50, "jiggle1")
		THUN F 0 A_JUMP(50, "jiggle2")
		THUN F 0 A_JUMP(50, "jiggle3")
		THUN F 0 A_JUMP(50, "Jiggle4")
		THUN F 0 A_JUMP(50, "Jiggle5")
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,32)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	
	Jiggle1:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(1,33)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle2:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-1,33)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle3:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle4:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(-2,34)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Jiggle5:
		THUN F 0 A_GUNFLASH
		THUN F 1 Offset(0,33)  A_RailAttack(20, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 1028, 35, 1.0, 4.0, "Lightninggunblast")
		THUN F 1 A_REFIRE ("JiggleRando")
		Goto Fireend
	Fireend:
		NULL A 0 A_Stopsound(6)
		NULL A 0 A_PlaySound("Weapon/Litning_STOP", chan_weapon)
		THUN E 1
		THUN D 1 
			Goto Ready
	 Flash:
		TNT1 A 1 Bright A_Light1
		Goto LightDone
	 Spawn:
		PLAS A -1
		Stop
	}
}

ACTOR micro_Devistator : DoomWeapon
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 8
	Weapon.slotnumber 8
	Weapon.AmmoUse 1
	Weapon.AmmoGive 60
	Weapon.AmmoType "Lightningammo"
		 Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
		+WEAPON.NOAUTOAIM
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
		Inventory.PickupSound "Weapon/devistatorget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Devastator"
	Tag "Devastator"
	States
	{
	Ready:
		DASS A 1 A_WeaponReady
		Loop
	Deselect:
		DASS A 1 A_Lower
		Loop
	Select:
		DASS A 1 A_Raise
		Loop
	Fire:
		DASS A 0 A_Playsound("weapon/D3DDEVSPAWN",chan_weapon)
		DASS B 1 A_GunFlash
		DASS C 1
		DASS D 2 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS E 2 A_Firecustommissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS F 2 A_FireCustomMissile("Devistator_shell",frandom(-3.0, 3.0),1,0,0,0,frandom(-2.0, 2.0))
		DASS C 1
		DASS B 1
		DASS A 1 A_Refire
		Goto Ready
	Flash:
		TNT1 A 2 Bright
		TNT1 A 2 Bright A_Light1
		TNT1 A 2 Bright A_Light2
		TNT1 A 2 Bright A_Light1
		Goto LightDone
	Spawn:
		LAUN A -1
		Stop
	}
}

ACTOR Devistator_shell
{
  scale 0.25
  Radius 11
  Height 8
  Speed 20
  Damage 6
  Projectile
  +SEEKERMISSILE
  +SCREENSEEKER
//SeeSound "weapon/D3DDEVSPAWN"
  DeathSound "weapons/D3DDEVBOOM"
  Obituary "%O caught %K's devistator shell" // "%o rode %k's rocket."
  States
  {
  Spawn:
	RPGX AAAAAA 1 bright
	goto Fly
  Fly:
	RPGX A 0 A_playsound("weapon/D3DDEVFLY",6, 1.0, 1)
	RPGX A 0 A_Weave(3, 3, frandom[speen](0.0, 1.0), frandom[speen](0.0, 1.0))
	RPGX A 1 Bright A_SeekerMissile(3,3,SMF_LOOK,50,5)
	Loop
  Death:
	MISL B 8 Bright A_Explode(40, 128)
	MISL C 6 Bright A_stopsound(6)
	MISL D 4 Bright
	Stop
  }
}

Actor bfgdrop : CustomInventory replaces Bfg9000
{
  Radius 12
  Height 18
  scale 0.1
	Inventory.Respawntics"21000"
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupSound ""
  Inventory.PickupMessage "You got a BFG Weapon!"
  States
  {
  Spawn:
	9KBX ABC 15 BRIGHT
	LOOP
  pickup:
	TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
	TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
	TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
	TNT1 A 0 A_Playsound("weapon/bfgget",Chan_7)
	TNT1 A 0 A_Giveinventory("debfg9500")
	Stop
  Kunaipickup:
	TNT1 A 0 A_playsound("Weapon/Vortexget",Chan_6)
	TNT1 A 0 A_Giveinventory("Vortexgun")
	Stop
  Gosimerpickup:
	TNT1 A 0 A_Playsound("Weapon/devistatorget",Chan_7)
	TNT1 A 0 A_Giveinventory("micro_Devistator")
	Stop
  Maxpickup:
	TNT1 A 0 A_Playsound("Max/HealthBonus",CHAN_7)
	TNT1 A 0 A_Giveinventory("AssaultCannon")
	Stop
  }
}

ACTOR Devistator_shell
{
  scale 0.5
  Radius 11
  Height 8
  Speed 20
  Damage 4
  Projectile
  +SEEKERMISSILE
  +SCREENSEEKER
  SeeSound "weapon/D3DDEVSPAWN"
  DeathSound "weapon/D3DDEVBOOM"
  Obituary "%O caught %K's devistator shell" // "%o rode %k's rocket."
  States
  {
	Spawn:
			MISL AAAAAA 1 bright
			goto Fly
	Fly:
		GLGF A 0 A_playsound("weapon/D3DDEVFLY", 6, 1.0, 1)
			MISL A 1 Bright A_SeekerMissile(2,3,SMF_LOOK)
			Loop
	Death:
			MISL B 8 Bright A_Explode (35, 64)
		MISL C 6 Bright
		MISL D 4 Bright
		Stop
	}
}


//Kunais Class Weapons

ACTOR Kunaisrevolver : weapon //Weapon base from Golden souls
{
  Weapon.SelectionOrder 7
  Weapon.PreferredSkin "Pistol-Marine"
  Weapon.SlotNumber 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 0
	Weapon.AmmoGive1 18
	+WEAPON.NOAUTOAIM
	+DONTGIB	
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	Inventory.PickupSound "misc/w_pkup"
	Weapon.AmmoType1 "Peastolclip"
	Weapon.AmmoType2 "REV_SHOT"
	decal bulletchip
	States
	{
	Ready:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldready")
		NULL A 0 A_JumpIfInventory("Reload",0,"Reload")
		COLT A 1 A_WeaponReady (WRF_ALLOWRELOAD)
		Loop
	Deselect:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddeselect")
		NULL A 0 A_TakeInventory("Reload",1)
		COLT A 1 A_Lower
		loop
	Select:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldSelect")
		COLT A 1 A_Raise
		Loop
	Fire:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Dryfire
		COLT A 1 A_TakeInventory("REV_SHOT",1)
		COLT B 1 A_Playsound("REVFIRE", CHAN_WEAPON)
		TNT1 A 0 A_GUNFLASH
		COLT C 1 BRIGHT A_FireBullets(0, 0, -1, 20,"BulletPuff",1)
		TNT1 A 0
		COLT D 1 
		TNT1 A 0 
		COLT E 4 
		COLT D 5 
		COLT A 1 A_refire
		Goto Ready
	ALTFIRE:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldAltFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto AltfireDry
		HCLT A 4
		HCLT B 4
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNDry
		HCLT C 2 A_TakeInventory("REV_SHOT",1)
		HCLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HLCT D 0 A_gunflash
		HCLT E 2 BRIGHT A_FireBullets(3.5, 3.5, -1, 20,"BulletPuff",1)
		HCLT F 4
		HCLT G 4
		goto Reload
	GoldALTFIRE:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"HNGoldaltfire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Golddry
		HGLT A 4
		HGLT B 4
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
	HNGoldaltfire:
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Golddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto HNGolddry
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(3, 3, -1, 25,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
	AltfireDry:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Golddry")
		HCLT A 4
		HCLT B 4
		HCLT C 4
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HCLT F 4
		HCLT G 4
		COLT A 4
		Goto Reload
	GoldDry:
		HGLT A 4
		HGLT B 4
		HGLT C 4
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HGLT F 4
		HGLT G 4
		GOLT A 4
		Goto Reload
	HNGoldDry:
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HGLT F 4
		HGLT G 4
		GOLT A 4
		Goto Reload
	HNDry:
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		HCLT F 4
		HCLT G 4
		COLT A 4
		Goto Reload		
	Reload:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"Goldreload")
		NULL A 0 A_TakeInventory("Reload",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"Ready")
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1)
		Goto Ready
		NULL A 0 A_PlaySound("REVOPEN",chan_5)
	    	COLT FGHIJ 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVEJECT",chan_5)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		COLT K 2 A_WeaponReady(WRF_NOFIRE)
		COLT LM 2 A_WeaponReady(WRF_NOFIRE)
		COLT M 10 A_WeaponReady(WRF_NOFIRE)
		COLT ML 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVINSERT",chan_5)
		COLT KJIHGF 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVCLOSE",chan_5)		
		COLT A 2 A_WeaponReady(WRF_NOFIRE)
	ReloadAmmoLoop:
		NULL A 0 A_TakeInventory("Peastolclip",1)
		NULL A 0 A_GiveInventory("REV_SHOT",1)
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1) // if not out of ammo, countinue reloading
		goto ReloadEnd
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"ReloadEnd") // if clip full, finish reload
		goto ReloadAmmoLoop // otherwise continue
	ReloadEnd:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GoldReloadend")
		COLT A 1 A_WeaponReady(WRF_NOFIRE)
		COLT A 1 A_weaponready
		COLT A 0 A_Jump(25,"Highnooncheck")
		Goto Ready
	GoldReload:
		NULL A 0 A_TakeInventory("Reload",1)
		NULL A 0 A_JumpIfInventory("REV_SHOT",0,"Ready")
		NULL A 0 A_JumpIfInventory("Peastolclip",1,1)
		Goto Ready
		NULL A 0 A_PlaySound("REVOPEN",chan_5)
	    	GOLT FGHIJ 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVEJECT",chan_5)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		NULL A 0 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 0)
		GOLT K 2 A_WeaponReady(WRF_NOFIRE)
		GOLT LM 2 A_WeaponReady(WRF_NOFIRE)
		GOLT M 10 A_WeaponReady(WRF_NOFIRE)
		GOLT ML 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVINSERT",chan_5)
		GOLT KJIHGF 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySound("REVCLOSE",chan_5)		
		GOLT A 2 A_WeaponReady(WRF_NOFIRE)
		Goto ReloadAmmoLoop
	GoldReloadEnd:
		GOLT A 1 A_WeaponReady(WRF_NOFIRE)
		GOLT A 1 A_weaponready
		GOLT A 0 A_Jump(25,"Highnooncheck")
		Goto Ready
	Highnooncheck:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"ItsHighnoon")
		Goto Ready
	ItsHighnoon:
		NULL A 0 A_Giveinventory("Highnoon",1)
		HGLT A 4 ACS_Namedexecutewithresult("sv_highnoon")
		HGLT B 4 
		HGLT C 70
		HGLT C 4 A_WeaponReady(WRF_NOSECONDARY)
		Goto ItsHighnoon+4
	Deadeyeready:
		HGLT B 4 
		HGLT C 4
		HGLT C 4 A_WeaponReady
		Goto Deadeyeready+2
		
	Flash:
		TNT1 A 2 A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	DryFire:
		COLT A 0 A_JumpIfInventory("Tier1upgradetoken",1,"GolddryFire")
		COLT A 1 A_WeaponReady(WRF_NOFIRE)
		COLT A 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		COLT B 2 A_WeaponReady(WRF_NOFIRE)
		Goto Reload
	GoldDryFire:
		GOLT A 1 A_WeaponReady(WRF_NOFIRE)
		GOLT A 2 A_WeaponReady(WRF_NOFIRE)
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		GOLT B 2 A_WeaponReady(WRF_NOFIRE)
		Goto Reload
	GoldReady:
		TNT1 A 0 A_giveinventory("Tier1upgradetoken", 1)
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"Deadeyeready")
		NULL A 0 A_JumpIfInventory("Reload",0,"Reload")
		GOLT A 1 A_WeaponReady (WRF_ALLOWRELOAD)
		Loop
	GoldDeselect:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"HighnoonDeselect")
		NULL A 0 A_TakeInventory("Reload",1)
		GOLT A 1 A_Lower
		loop
	HighnoonDeselect:
		NULL A 0 A_TakeInventory("Reload",1)
		HGLT F 4
		HGLT G 4
		GOLT A 1 A_Lower
		Goto HighnoonDeselect+3
	GoldSelect:
		GOLT A 1 A_Raise
		Loop
	GoldFire:
		GOLT A 0 A_JumpIfInventory("Highnoon",1,"DeadeyeFire")
		NULL A 0 A_JumpIfInventory("REV_SHOT",1,1)
		Goto Dryfire
		GOLT A 1 A_TakeInventory("REV_SHOT",1)
		GOLT B 1 A_Playsound("REVFIRE", CHAN_WEAPON)
		TNT1 A 0 A_GUNFLASH
		GOLT C 1 BRIGHT A_FireBullets(2, 2, -1, 25,"BulletPuff",1)
		GOLT D 1 
		GOLT E 4 
		GOLT D 5
		GOLT A 1 A_refire
		Goto Ready
	DeadeyeFire:
		NULL A 0 A_TakeInventory("Highnoon",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGCT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT C 2 A_TakeInventory("REV_SHOT",1)
		HGLT D 2 BRIGHT A_Playsound("REVFIRE", CHAN_WEAPON)
		HGLT D 0 A_gunflash
		HGLT E 2 BRIGHT A_FireBullets(1, 1, -1, 150,"BulletPuff",1)
		HGLT F 4
		HGLT G 4
		goto Reload
		  Spawn:
	PIST A -1
	Stop
	}
}


actor REV_Shot : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 6
}

//Kunai Single Shotgun
ACTOR SingleShotgun : weapon //Weapon from Laundry
{
		Weapon.SelectionOrder 6
		Weapon.SlotNumber 3
	Inventory.Forbiddento "Maximusprime"
		Weapon.PreferredSkin "Shotgun-Marine"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
	Weapon.AmmoUse1 1
	Weapon.AmmoGive 8
	Inventory.Respawntics"4200"
		Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
	+WEAPON.NOAUTOAIM
	Inventory.PickupSound "weapon/singleget"
	Weapon.BobStyle "InverseSmooth"
	Weapon.AmmoType "Shellz"
	decal bulletchip
	States
	{
  Ready:
	TNT1 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldready")
	SNGL A 1 A_WeaponReady
	Loop
  Deselect:
	TNT1 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"GoldDeselect")
	SNGL A 1 A_Lower
	Loop
  Select:
	TNT1 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"GoldSelect")
   SNGL A 1 A_Raise
	Loop
  Fire:
	TNT1 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"GoldFire")
	SNGL B 0 A_PlaySound("singleshotgunfire", CHAN_WEAPON)
	SNGL B 0 A_FireBullets (.5, .5, 10, 5.25)
	SNGL B 2 Bright
	SNGL A 3
	SNGL C 2
	SNGL DE 2
	SNGL FG 1
	SNGL H 2 
	SNGL GF 2
	SNGL E 3 A_PlaySound("SNGL/Load",chan_6)
	SNGL IJ 3
	SNGL K 3 A_FireCustomMissile("SingleShotgunCasingSpawner", 0, 0, 0, 1)
	SNGL L 3
	SNGL MNI 3
	SNGL A 2
	SNGL A 2 A_ReFire
	Goto Ready
  Spawn:
	SHOT A -1
	Stop
  GoldReady:
	WINC A 1 A_WeaponReady
	Loop
  GoldDeselect:
	WINC A 1 A_Lower
	Loop
  GoldSelect:
	TNT1 A 0 A_giveinventory("Tier2upgradetoken", 1)
	WINC A 1 A_Raise
	Loop
  GoldFire:
	WINC A 3
	WINC B 0 A_FireBullets (3, 3, 5, 12.5, "BulletPuff")
	WINC B 0 A_PlayWeaponSound ("WCHFIRE")
	WINC B 7 A_GunFlash
	WINC CDEFGH 1
	WINC I 0 A_Playsound ("LEVER")
	WINC IJKJI 3
	WINC HGFEDC 1
	WINC A 3
	WINC A 7 A_ReFire
	Goto Ready
  Flash:
	LAMZ A 2 Bright A_Light1
	LAMZ B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	Goto LightDone
	}
}

ACTOR CryoBow : Weapon
{
	Weapon.PreferredSkin "ROCKET-Marine"
	Weapon.AmmoType "RoketAmmo"
		Weapon.SelectionOrder 2
	Weapon.AmmoUse 1
	Weapon.AmmoGive 5
Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Kunai"
		Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Inventory.Respawntics"4200"
	Weapon.BobStyle "InverseSmooth"
	+WEAPON.NOAUTOAIM
	Inventory.PickupSound "weapon/bowget"
	Inventory.PickupMessage "You got the Cryobow"
	Obituary "%K was shattered by %o's Cryoshot"
	States
	{
	Spawn:
		WBOW A -1
		Stop
	Deselect:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldDeselect")
		BOWG A 1 Bright A_Lower
		Loop
	Select:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldselect")
		BOWG A 1 Bright A_Raise
		Loop
	Ready:
		TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldReady")
		BOWG AAABBBCCCDDDBBB 1 Bright A_WeaponReady
		Loop
	GoldDeselect:
		GOWG A 1 Bright A_Lower
		Loop
	GoldSelect:
		TNT1 A 0 A_giveinventory("Tier5upgradetoken", 1)
		GOWG A 1 Bright A_Raise
		Loop
	GoldReady:
		GOWG AAABBBCCCDDDBBB 1 Bright A_WeaponReady
		Loop
  Altfire:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GOLDALTFIRE")
		BOWG A 0 A_JumpifInventory("GosimersAmmoSphere",1,"InfammoBluecharge")
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG AAABBBCCCDDDBBB 2
		BOWF J 6 Bright
		BOWF K 5 Bright
	Althold:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GoldAlthold")
		BOWF L 2 Bright
		BOWF M 2 Bright
		BOWF N 2 Bright
		BOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		BOWF L 0 Bright A_refire
	BlueChargedFire:
		BOWF K 1 Bright A_takeinventory("Roketammo",5)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold3",0,1,0,8,0)
		BOWF CD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31) 
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	InfammoBluecharge:
		BOWG A 0 Bright
		BOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		BOWG AAABBBCCCDDDBBB 2
		BOWF J 6 Bright
		BOWF K 5 Bright
	INFAlthold:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GoldAlthold")
		BOWF L 2 Bright
		BOWF M 2 Bright
		BOWF N 2 Bright
		BOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		BOWF L 0 Bright A_refire
	INFBlueChargedFire:
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotGold3",0,1,0,8,0)
		BOWF CD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31) 
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	Fire:
		BOWG A 0 A_Jumpifinventory("Tier5upgradetoken",1, "GOLDFIRE")
		BOWG A 0 Bright A_GunFlash
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		BOWF A 2 Bright A_FireCustomMissile("CryoShot",0,1)
		BOWF BCD 2 Bright
		BOWF E 8
		BOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		BOWF E 2 Offset(0,31) 
		BOWF F 2 Offset(0,32)
		BOWF F 2 Offset(0,30)
		BOWF G 2 Offset(0,31)
		BOWF HI 1 Offset(0,32)
		BOWG CDB 3 Bright Offset(0,32)
		BOWG A 0 A_ReFire
		Goto Ready
	GoldFire:
		NULL A 0 A_Jump(75,"GoldFire2")
		GOWG A 0 Bright A_GunFlash
		GOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		GOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 2 Bright A_FireCustomMissile("GoldCryoShot",0,1)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload")
		GOWF E 2 Offset(0,31) 
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		GOWG A 0 A_ReFire
		Goto Ready
	GoldFire2:
		GOWG A 0 Bright A_GunFlash
		GOWG A 0 A_Giveinventory("Roketammo",1)
		GOWG A 0 Bright A_PlaySound("weapons/cryobowshot")
		GOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 2 Bright A_FireCustomMissile("GoldCryoShot",0,1)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload")
		GOWF E 2 Offset(0,31) 
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		GOWG A 0 A_ReFire
		Goto Ready
  GoldAltfire:
		GOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWG A 0 A_JumpifInventory("GosimersAmmoSphere",1,"InfammoBluecharge")
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("Weapon/Cryobow/Charge",chan_6)
		GOWG AAABBBCCCDDDBBB 2
		GOWF J 6 Bright
		GOWF K 5 Bright
	GOLDAlthold:
		GOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWF L 2 Bright
		GOWF M 2 Bright
		GOWF N 2 Bright
		GOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		GOWF L 0 Bright A_refire
	GoldChargedFire:
		BOWG A 0 A_Jumpifinventory("Roketammo",5,1)
		Goto Ready
		GOWF A 1 Bright A_takeinventory("Roketammo",5,1)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue3",0,1,0,8,0)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		GOWF E 2 Offset(0,31) 
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		Goto Ready
 InfammoChargegold:
		GOWG A 0 Bright
		GOWG A 0 Bright A_PlaySound("weapon/Cryobow/Charge",chan_6)
		GOWG A 7 Bright
		GOWC A 7 Bright
		GOWC B 6 Bright
		GOWC C 5 Bright
	INFGoldAlthold:
		GOWF L 2 Bright
		GOWF M 2 Bright
		GOWF N 2 Bright
		GOWF O 2 Bright A_PlaySound("Weapon/Cryobow/Charged",chan_6)
		GOWF L 0 Bright A_refire
	INFGoldChargedFire:
		BOWG A 0 Bright A_PlaySound("weapons/cryobowshot",chan_6)
		BOWG A 0 Bright A_PlaySound("weapons/cryobowfire", CHAN_WEAPON)
		GOWF A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 Bright A_FireCustomMissile("SlowGoldCryoShot",0,1)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue1",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue2",0,1,0,8,0)
		TNT1 A 0 A_FireCustomMissile("ChargeCryoShotBlue3",0,1,0,8,0)
		GOWF BCD 2 Bright
		GOWF E 8
		GOWF E 2 A_PlaySound("weapons/cryobowreload",chan_6)
		GOWF E 2 Offset(0,31) 
		GOWF F 2 Offset(0,32)
		GOWF F 2 Offset(0,30)
		GOWF G 2 Offset(0,31)
		GOWF HI 1 Offset(0,32)
		GOWG CDB 3 Bright Offset(0,32)
		Goto Ready
	Flash:
		TNT1 A 2 Bright A_Light1
		TNT1 A 2 Bright A_Light2
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	}
}


ACTOR streetsweeper : DoomWeapon 8467
{
Weapon.PreferredSkin "SSG-Marine"
   Game Doom
   SpawnID 28
   Weapon.SelectionOrder 1
   Weapon.AmmoUse 1
   Weapon.AmmoGive 20
   Weapon.AmmoType "SuperShellz"
   Weapon.SlotNumber 3
   Weapon.slotpriority 2
	Inventory.Forbiddento "Maximusprime"
   Inventory.ForbiddenTo "Gosimer"
   Inventory.ForbiddenTo "Fiend"
   Inventory.RestrictedTo "Kunai"
   Inventory.Respawntics"4200"
   +WEAPON.NOAUTOAIM
		Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
   Inventory.PickupSound "weapon/streetsweeperget"
   Inventory.PickupMessage "You got the street sweaper! time to rock"
   Obituary "%o was decimated by %k's Street sweeper"
   States
   {
   Ready:
	 NLCG A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldReady")
	 NLCG A 1 A_WeaponReady
	 Loop
   GoldReady:
	 NLCG E 1 A_WeaponReady
	 Loop
   Deselect:
	 NLCG A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldDeselect")
	 NLCG A 1 A_Lower
	 Loop
   GoldDeselect:
	 NLCG E 1 A_Lower
	 Loop
   Select:
	 NLCG A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldSelect")
	 NLCG A 1 A_Raise
	 Loop
   GoldSelect:
	TNT1 A 0 A_giveinventory("Tier3upgradetoken", 1)
	NLCG E 1 A_Raise
	 Loop
   Fire:
	 NLCG A 0 A_Jumpifinventory("Tier3upgradetoken", 1 ,"GoldFire")
	 NLCG A 1 A_PlaySound("6shotgn", CHAN_WEAPON)
	 NLCF A 2 BRIGHT A_FireBullets(4.5, 4.5, 10, 4.75, "BulletPuff")
	 NLCG A 0 A_FireCustomMissile("SingleShotgunCasingSpawner", 0, 0, 0, 1)
	 NLCG B 3
	 NLCG c 3 
	 NLCG D 3
	 NLCG A 2 A_ReFire
	 Goto Ready
   GOLDFIRE:
	 NLCG E 0 A_PlaySound("6shotgn", CHAN_WEAPON)
	 NLCF B 1 BRIGHT A_FireBullets(10, 10, 10, 4.75, "BulletPuff")
	 NLCG E 0 A_FireCustomMissile("SingleShotgunCasingSpawner", 0, 0, 0, 1)
	 NLCG F 1
	 NLCG G 1 
	 NLCG H 1
	 NLCG E 1 A_ReFire
	 Goto Ready
   Spawn:
	 NLCG I -1
	 Stop
   }
}

Actor LMG : Doomweapon
{
Weapon.PreferredSkin "Carbine-Marine"
   Game Doom
   scale 1
   SpawnID 28
   Weapon.SelectionOrder 3
   Weapon.SlotNumber 4
	Inventory.Forbiddento "Maximusprime"
   Inventory.ForbiddenTo "Fiend"
   Inventory.ForbiddenTo "Gosimer"
   Inventory.RestrictedTo "Kunai"
   Weapon.AmmoUse 1
   Weapon.AmmoGive 50
   Weapon.AmmoType "AK_MAG"
   Inventory.Respawntics"4200"
   +WEAPON.NOAUTOAIM
		Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
   Inventory.PickupSound"LMGGET"
   Inventory.PickupMessage "You got the Tommygun!"
   Obituary "%o Had a bad time by %k's Tommygun"
   States
   {
  Ready:
		MNGG A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldready")		
		MNGG A 1 A_WeaponReady
		Loop
  Deselect:
		MNGG A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "GoldDeselect")	
		MNGG A 1 A_Lower
		loop
  Select:
		MNGG A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldselect")	
		MNGG A 1 A_Raise
		Loop
  Fire:
		MNGG A 0 A_Jumpifinventory("Tier4upgradetoken", 1, "Goldfire")	
		MNGG A 0 A_GunFlash
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 Offset(0,35)
		MNGG A 0 A_PlaySound("Weapon/Tommygunfire", CHAN_WEAPON)
		MNGF A 2 Bright A_FireBullets(7, 0, -1, 6, "Bulletpuff")
		MNGG A 1
		MNGG A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 Offset (0,33) 
		MNGG A 0 A_PlaySound("Weapon/Tommygunfire", CHAN_WEAPON)
		MNGF B 1 Bright A_FireBullets(7, 0, -1, 6, "Bulletpuff")
		MNGG B 1 
		MNGG B 1 A_ReFire
		Goto Ready
//Gold state

  GoldReady:
		KGDT A 1 A_WeaponReady
		Loop
  GoldDeselect:
		KGDT A 1 A_Lower
		loop
  GoldSelect:
		TNT1 A 0 A_giveinventory("Tier4upgradetoken", 1)
		KGDT A 1 A_Raise
		Loop
  GoldFire:
		KGDT A 0 A_GunFlash
		//NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		//NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 Offset(0,35)
		MNGG A 0 A_PlaySound("Weapon/Tommygunfire", CHAN_WEAPON)
		KGDT B 1 Bright A_FireBullets(7, 3.5, 2, 6, "Bulletpuff")
		KGDT A 1
		KGDT C 1 Bright A_FireBullets(7, 3.5, 2, 6, "Bulletpuff")
		KGDT A 1
		//MNGG A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		//MNGG A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1)
		MNGG A 0 Offset (0,34) 
		MNGG A 0 A_PlaySound("Weapon/Tommygunfire", CHAN_WEAPON)
		KGDT D 1 Bright A_FireBullets(7, 3.5, 2, 6, "Bulletpuff")
		KGDT A 1
		KGDT E 1 Bright A_FireBullets(7, 3.5, 2, 6, "Bulletpuff")
		KGDT A 1
		KGDT A 1 A_ReFire
		Goto Ready
  Flash:
		TNT1 A 1 A_Light1
		TNT1 A 1 A_Light0
		TNT1 A 1 A_Light1
		TNT1 A 1 A_Light0
		Goto Lightdone
  Spawn:
	AK4I A -1
	Stop
  }
}

//Combat Shotgun

ACTOR CombatShotgun : Doomweapon
{
	 Tag "Shotgun"
	 Weapon.PreferredSkin "Shotgun-Marine"
	 Weapon.SelectionOrder 2
	 Weapon.AmmoUse 1
	 Weapon.AmmoGive 8
	 Weapon.AmmoType "Shellz"
	 Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
	 Inventory.Respawntics"4200"
	 Weapon.SlotNumber 3
	Inventory.Forbiddento "Maximusprime"
	 Inventory.ForbiddenTo "Fiend"
	 Inventory.ForbiddenTo "Kunai"
	 Inventory.RestrictedTo "Gosimer"
	 Inventory.PickupSound "weapon/singleget"
	 Inventory.PickupMessage "CombatShotgun"
	 Obituary "%o killed %k"
	 
	States
	{
		Ready:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldready")
			GUN2 A 1 A_WeaponReady
			GUN2 A 10 A_WeaponReady
				GUN1 A 0 A_giveinventory("scatterclip",1) 
			Loop
		Deselect:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Golddeselect")
			GUN2 A 1 A_Lower
			Loop
		Select:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldselect")
			GUN2 A 1 A_Raise
			Loop
		Fire:
			GUN2 A 0 A_Jumpifinventory("Tier2upgradetoken",1,"Goldfire")
			GUN1 A 0 A_giveinventory("scatterclip",5) 
			GUN2 A 0 Bright A_FireBullets(7, 5, 10, 6.5, "Bulletpuff")
			GUN2 A 0 A_GunFlash
			GUN2 H 2 A_PlaySound("weapon/GSHOTGUNfire", CHAN_WEAPON)
			GUN2 A 2 
			GUN2 A 3
			GUN2 G 3
			GUN2 B 3
			GUN2 C 5
			GUN2 D 4 A_PlaySound("weapon/GSHOTGUNcock1", CHAN_AUTO)
			GUN2 C 3 A_FireCustomMissile("SupershotgunCasingSpawner", 0, 0, 0, 2)
			GUN2 B 3 A_PlaySound("weapon/GSHOTGUNcock2", CHAN_AUTO)
			GUN2 G 2
			GUN2 A 0
			GUN2 A 0 A_ReFire
			Goto Ready
		GoldReady:
			SUN2 A 1 A_WeaponReady
			SUN2 A 10 A_WeaponReady
				SUN1 A 0 A_giveinventory("scatterclip",1) 
			Loop
		GoldDeselect:
			TNT1 A 0 A_giveinventory("Tier2upgradetoken", 1)
			SUN2 A 1 A_Lower
			Loop
		GoldSelect:
			SUN2 A 1 A_Raise
			Loop
		GoldFire:
			SUN1 A 0 A_jump( 48 , "Goldcritfire")
			SUN1 A 0 A_giveinventory("scatterclip",5) 
			SUN2 A 0 A_FireBullets (7, 5, 10, 6.5)
			SUN2 A 0 A_GunFlash
			SUN2 H 2 A_PlaySound("weapon/GSHOTGUNfire", CHAN_WEAPON)
			SUN2 A 2 
			SUN2 A 3
			SUN2 G 3
			SUN2 B 3
			SUN2 C 5
			SUN2 D 4 A_PlaySound("weapon/GSHOTGUNcock1", CHAN_AUTO)
			SUN2 C 3 A_FireCustomMissile("SupershotgunCasingSpawner", 0, 0, 0, 2)
			SUN2 B 3 A_PlaySound("weapon/GSHOTGUNcock2", CHAN_AUTO)
			SUN2 G 2
			SUN2 A 0
			SUN2 A 0 A_ReFire
			Goto Ready
		GoldCritfire:
			SUN1 A 0 A_giveinventory("scatterclip",5) 
			SUN2 A 0 A_FireBullets (7, 5, 10, 11, "GosimersExplosivepuff")
			SUN2 A 0 A_GunFlash
			SUN2 H 2 A_PlaySound("Weapon/Quadshotgunfire", CHAN_WEAPON)
			SUN2 A 2 
			SUN2 A 3
			SUN2 G 3
			SUN2 B 3
			SUN2 C 5
			SUN2 D 4 A_PlaySound("weapon/GSHOTGUNcock1", CHAN_AUTO)
			SUN2 C 3 A_FireCustomMissile("SupershotgunCasingSpawner", 0, 0, 0, 2)
			SUN2 B 3 A_PlaySound("weapon/GSHOTGUNcock2", CHAN_AUTO)
			SUN2 G 2
			SUN2 A 0
			SUN2 A 0 A_ReFire
			Goto Ready
		AltFire:

			GUN1 A 0 A_jumpifinventory("Tier2upgradetoken",1,"Goldkick")
			GUN1 A 0 A_giveinventory("scatterclip",5) 
			GUNK A 2
			GUNK B 2 A_playsound("Weapon/Quickkick",Chan_weapon)
			TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "Berserked")
			GUNK C 3 A_CustomPunch(2 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			GUNK D 3 
			GUNK E 2
			GUNK A 2
			GUN2 A 5
			goto Ready
		Berserked:
			GUNK C 3 A_CustomPunch(20 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			GUNK D 3
			GUNK E 2
			GUNK A 2
			GUN2 A 5
			goto Ready
		Goldkick:
			SUN1 A 0 A_giveinventory("scatterclip",5) 
			SUNK A 2
			SUNK B 2 A_playsound("Weapon/Quickkick",Chan_weapon)
			TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "GoldBerserked")
			SUNK C 3 A_CustomPunch(4 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			SUNK D 3 
			SUNK E 2
			SUNK A 2
			SUN2 A 5
			goto Ready
		GoldBerserked:
			SUNK C 3 A_CustomPunch(40 * random(1, 10), TRUE,0,"Shotgunmayray",96)
			SUNK D 3
			SUNK E 2
			SUNK A 2
			SUN2 A 5
			goto Ready
		Flash:
			GUN2 F 2 Bright A_Light2
			GUN2 E 1 Bright A_Light1
			TNT1 A 0 A_Light0
			Goto LightDone
			
		Spawn:
			SHOT A -1
			Stop
	}
}

ACTOR HMachinegun : Doomweapon
{
   Tag "Heavy Machinegun"
   Weapon.PreferredSkin "Minigun-Marine"
   Weapon.SelectionOrder 3
   Weapon.SlotNumber 5
	Inventory.Forbiddento "Maximusprime"
   Weapon.AmmoUse 1
   Weapon.AmmoGive 50
   Weapon.AmmoType "AK_MAG"
   Weapon.BobSpeed 1.5
   Weapon.BobRangeX .5
   Weapon.BobStyle "Smooth"
   Inventory.ForbiddenTo "Fiend"
   Inventory.ForbiddenTo "Kunai"
   Inventory.Respawntics"4200"
   Inventory.RestrictedTo "Gosimer"
   Inventory.PickupMessage "Heavy machinegun!"
   Inventory.PickupSound "weapon/akget"
   Obituary "%o killed %k"
   Tag "$TAG_CHAINGUN"
   States
   {
	Ready:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldReady")
		D3DG A 1 A_WeaponReady
		D3DG A 15 A_WeaponReady
		D3DG A 0 A_giveinventory("scatterclip",1) 
		Loop
	Deselect:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldDeselect")
		D3DG A 1 A_Lower
		Loop
	Select:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldSelect")
		D3DG A 1 A_Raise
		Loop
	Fire:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldFire")
		D3DF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 3, -1, 7, "Bulletpuff")
		D3DF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 3, -1, 7, "Bulletpuff")
		D3DF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(3, 3, -1, 7, "Bulletpuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3DG A 0 A_ReFire("Hold")
		Goto Ready
	Hold:
		D3DG A 0 A_Jumpifinventory("Tier4upgradetoken",1,"GoldHold")
		D3DF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 6, -1, 7, "Bulletpuff")
		D3DF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 6, -1, 7, "Bulletpuff")
		D3DF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(6, 6, -1, 7, "Bulletpuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3DG A 0 A_ReFire("Hold")
		Goto Ready
	GoldReady:
		D3GG A 1 A_WeaponReady
		D3GG A 15 A_WeaponReady
		D3GG A 0 A_giveinventory("scatterclip",1) 
		Loop
	GoldDeselect:
		D3GG A 1 A_Lower
		Loop
	GoldSelect:
		TNT1 A 0 A_giveinventory("Tier4upgradetoken", 1)
		D3GG A 1 A_Raise
		Loop
	GoldFire:
		D3GF A 0 A_Jump(32, "GoldFire_Crit")
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "Bulletpuff")
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "Bulletpuff")
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "Bulletpuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3GG A 0 A_ReFire("GoldHold")
		Goto Ready
	GoldFire_Crit:
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "GosimersExplosivepuff")
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "GosimersExplosivepuff")
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(2.5, 2.5, -1, 13, "GosimersExplosivepuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3GG A 0 A_ReFire("GoldHold_NoCrit")
		Goto Ready
	GoldHold:
		D3GF A 0 A_Jump(16, "GoldHold_Crit")
		goto GoldHold_NoCrit
	GoldHold_NoCrit:
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "Bulletpuff")
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "Bulletpuff")
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "Bulletpuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3GG A 0 A_ReFire("GoldHold")
		Goto Ready
	GoldHold_Crit:
		D3GF ABC 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_WEAPON)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "GosimersExplosivepuff")
		D3GF DEF 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_AUTO)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "GosimersExplosivepuff")
		D3GF GHI 1 Bright
		NULL A 0 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
		MNGG A 0 A_PlaySound("Weapon/D3DAsscannon_Crit", CHAN_AUTO)
		MNGF A 0 Bright A_FireBullets(5, 5, -1, 13, "GosimersExplosivepuff")
		D3DG A 0 A_giveinventory("scatterclip",1) 
		D3GG A 0 A_ReFire("GoldHold")
		Goto Ready
	Flash:
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		DEGT A -1
		Stop
	}
}


ACTOR DEGrenadelauncher : Doomweapon // weapon has been updated to use sprites from Doom nukems thread on zdoom, too lazy to change actor name
{
Weapon.PreferredSkin "Grenade-Marine"
Weapon.SelectionOrder 4
Weapon.SlotNumber 6
	Inventory.Forbiddento "Maximusprime"
Weapon.AmmoType1 "Roketammo"
Weapon.AmmoUse1 1
Weapon.Ammogive1 5
Weapon.AmmoType2 "Roketammo"
Weapon.AmmoUse2 1
Weapon.Ammogive2 5
Weapon.BobSpeed 1.5
Weapon.BobRangeX .5
wEAPON.BOBSTYLE "Smooth"
Inventory.ForbiddenTo "Fiend"
Inventory.ForbiddenTo "Kunai"
Inventory.RestrictedTo "Gosimer"
+WEAPON.NOAUTOAIM
Inventory.PickupMessage "You got the grenade launcher!"
Inventory.PickupSound "Weapon/Nadeget"
   States
   {
   Spawn:
	  WGRL A -1
	  Loop
   Ready:
	  TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"Goldready")
	  GRLG A 1 A_WeaponReady
	  GRLG A 10 A_WeaponReady
	  GUN1 A 0 A_giveinventory("scatterclip",1) 
	  Loop
   Deselect:
	  TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldDeselect")
	  GRLG A 1 A_Lower
	  Loop
   Select:
	  TNT1 A 0 A_Jumpifinventory("Tier5upgradetoken",1,"GoldSelect")
	  GRLG A 1 A_Raise
	  Loop
   GoldReady:
	  GRNL A 1 A_WeaponReady
	  GRNL A 10 A_WeaponReady
	  GUN1 A 0 A_giveinventory("scatterclip",1) 
	  Loop
   GoldDeselect:
	  GRNL A 1 A_Lower
	  Loop
   GoldSelect:
   TNT1 A 0 A_giveinventory("Tier5upgradetoken", 1)
	  GRNL A 1 A_Raise
	  Loop
   Fire:
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  GLRG A 0 A_JUMPIFINVENTORY("Tier5upgradetoken",1,"Goldfire")
	  GRLG A 1 A_GunFlash
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  GRLG B 2 Bright A_FireCustomMissile("Nadez",0,1,0,0,0,7)
	  GRLG CD 3 
	  GRLG E 2
	  GRLG A 5 
	  GRLG A 0 A_Refire
	  Goto Ready
   Goldfire:
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  NULL A 0 A_Jump(50,"GoldFire2")
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  GRNL B 2 Bright A_FireCustomMissile("Nadez",0,1,0,0,0,7)
	  GRNL CD 3 
	  GRNL E 2
	  GRNL A 5 
	  GRNL A 0 A_Refire
	  Goto Ready
  Goldfire2:
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_JumpIfNoAmmo("Ready")
	  NULL A 0 A_GiveInventory("Rocketammo", 2)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("CritNadez",0,1,0,0,0,7)
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Giveinventory("Roketammo",1)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("CritNadez",0,1,0,0,0,7)
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Giveinventory("Roketammo",1)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("CritNadez",0,1,0,0,0,7)
	  GRNL CD 3 
	  GRNL E 2
	  GRNL A 5 
	  GRNL A 0 A_Refire
	  Goto Ready
	ALTFire:
	  GUN1 A 0 A_JUMPIFINVENTORY("Roketammo", 1, 1)
	  Goto Ready
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  GLRG A 0 A_JUMPIFINVENTORY("Tier5upgradetoken",1,"ALTGoldfire")
	  GRLG A 1 A_GunFlash
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  GRLG B 2 Bright A_FireCustomMissile("ALTNadez",0,1,0,0,0,7)
	  GRLG CD 3 
	  GRLG E 2
	  GRLG A 5 
	  GRLG A 0 A_Refire
	  Goto Ready
	ALTGoldfire:
	  GUN1 A 0 A_Jumpifinventory("Roketammo", 1, 1)
	  Goto Ready
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  NULL A 0 A_Jump(50,"ALTGoldFire2")
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  GRNL B 2 Bright A_FireCustomMissile("ALTNadez",0,1,0,0,0,7)
//	  GRLG B 0 A_TakeInventory("RoketAmmo", 1)
	  GRNL CD 3 
	  GRNL E 2
	  GRNL A 5 
	  GRNL A 0 A_Refire
	  Goto Ready
	ALTGoldfire2:
	  NULL A 0 A_JumpIfNoAmmo("Ready")
	  GUN1 A 0 A_giveinventory("scatterclip",5) 
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_GiveInventory("Rocketammo",2)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("ALTCritNadez",0,1,0,0,0,7)
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Giveinventory("Roketammo",1)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("ALTCritNadez",0,1,0,0,0,7)
	  GRNL A 1 A_GunFlash
	  NULL A 0 A_Giveinventory("Roketammo",1)
	  NULL A 0 A_Playsound("Weapon/nadefire",Chan_weapon)
	  NULL A 0 A_Playsound("Weapon/Critshot",Chan_auto)
	  GRNL F 2 Bright A_FireCustomMissile("ALTCritNadez",0,1,0,0,0,7)
	  GRNL CD 3 
	  GRNL E 2
	  GRNL A 5 
	  GRNL A 0 A_Refire
	  Goto Ready
   Flash:
	  NULL A 3 A_Light1
	  TNT1 A 0 A_Light0
	  stop
   }
}

actor Coolant : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 100
}

ACTOR PlasmagunMK2 : DoomWeapon
{
  Weapon.SelectionOrder 2
  Weapon.AmmoUse1 1
  Weapon.Ammouse2 0
  Weapon.AmmoGive1 40
  Weapon.AmmoType1 "Battery"
  Weapon.Ammotype2 "Coolant"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.ForbiddenTo "Kunai"
  Inventory.RestrictedTo "Fiend"
  Weapon.BobSpeed 1.5
  weapon.BobRangeX .5
  Weapon.Bobstyle "Alpha"
  Inventory.PickupMessage "$GOTPLASMA"
  Tag "$TAG_PLASMARIFLE"
  States
  {
  Ready:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldReady")
	GUN7 A 1 A_WeaponReady
	GUN7 A 0 A_Playsound("Weapon/FPRIDLE", chan_weapon)
	GUN7 A 48 A_WeaponReady
	GUN7 A 0 A_giveinventory("Coolant",10)
	Loop
  Deselect:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldDeselect")
	TNT1 AA 0 A_Lower
	GUN7 A 1 A_Lower
	Goto Deselect+2
  Select:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldSelect")
	TNT1 AA 0 A_Raise
	GUN7 A 1 A_Raise
	Goto Select+2
  Fire:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldFire")
	GUN7 A 0 A_Jumpifinventory("Coolant",1,1)
	goto Cooldownstart
	GUN7 A 0 A_Takeinventory("Coolant",1)
	GUN7 A 0 A_Takeinventory("Battery",1)
	GUN7 A 1 A_FireCustomMissile(Kewlplasma, random(-2, 2), 0, 0, 0, true)
	GUN7 B 1 Bright A_Playsound("weapon/FPlasfire",Chan_5)
	GUN7 C 2
	GUN7 A 0 A_Refire
	Goto Ready
  ALTFIRE:
  CooldownStart:
	GUN7 A 0 A_JUMPIFINVENTORY("Coolant",100,"Ready")
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownStart")
	GUN7 A 1 A_Playsound("Weapon/FPLASVENT",Chan_6)
	GUN7 C 1
	GUN7 D 1 
	GUN7 E 2
	GUN7 F 3
	GUN7 G 4 A_Playsound("Weapon/FPRCOOL",Chan_weapon)
	GUN7 H 5 
  CooldownLOOP:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownloop")
	GUN7 A 0 A_JUMPIFINVENTORY("Coolant",100,"CooldownEND")
	GUN7 H 1 A_Giveinventory("Coolant",1)
	LOOP
  CooldownEND:
	Gun7 A 0 A_Jumpifinventory("Tier6upgradetoken",1,"GoldCooldownEND")
	GUN7 H 5 A_Playsound("Weapon/FPREND",Chan_Weapon)
	GUN7 G 4
	GUN7 F 3
	GUN7 E 2
	GUN7 D 1
	GUN7 C 1
	GUN7 A 1 A_weaponready
	Goto Ready
  GoldReady:
	GUN7 J 1 A_WeaponReady
	GUN7 J 0 A_Playsound("Weapon/FPRIDLE")
	GUN7 J 48 A_WeaponReady
	GUN7 J 0 A_giveinventory("Coolant",10)
	Loop
  GoldDeselect:
	TNT1 AA 0 A_Lower
	GUN7 J 1 A_Lower
	Goto Golddeselect+1
  GoldSelect:
	TNT1 AA 0 A_Raise
	GUN7 J 1 A_Raise
	Goto Goldselect+1
  GoldFire:
	GUN7 J 0 A_Jumpifinventory("Coolant",1,1)
	goto Cooldownstart
	GUN7 J 0 A_Takeinventory("Coolant",1)
	GUN7 J 0 A_Takeinventory("Battery",1)
	GUN7 J 1 A_FireCustomMissile(Kewlplasma2, random(-2, 2), 0, 0, 0, true)
	GUN7 K 1 Bright A_Playsound("weapon/FPlasfire",Chan_5)
	GUN7 L 2
	GUN7 J 0 A_Refire
	Goto Ready
  GoldCooldownStart:
	GUN7 J 0 A_JUMPIFINVENTORY("Coolant",100,"Ready")
	GUN7 J 1 A_Playsound("Weapon/FPLASVENT",Chan_6)
	GUN7 L 1
	GUN7 M 1 
	GUN7 N 2
	GUN7 O 3
	GUN7 P 4 A_Playsound("Weapon/FPRCOOL",Chan_weapon)
	GUN7 Q 5 
  GoldCooldownLOOP:
	GUN7 Q 0 A_JUMPIFINVENTORY("Coolant",100,"CooldownEND")
	GUN7 Q 1 A_Giveinventory("Coolant",1)
	LOOP
  GoldCooldownEND:
	GUN7 Q 5 A_Playsound("Weapon/FPREND",Chan_Weapon)
	GUN7 P 4
	GUN7 O 3
	GUN7 M 2
	GUN7 N 1
	GUN7 L 1
	GUN7 J 1 A_weaponready
	Goto Ready
  Flash:
	TNT1 A 1 Bright A_Light1
	TNT1 A 0 A_Light0
	Goto LightDone
	TNT1 A 1 Bright A_Light1
	TNT1 A 0 A_Light0
	Goto LightDone
  Spawn:
	GUN7 I -1
	Stop
  }
}

ACTOR GosimersHandgun : Weapon
{
	Tag "Pistol"
	 Weapon.PreferredSkin "Pistol-Marine"
	Weapon.AmmoType "Scatterclip"
	Weapon.AmmoGive 24
	Weapon.AmmoUse1 1
	Weapon.SlotNumber 2
	Inventory.Forbiddento "Maximusprime"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "Gosimer"
	Weapon.SelectionOrder 4
	Obituary "%o killed %k"
	Inventory.Pickupmessage "Pistol."
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
	+WEAPON.NOAUTOAIM
	+WEAPON.NOAUTOFIRE
	States
	{

  Ready:
	GUN1 H 0 A_stopsound(6)
	GUN1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"Goldready")
	GUN1 A 0 A_Jumpifinventory("Scatterclip",21,4)
	GUN1 A 1 A_WeaponReady
	GUN1 A 15 A_WeaponReady
	GUN1 A 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 E 0 A_Jumpifinventory("Scatterclip",41,4)
	GUN1 E 1 A_WeaponReady
	GUN1 E 15 A_WeaponReady
	GUN1 E 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 F 0 A_Jumpifinventory("Scatterclip",61,4)
	GUN1 F 1 A_WeaponReady
	GUN1 F 15 A_WeaponReady
	GUN1 F 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 G 0 A_Jumpifinventory("Scatterclip",81,4)
	GUN1 G 1 A_WeaponReady
	GUN1 G 15 A_WeaponReady
	GUN1 G 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 H 1 A_WeaponReady
	GUN1 H 15 A_WeaponReady
	GUN1 H 0 A_giveinventory("scatterclip",1)
	goto Ready
GoldReady:
	GUN1 H 0 A_stopsound(6)
	GUN1 J 0 A_Jumpifinventory("Scatterclip",21,4)
	GUN1 J 1 A_WeaponReady
	GUN1 J 15 A_WeaponReady
	GUN1 J 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 N 0 A_Jumpifinventory("Scatterclip",41,4)
	GUN1 N 1 A_WeaponReady
	GUN1 N 15 A_WeaponReady
	GUN1 N 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 O 0 A_Jumpifinventory("Scatterclip",61,4)
	GUN1 O 1 A_WeaponReady
	GUN1 O 15 A_WeaponReady
	GUN1 O 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 P 0 A_Jumpifinventory("Scatterclip",81,4)
	GUN1 P 1 A_WeaponReady
	GUN1 P 15 A_WeaponReady
	GUN1 P 0 A_giveinventory("scatterclip",1) 
	goto Ready
	GUN1 Q 1 A_WeaponReady
	GUN1 Q 15 A_WeaponReady
	GUN1 Q 0 A_giveinventory("scatterclip",1)
	goto Ready
  Deselect:
	GUN1 H 0 A_stopsound(6)
	GUN1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldDeselect")
	GUN1 A 1 A_Lower
	Loop
  Golddeselect:
	GUN1 J 1 A_Lower
	Loop
  Select:
	GUN1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"Goldselect")
	GUN1 A 1 A_Raise
	Loop
  Goldselect:
	GUN1 H 0 A_stopsound(6)
	TNT1 A 0 A_giveinventory("Tier1upgradetoken", 1)
	Gun1 J 1 A_Raise
	Loop
  Altfire:
	Gun1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldALTFire")
	GUN1 A 0 A_Jumpifinventory("Scatterclip",5,1)
	Goto Ready
	GUN1 A 5 Bright A_playsound("ScatterPistol/Charge", chan_Weapon)
	GUN1 A 5 Bright
	GUN1 E 5 Bright
	GUN1 F 5 Bright
	GUN1 G 5 Bright
	GUN1 H 5 Bright
	GUN1 H 0 Bright
	Althold:
	Gun1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldALThold")
	GUN1 H 1 Bright
	GUN1 H 0 Bright A_Playsound("ScatterPistol/Loop", 6, 1.0, 1)
	GUN1 H 1 A_REFIRE
	Altlaser:
	Gun1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"goldAltlaser")
	GUN1 H 0 A_stopsound(6)
	GUN1 B 0 A_RailAttack(40, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 15, 1.0, 4.0, "LightRailBlast")
	GUN1 B 0 A_takeinventory("scatterclip",5)
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 B 2  A_weaponready 
	GUN1 C 1 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 C 1 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 D 2 A_weaponready 
	GUN1 C 2 A_weaponready 
	GUN1 A 2 A_weaponready 
	GUN1 H 0 A_stopsound(6)
	Goto Ready
  GOLDALTFIRE:
	GUN1 A 0 A_Jumpifinventory("Scatterclip",5,1)
	Goto Ready
	GUN1 J 5 Bright A_playsound("ScatterPistol/Charge", chan_Weapon)
	GUN1 J 5 Bright
	GUN1 N 5 Bright
	GUN1 O 5 Bright
	GUN1 P 5 Bright
	GUN1 Q 5 Bright
	GUN1 H 0 Bright
	goldAlthold:
	GUN1 Q 1 Bright
	GUN1 Q 0 Bright A_Playsound("ScatterPistol/Loop", 6, 1.0, 1)
	GUN1 Q 1 A_REFIRE
	goldAltlaser:
	GUN1 Q 0 A_stopsound(6)
	GUN1 B 0 A_RailAttack(80, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 15, 1.0, 4.0, "REDLightRailBlast")
	GUN1 B 0 A_takeinventory("scatterclip",5)
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 R 2 A_weaponready
	GUN1 L 1 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 L 1 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 M 2 A_weaponready
	GUN1 L 2 A_weaponready
	GUN1 J 2 A_weaponready
	GUN1 H 0 A_stopsound(6)
	Goto Ready
  Fire:
	Gun1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldFire")
	GUN1 A 0 A_Jumpifinventory("Scatterclip",1,1)
	Goto Ready
	GUN1 B 0 A_Jump(20,"CritFire")
	GUN1 B 0 A_FireCustomMissile("ScatterPShot", random(-2,2), 1, 0, 0, random(-2,2), 0)
	GUN1 B 0 
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 B 2   
	GUN1 C 2 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 CD 2
	GUN1 C 2
	GUN1 A 2
	GUN1 A 5 A_ReFire
	Goto Ready
  CritFire:
	Gun1 A 0 A_Jumpifinventory("Tier1upgradetoken",1,"GoldFire2")
	GUN1 A 0 A_Jumpifinventory("Scatterclip",1,1)
	Goto Ready
	GUN1 B 0 A_FireCustomMissile("CritScatterPShot", random(-2,2), 1, 0, 0, random(-2,2), 0)
	GUN1 B 0 A_Playsound("Weapon/Critshot",Chan_auto)
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 I 2   
	GUN1 C 2 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1)
	GUN1 CD 2
	GUN1 C 2
	GUN1 A 2
	GUN1 A 5 A_ReFire
	Goto Ready
  GoldFire:
	GUN1 A 0 A_Jumpifinventory("Scatterclip",1,1)
	Goto Ready
	GUN1 B 0 A_Jump(25,"GoldFire2")
	GUN1 B 0 A_FireCustomMissile("ScatterPShot", random(-4,4), 1, 0, 0, random(-4,4), 0)
	GUN1 B 0 
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 K 2 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1) 
	GUN1 L 2 A_Weaponready
	GUN1 M 3 A_Weaponready
	GUN1 L 2 A_Weaponready
	GUN1 J 4 A_Weaponready
	GUN1 J 4 A_Weaponready
	Goto Ready
  GoldFire2:
	GUN1 A 0 A_Jumpifinventory("Scatterclip",1,1)
	Goto Ready
	GUN1 R 0 A_FireCustomMissile("CritScatterPShot", random(-4,4), 1, 0, 0, random(-4,4), 0)
	GUN1 B 0 A_Playsound("Weapon/Critshot",Chan_auto)
	GUN1 B 0 A_PlaySound("weapon/Gpistol", CHAN_WEAPON)
	GUN1 R 2 A_FireCustomMissile("PistolCasingSpawner", 0, 0, 0, 1) 
	GUN1 L 2 A_Weaponready
	GUN1 LM 3 A_Weaponready
	GUN1 L 2 A_Weaponready
	GUN1 J 4 A_Weaponready
	GUN1 J 4 A_Weaponready
	Goto Ready
  Spawn:
	PIST A -1
	Stop
  }
}

Actor ScatterClip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.MaxAmount 50
	ammo.Backpackmaxamount 100
}


// Mighty boot thing.
ACTOR Shotgunmayray : Bulletpuff
{
DamageType Mightyboot
}

Actor KunaisKar98 : Doomweapon
{
Weapon.PreferredSkin "Carbine-Marine"
   Game Doom
   scale 1
   SpawnID 28
   Weapon.SelectionOrder 3
   Weapon.SlotNumber 7
   Weapon.Slotpriority 1
	Inventory.Forbiddento "Maximusprime"
   Inventory.ForbiddenTo "Gosimer"
   Inventory.ForbiddenTo "Fiend"
   Inventory.RestrictedTo "Kunai"
   Weapon.AmmoUse1 1
   Weapon.AmmoGive1 5
   Weapon.AmmoType1 "Railslugs"
   Weapon.AmmoUse2 1
   Weapon.AmmoGive2 5
   Weapon.AmmoType2 "Railclip"
   Inventory.Respawntics"4200"
   //+WEAPON.NOAUTOAIM
		Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "InverseSmooth"
   Inventory.PickupSound"weapon/RAILGET"
   Inventory.PickupMessage "You got the kar98!"
   Obituary "%o Got picked off by %k's Kar98"
 
	 States
	 {
	   Select:
		 KARG A 1 A_Raise
		 Loop
		 
	   Deselect:
		 KARG A 1 A_Lower
		 Loop
		 
	   Ready:
	 //NULL A 0 A_JumpIfInventory("Reload",0,"Reload")
		 KARG A 1 A_WeaponReady (WRF_ALLOWRELOAD)
		 loop
		 
	   Fire:
	 NULL A 0 A_JumpIfInventory("Railclip",1,1)
	 Goto Dryfire
		 KARG A 2 A_GunFlash
	 KARG A 0 A_PlaySoundEx("weapon/K98FIRE","Weapon")
		 KARF A 1 Bright A_FireBullets(0.5, 0.5, 1, 200)
	 KARF A 0 A_TakeInventory("Railclip",1)
	 KARF B 1 Bright
	 KARG A 0 A_PlaySoundEx("weapon/K98Boltback","SoundSlot5")
		 KARG B 3
		 KARG C 4 A_FireCustomMissile("ChaingunCasingSpawner", 0, 0, 0, 1) 
	 KARG A 0 A_PlaySoundEx("weapon/K98Boltforward","SoundSlot6")
		 KARG D 5
	 KARG C 4
	 KARG B 3
		 KARG A 2
	 KARG A 5 A_Refire
		 Goto Ready
		 
	   Flash:
		TNT1 A 1 A_LIGHT1
		TNT1 A 1 A_LIGHT2
		TNT1 A 0 A_Light0
		 Stop
	   Reload:
	 NULL A 0 A_JumpIfInventory("Railclip",0,"Noreload")
	 Goto Reloadstart
	   Reloadstart:
		 KARG A 5
	 KARG A 0 A_PlaySoundEx("weapon/K98Boltback","SoundSlot5")
	 KARG B 6
	 KARG C 7
	 KARG D 8
	 KARR A 3
	 KARR E 4
	 KARR F 5
		 goto ReloadLoop
 
	   ReloadLoop:
	 KARR F 5
	 KARR B 5 A_GiveInventory("Railclip", 1)
		 KARR C 5 A_PlaySoundEx("weapon/K98load","SoundSlot5")
		 KARR D 4 
		 TNT1 A 0 A_JumpIfInventory("Railclip", 0, "ReloadEnd")
	 TNT1 A 0 A_Refire
		 Goto Reloadloop
 
	   ReloadEnd:
	 KARR F 5
	 KARR E 4
	 KARR A 3 A_PlaySoundEx("weapon/K98Boltforward","SoundSlot6")
	 KARG D 7
	 KARG C 6
	 KARG B 5
		 Goto Ready
 
	   NoReload:
		 KARG A 0
		 Goto Ready

	DryFire:
		NULL A 0 A_PlaySoundEx("weapons/pistol/dry","Weapon")
		KARG A 2 A_WeaponReady(WRF_NOFIRE)
		Goto Reloadstart
 
	   Spawn:
		 K98G A -1
		 Stop
	 }
 }

actor Railclip : Ammo
{
	+INVENTORY.IGNORESKILL
	inventory.maxamount 5
}

/*ACTOR Propulsion_Cannon : DoomWeapon 
{
	Game Doom
	Scale 0.8
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 7
	Weapon.AmmoUse1 1
	Weapon.AmmoGive 5
	Weapon.AmmoType "Railslugs"
		 Weapon.BobSpeed 1.5
	 Weapon.BobRangeX .5
	 Weapon.BobStyle "Smooth"
		+WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
		Inventory.PickupSound "Weapon/railget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Gosimers propulsion cannon"
	States
	{
	Ready:
		GRAI G 0 A_playsound("Weapon/PropulsionIDLE", 6, 1.0, 1)
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		GRAI G 2 BRIGHT A_WeaponReady
		Loop
	Deselect:
		GRAI A 0 A_stopsound(6)
		GRAI A 0 BRIGHT A_PlaySound("Weapons/Change")
		GRAI G 1 BRIGHT A_Lower
		Goto Deselect+1
	Select:
		GRAI G 1 BRIGHT A_Raise
		Loop
	Fire:
		GRAI G 0 A_JumpifInventory("GosimersAmmoSphere", 1, "INFAMMO")
		GRAI G 0 A_JumpIfInventory("Railslugs",1, 1)
		Goto Ready
		GRAI G 1 Bright A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		GRAI ABCDE 2 BRIGHT
		GRAI F 2 A_GunFlash
		GRAI F 0 A_RailAttack(500, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 35, 1.0, 4.0, "Devistaterblast")
		GRAI F 20 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 12  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 9  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 6 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 3 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		Goto Ready
	INFAMMO:
		GRAI G 1 Bright A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		GRAI ABCDE 2 BRIGHT
		GRAI F 2 A_GunFlash
		GRAI F 0 A_RailAttack(500, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 35, 1.0, 4.0, "Devistaterblast")
		GRAI F 20 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 15 A_playsound("Weapon/PropulsionCHARGE", Chan_7)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 12  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 9  A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 6 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 3 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 2 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI F 1 A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI H 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI I 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI J 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		GRAI K 3 Bright A_WeaponReady(WRF_NOFIRE|WRF_NOBOB)
		Goto Ready
	Flash:
		TNT1 A 5 Bright A_Light1
		TNT1 A 5 Bright A_Light2
		TNT1 A 2 Bright A_Light(3)
		TNT1 A 2 Bright A_Light2
		TNT1 A 2 Bright A_Light1
		TNT1 A 0 A_Light0
		Goto LightDone
	Spawn:
		GRAI L -1
		Stop
	}
}
*/
ACTOR Fiendsability : Weapon 
{
  Weapon.PreferredSkin "Fist-Marine"
  Game Doom
  SpawnID 32
  Weapon.SelectionOrder 7
  Inventory.PickupMessage ""
  Weapon.SlotNumber 9
  Tag "Medic supply portal"
Inventory.PickupSound ""
	Weapon.AmmoUse1 300
	Weapon.AmmoGive1 0
	Weapon.AmmoType1 "AbilityCharge"
//	Weapon.AmmoUse2 500
//	Weapon.AmmoGive2 0
//	Weapon.AmmoType2 "UltimateAbilityCharge"
			Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
//	Weapon.BobStyle "Smooth"
		   +WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
  States
  {
  Ready:
	ECAB A 1 A_WeaponReady
	Loop
  Deselect:
	ECAB A 1 A_Lower
	Loop
  Select:
	ECAB A 1 A_Raise
	Loop
  Fire:
	ECAB A 0 A_Jumpifinventory("Abilitycharge", 300, 1)
	Goto Ready
	ECAB A 0 A_takeinventory("Abilitycharge",300)
	ECAB A 0 A_Giveinventory("Health", 50)
	ECAB A 3 A_FireCustomMissile("medicalportal",0,0,0,0,0)
	TNT1 A 6 
	ECAB A 1 A_ReFire
	Goto Ready
  Spawn:
	EUAB A -1
	Stop
  }
}

ACTOR Gosimersability : Weapon 
{
  Weapon.PreferredSkin "Fist-Marine"
  Game Doom
  SpawnID 32
  Weapon.SelectionOrder 7
  Inventory.PickupMessage ""
  Weapon.SlotNumber 9
  Tag "Ammobag supply portal"
  Inventory.PickupSound ""
	Weapon.AmmoUse1 250
	Weapon.AmmoGive1 0
	Weapon.AmmoType1 "AbilityCharge"
//	Weapon.AmmoUse2 500
//	Weapon.AmmoGive2 0
//	Weapon.AmmoType2 "UltimateAbilityCharge"
			Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
		   +WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
  States
  {
  Ready:
	ECAG A 1 A_WeaponReady
	Loop
  Deselect:
	ECAG A 1 A_Lower
	Loop
  Select:
	ECAG A 1 A_Raise
	Loop
  Fire:
	ECAG A 0 A_Jumpifinventory("Abilitycharge", 250, 1)
	Goto Ready
	ECAG A 0 A_takeinventory("Abilitycharge",250)
	ECAG A 0 A_Giveinventory("Gosimersbackpack")
	ECAG A 6 A_FireCustomMissile("ammobagportal",0,0,0,0,0)
	TNT1 A 6 
	ECAG A 1 A_ReFire
	Goto Ready
  Spawn:
	EUAG A -1
	Stop
  }
}


ACTOR Kunaisability : Weapon 
{
  Weapon.PreferredSkin "Fist-Marine"
  Game Doom
  SpawnID 32
  Weapon.SelectionOrder 7
  Inventory.PickupMessage ""
  Tag "Armour supply portal"
Inventory.PickupSound ""
Weapon.SlotNumber 9
	Weapon.AmmoUse1 500
	Weapon.AmmoGive1 0
	Weapon.AmmoType1 "AbilityCharge"
//	Weapon.AmmoUse2 500
//	Weapon.AmmoGive2 0
//	Weapon.AmmoType2 "UltimateAbilityCharge"
			Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
		   +WEAPON.NOAUTOAIM
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Kunai"
  States
  {
  Ready:
	ECAB A 1 A_WeaponReady
	Loop
  Deselect:
	ECAB A 1 A_Lower
	Loop
  Select:
	ECAB A 1 A_Raise
	Loop
  Fire:
	ECAB A 0 A_Jumpifinventory("Abilitycharge", 500, 1)
	Goto Ready
	ECAB A 0 A_takeinventory("Abilitycharge",500)
	ECAB A 6 A_FireCustomMissile("armourportal",0,0,0,0,0)
	TNT1 A 6 
	ECAB A 1 A_ReFire
	Goto Ready
  Spawn:
	EUAB A -1
	Stop
  }
}


Actor medicalportal
{
  Scale 0.5
  Radius 8
  Height 8
  Speed 10
  Damage 0
  Gravity 1
  Projectile
  -NoGravity
  States
  {
  Spawn:
	EUAB A 0
	EUAB A 0
	EUAB A 0
	EUAB A 1
	Goto Spawn+3
  Death:
	TNT1 A 0 A_SpawnItemEx ("Medportalpayout", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 1)
	Stop
  }
}

Actor ammobagportal
{
  Scale 0.5
  Radius 8
  Height 8
  Speed 10
  Damage 0
  Gravity 1
  Projectile
  -NoGravity
  States
  {
  Spawn:
	EUAB A 0
	EUAB A 0
	EUAB A 0
	EUAB A 1
	Goto Spawn+3
  Death:
	TNT1 A 0 A_SpawnItemEx ("ammobagportalpayout", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 1)
	Stop
  }
}

Actor Armourportal
{
  Scale 0.5
  Radius 8
  Height 8
  Speed 10
  Damage 0
  Gravity 1
  Projectile
  -NoGravity
  States
  {
  Spawn:
	EUAB A 0
	EUAB A 0
	EUAB A 0
	EUAB A 1
	Goto Spawn+3
  Death:
	TNT1 A 0 A_SpawnItemEx ("Armourportalpayout", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 1)
	Stop
  }
}


ACTOR GosimersExplosivepuff
{
	+NOBLOCKMAP
	+NOGRAVITY
	+ALLOWPARTICLES
	+RANDOMIZE
	+PUFFONACTORS
	+PUFFGETSOWNER
	RenderStyle ADD
	Alpha 0.5
	Scale 0.25
	Mass 5
	States
	{
	Spawn:
		PUFF A 1 Bright
		PUFF B 1
	// Intentional fall-through
	xdeath:
	Melee:
		GXPL A 0 A_Explode(8, 32, 0, false, 32)
		GXPL ABCDEFGH 1 Bright
		GXPL IJKLLM 1 Bright A_FadeOut(0.1)
		Stop
	}
}

ACTOR FiendsRailgun : DoomWeapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Weapon.SelectionOrder 700
	Weapon.AmmoUse 2
	Weapon.AmmoGive 10
	Weapon.AmmoType "Railslugs"
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.SlotNumber 6
	Weapon.Slotpriority 1
	Inventory.Forbiddento "Maximusprime"
	Weapon.BobStyle "InverseSmooth"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.RestrictedTo "Fiend"
	Inventory.PickupMessage "Fiends Lazer gun"
	Obituary "(%K got gibbed by Fiend's Lazer gun"
	Tag "Fiends Railgun"
	States
	{
	Ready:
		FRGB A 1 A_weaponready
		FRGN A 0 A_playsound("Weapon/PropulsionIDLE", Chan_weapon)
		FRGG A 1 A_weaponready
		FRGY A 1 A_weaponready
		FRGR A 1 A_weaponready
		FRGP A 1 A_weaponready
		FRGB A 1 A_weaponready
		FRGG A 1 A_weaponready
		FRGY A 1 A_weaponready
		FRGR A 1 A_weaponready
		FRGP A 1 A_weaponready
		Loop
	Select:
		FRGB A 1 A_Raise
		Loop
	Deselect:
		FRGB A 1 A_Lower
		Loop
	Fire:
		FRGB A 1
		FRGF E 2 
		FRGF J 2  
		//FRGF J 0 A_RailAttack(500, 0, 1, "", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT|RGF_NOPIERCING, 1, "Bulletbuff", 0, 0, 0, 35, 2.0, 4.0, "Greenlitningzap")
		FRGF J 0 A_RailAttack(350, 0, 1, "FF FF FF", "FF FF FF", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 35, 2.0, 4.0, "healgunblast")
		//FRGF J 0 A_RailAttack(0, 0, 0, "FF FF FF", "", RGF_FULLBRIGHT|RGF_SILENT|RGF_NOPIERCING , 0, "Bulletbuff", 0, 0, 0, 35, 2.0, 4.0, "Bluerailcoil")
		FRGF J 0 A_PlaySound("Weapon/PropulsionFire", chan_Weapon)
		FRGB G 1 
		FRGG G 1 
		FRGY G 1 
		FRGR G 1 
		FRGP G 1 
		FRGB G 1 
		FRGG G 1 
		FRGY G 1 
		FRGR G 1 
		FRGP G 1 
		FRGB F 1 
		FRGG F 1 
		FRGY F 1 
		FRGR F 1 
		FRGP F 1 
		FRGB F 1 
		FRGG F 1 
		FRGY F 1 
		FRGR F 1 
		FRGP F 1 
		FRGB E 1 
		FRGG E 1 
		FRGY E 1 
		FRGR E 1 
		FRGP E 1 
		FRGB E 1 
		FRGG E 1 
		FRGY E 1 
		FRGR E 1 
		FRGP E 1 
		FRGB D 1 
		FRGG D 1 
		FRGY D 1 
		FRGR D 1 
		FRGP D 1 
		FRGB D 1 
		FRGG D 1 
		FRGY D 1 
		FRGR D 1 
		FRGP D 1 
		FRGB C 1 
		FRGG C 1 
		FRGY C 1 
		FRGR C 1 
		FRGP C 1 
		FRGB C 1 
		FRGG C 1 
		FRGY C 1 
		FRGR C 1 
		FRGP C 1 
		FRGB B 1 
		FRGG B 1 
		FRGY B 1 
		FRGR B 1 
		FRGP B 1 
		FRGB B 1 
		FRGG B 1 
		FRGY B 1 
		FRGR B 1 
		FRGP B 1 
		FRGB A 1 
		FRGG A 1 
		FRGY A 1 
		FRGR A 1 
		FRGP A 1 
		FRGB A 1 
		FRGG A 1 
		FRGY A 1 
		FRGR A 1 
		FRGP A 1 
		Goto Ready
	Altfire: 
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto Ready
		RLGG A 1 Offset ( -26, 70 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 4 Offset ( -5, 34 )
		RLGG A 4 Offset ( 0, 32 )
	ALTHOLD:
		RLGG A 0 A_JumpifInventory("Abilitycharge",2,1)
		Goto ALTFirestop
		RLGF A 1 Bright 
		RLGG B 1 Bright
		RLGG C 1 Bright
		RLGG F 0 A_Playsound("weapon/Gpistol",Chan_Auto)
		RLGG D 1 A_Takeinventory("AbilityCharge",2)
		RLGG D 0 A_FireCustomMissile("Healgunshot",0,0,0,0,0)
		RLGG D 1 Bright A_RailAttack(0, 0, 1, "00 00 FF", "ff ff ff", RGF_FULLBRIGHT|RGF_SILENT, 10, "Bulletbuff", 0, 0, 256, 35, 1.0, 4.0, "Healgunblast")
		RLGG A 1 A_Refire
	ALTFirestop:
		RLGG A 4 Offset ( 0, 32 )
		RLGG A 4 Offset ( -5, 34 ) 
		RLGG A 3 Offset ( -10, 37 )
		RLGG A 3 Offset ( -15, 42 )
		RLGG A 2 Offset ( -20, 47 )
		RLGG A 2 Offset ( -23, 52 )
		RLGG A 1 Offset ( -25, 60 )
		RLGG A 1 Offset ( -26, 70 )
		goto Ready
	  Spawn:
	RLGN A -1
	Stop
	}
}

Actor Propulsion_Cannon : doomweapon
{
	Weapon.PreferredSkin "Carbine-Marine"
	Radius 20
	Height 16
	Weapon.Selectionorder 100
	Weapon.AmmoUse 1
	Weapon.AmmoGive 10
	Weapon.AmmoType "Railslugs"
	Weapon.SlotNumber 6 // This line isn't in skulltag.pk3, which instead defines the slot directly in DoomPlayer
	Inventory.Pickupmessage "$PICKUP_RAILGUN" // "You got the railgun!"
	Obituary "$OB_RAILGUN" // "%o was railed by %k."
	Weapon.BobSpeed 1.5
	Weapon.BobRangeX .5
	Weapon.BobStyle "Smooth"
	+WEAPON.NOAUTOAIM
	Weapon.SlotNumber 7
	Inventory.Forbiddento "Maximusprime"
	Inventory.Respawntics"4200"
	Inventory.ForbiddenTo "Kunai"
	Inventory.ForbiddenTo "Fiend"
	Inventory.RestrictedTo "Gosimer"
	Inventory.PickupSound "Weapon/railget"
	Weapon.PreferredSkin "BFG-Marine"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Gosimers propulsion cannon"
  States
  {
  Ready:
	GSNP A 1 A_WeaponReady
	Loop
  Deselect:
	GSNP A 1 A_Lower
	Loop
  Select:
	GSNP A 1 A_Raise
	Loop
  Fire:
	GSNF A 1 BRIGHT A_RailAttack(100, 0, 1, "FF FF FF", "FF FF FF", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 35, 2.0, 4.0, "REDLightRailBlast")
	GSNF A 0 A_playsound("Weapon/Sniperrail_Fire",Chan_Weapon)
	GSNF B 1 BRIGHT 
//	GSNP B 1 A_playsound("Weapon/SniperRecharge", Chan_7)
	GSNP B 9
	GSNP A 0 A_Refire
	Goto Ready
//  Reloaded:
//  GSNP B 6
//  GSNP C 2
//	GSNP A 6 A_ReFire
	Goto Ready
  Flash:
	TNT1 A 5 bright A_Light1
	TNT1 A 5 bright A_Light2
	TNT1 A 0 bright A_Light0
	Goto LightDone
  Spawn:
	GSNP G -1
	Stop
  }
}

actor DFFist : Weapon
{
  weapon.selectionorder 110
  weapon.Kickback 200

  Inventory.Forbiddento "Maximusprime"
  Inventory.ForbiddenTo "Fiend"
  Inventory.ForbiddenTo "Gosimer"
  Inventory.ForbiddenTo "Kunai"
  Inventory.RestrictedTo "MaximusPrime"
  Obituary "o% got knocked the fuck out by %k"
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 1
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
  States
  {
  Ready:
	FIST A 1 A_WeaponReady
	loop
  Deselect:
	FIST A 1 A_Lower
	NULL AA 0 A_Lower
	loop
  Select: 
	FIST A 1 A_Raise
	NULL AA 0 A_Raise
	loop
  Fire:
	FIST B 6
	TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "Berserked")
	TNT1 A 0 A_PlaySound ("Max/fist")
	FIST C 6 A_CustomPunch (5 * random(1, 4), TRUE, 0, "FistPuff", 56)
	Goto FireEnd
  Berserked:
	TNT1 A 0 A_PlaySound ("Max/fist")
	FIST C 6 A_CustomPunch (25 * random(1, 10), TRUE, 0,"FistPuff", 56)
  FireEnd:
	FIST D 4
	FIST A 5 
	FIST A 0 A_ReFire
	goto Ready
  }
}

//Max's weapons

ACTOR FistPuff
{
  +NOBLOCKMAP
  +NOGRAVITY
  +ALLOWPARTICLES
  +RANDOMIZE
  PROJECTILE
  RenderStyle add
  +puffonactors
  +noextremedeath
  Alpha 0.5
  Speed 0
  Mass 10
  Attacksound "Max/fisthit"
  Seesound "Max/fisthit"
  Mass 5
  States
  {
  Spawn:
	TNT1 A 4 Bright
	TNT1 B 4
	TNT1 CD 4
	Stop
  }
}

actor DFPistol : Weapon
{
	obituary "%o couldn't handle %k's blaster pistol"
	Weapon.SelectionOrder 9
	Weapon.AmmoUse 1
	Weapon.AmmoGive 15
	Weapon.AmmoType "peastolClip"
	Weapon.UpSound "Max/WepRaise"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
	Decal ""
	Inventory.PickupMessage "Bryar Pistol"
	weapon.BobStyle "InverseSmooth"
	+AMMO_OPTIONAL
  Weapon.SlotNumber 2
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
	states
	{
	Ready:
	TNT1 A 0 A_JumpIfInventory("Tier1upgradetoken", 1, "GoldReady")
	BRYP A 1 A_WeaponReady
	Loop
	Deselect:
	TNT1 A 0 A_JumpIfInventory("Tier1upgradetoken", 1, "GoldDeselect")
	NULL AA 0 A_Lower
	BRYP A 1 A_Lower
	Goto Deselect+2
	Select:
	TNT1 A 0 A_JumpIfInventory("Tier1upgradetoken", 1, "GoldSelect")
	NULL AA 0 A_Raise
	BRYP A 1 A_Raise
	Goto Select+2
	Fire:
	TNT1 A 0 A_JumpIfInventory("Tier1upgradetoken", 1, "GoldFire")
	BRYP A 0 A_GunFlash
	BRYP A 0 A_FireCustomMissile("BlastBolt", 0.25, 0, 5, 0, 0, 0)
	BRYP A 0 A_PlaySound ("Max/Bryar")
	BRYP B 6 bright
	BRYP C 5 bright
	BRYP A 7
	BRYP A 0 A_ReFire
	Goto Ready
	Flash:
	TNT1 A 8 bright A_Light1
	TNT1 A 8 bright A_Light0
	Goto LightDone
	GoldSelect:
	TNT1 A 0 A_JumpIfInventory("peastolClip", 1, 1)
	Goto Select+2
	NULL AA 0 A_Raise
	DL44 A 1 A_Raise
	Loop
	GoldDeselect:
	TNT1 A 0 A_JumpIfInventory("peastolClip", 1, 1)
	Goto Deselect+2
	NULL AA 0 A_Lower
	DL44 A 1 A_Lower
	Loop
	GoldReady:
	TNT1 A 0 A_JumpIfInventory("peastolClip", 1, 1)
	Goto Ready+1
	DL44 A 1 A_WeaponReady
	Wait
	GoldFire:
	TNT1 A 0 A_JumpIfInventory("peastolClip", 1, 1)
	Goto Fire+1
	DL44 A 0 A_GunFlash
	TNT1 A 0 A_FireCustomMissile("DL44Bolt", 0.25, 1, 5, 0, 0, 0)
	TNT1 A 0 A_PlaySound ("Max/DL44")
	DL44 B 4 bright
	DL44 C 3 bright
	DL44 A 2
	DL44 A 0 A_ReFire
	Goto Ready
	Spawn:
	BPIS A -1
	Stop
	}
}

actor BlastBolt
{
	+Notimefreeze
	RenderStyle Add
	Alpha 1.0
	PROJECTILE
	Radius 2
	Height 2
	Speed 85
	Damage 3
	DeathSound "Max/LZHIT"
	Scale 0.75
	States
	{
	Spawn:
		BLAS AA 1 BRIGHT
		Goto Spawn+1
	Death:
		SPAR A 0 A_SetTranslucent(1.0, 0)
		SPAR ABCDEF 2 BRIGHT
		Stop
	}
}

actor DL44Bolt : BlastBolt
{
	Damage 8
}

actor DFBlaster : Weapon
{
	obituary "%o was blasted away by %k's E-11 rifle"
	Weapon.SelectionOrder 8
	Weapon.AmmoUse 1
	Weapon.AmmoGive 15
	Weapon.AmmoType "peastolClip"
	Weapon.UpSound "Max/WepRaise"
	Inventory.PickupMessage "Blaster Rifle"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
	weapon.BobStyle "InverseSmooth"
	Weapon.SlotNumber 2
	weapon.BobRangeX 1
	weapon.BobRangeY 1
	weapon.bobspeed 1
	States
	{
		Ready:
			TNT1 A 0 A_JumpIfInventory("Tier2upgradetoken", 1, "GoldReady")
			BLRF A 1 A_WeaponReady
			Loop
		Deselect:
			TNT1 A 0 A_JumpIfInventory("Tier2upgradetoken", 1, "GoldDeselect")
			BLRF A 1 A_Lower
			NULL AA 0 A_Lower
			Loop
		Select:
			TNT1 A 0 A_JumpIfInventory("Tier2upgradetoken", 1, "GoldSelect")
			BLRF A 1 A_Raise
			NULL AA 0 A_Raise
			Loop
		Fire: 
			TNT1 A 0 A_JumpIfInventory("Tier2upgradetoken", 1, "GoldFire")
			BLRF A 3 
			BLRF A 0 A_GunFlash
			BLRF A 0 A_PlaySound ("Max/E-11")
			BLRF B 3 bright A_FireCustomMissile("RifBlast", random(-2,2),1,4,0,0,random(-2,2))
			BLRF A 2 A_ReFire
			Goto Ready
		Altfire:
			TNT1 A 0 A_JumpIfInventory("Tier2upgradetoken", 1, "GoldAltFire")
			Goto Ready
		Flash:
			TNT1 A 3 Bright A_Light1
			TNT1 A 3 Bright A_Light0
			Goto LightDone
		GoldDeselect:
			NULL AA 0 A_Lower
			EE11 A 1 A_Lower
			Loop
		GoldSelect:
			NULL AA 0 A_Raise
			EE11 A 1 A_Raise
			Loop
		GoldReady:
			TNT1 A 0 A_JumpIfInventory("ScopeZoom", 1, "ZoomReady")
			EE11 A 1 A_WeaponReady
			Wait
		GoldFire:
			TNT1 A 0 A_JumpIfInventory("ScopeZoom", 1, "GoldFireZoom")
			EE11 A 3 
			EE11 A 0 A_GunFlash
			EE11 A 0 A_PlaySound ("Max/GE-11N")
			EE11 B 2 bright A_FireCustomMissile("GoldShot", random(-1.25,1.25),1,6,0,0,random(-1.25,1.25)) 
			EE11 A 3 A_ReFire
			Goto Ready
		GoldAltfire:
			TNT1 A 0 A_JumpifInventory ("ScopeZoom", 1, "ZoomOut")
			EESC A 1 A_PlaySound("Max/Zoom", CHAN_WEAPON)
			TNT1 A 0 A_GiveInventory("ScopeZoom", 1)
			EESC A 8 A_ZoomFactor(3)
			Goto Ready
		ZoomReady:
			EESC A 1 A_WeaponReady (WRF_NOBOB|WRF_NOSWITCH|WRF_ALLOWZOOM)
			Loop
		GoldFireZoom:
			TNT1 A 0 A_JumpIfInventory ("peastolClip", 8, "GoldFireZoomDoFire")
			Goto ZoomOut
		GoldFireZoomDoFire:
			EESC A 3
			TNT1 A 0 A_GunFlash
			TNT1 A 0 A_PlaySound ("Max/GE-11Z", CHAN_WEAPON)
			TNT1 A 0 A_FireCustomMissile("GoldShotZoom", 0, 1, 0, 4, 0)
			TNT1 A 0 A_TakeInventory("peastolClip", 6)
			EESC A 10
			TNT1 A 0 A_ReFire
			Goto Ready
		ZoomOut:
			TNT1 A 0 A_TakeInventory("ScopeZoom", 1)
			TNT1 A 0 A_PlaySound("Max/Zoom", CHAN_WEAPON)
			EESC A 8 A_ZoomFactor(1)
			EE11 A 1
			Goto Ready
		Spawn:
			BRIF A -1
			Stop
	}
}

actor RifBlast : BlastBolt
{
	Damage 8
}

actor GoldShot : BlastBolt
{
	Damage 16
	Speed 85
}

actor GoldShotZoom : BlastBolt
{
	Damage 24
	Speed 300
}

actor ScopeZoom : Inventory
{
 inventory.maxamount 1
}

actor Autogun : Weapon 
{
	obituary "%o got in the way of %k's repeater rifle"
	Weapon.SelectionOrder 5
	Weapon.AmmoUse 1
	Weapon.AmmoUse2 1
	Weapon.AmmoGive 15
	Weapon.AmmoGive2 3
	Weapon.AmmoType "AK_Mag"
	Weapon.AmmoType2 "Shellz"
	Weapon.UpSound "Max/WepRaise"
	Weapon.kickback 100
	Inventory.PickupMessage "Autogun"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
	weapon.BobStyle "InverseSmooth"  
	Weapon.SlotNumber 4
	weapon.BobRangeX 1
	weapon.BobRangeY 1
	weapon.bobspeed 1
	states
	{
		Ready:
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldReady")
			AUTO A 1 A_WeaponReady
			Loop
		Select:
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldSelect")
			AUTO A 1 A_Raise
			NULL AA 0 A_Raise
			Loop
		Deselect:
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldDeselect")
			NULL A 0 A_StopSound(5)
			AUTO A 1 A_Lower
			NULL AA 0 A_Lower
			Loop
		Fire:
			TNT1 A 0 A_Jumpifnoammo("Ready")
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldFire")
			AUTO B 0 A_GunFlash
			AUTO B 0 A_PlaySound ("Max/autogun", 5)
			AUTO B 3 A_FireCustomMissile ("Bullet",0.25,1,9,0,0)
			AUTO C 1 
			AUTO C 0 A_ReFire
			Goto Ready
		Hold:
			TNT1 A 0 A_Jumpifnoammo("Ready")	
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldHold")
			NULL A 0 A_GunFlash
			NULL A 0 A_PlaySound ("Max/autoloop", 5, 1, 1)
			AUTO C 3
			AUTO B 3 Bright A_FireCustomMissile ("Bullet",0.25,1,9,0,0)
			AUTO C 1
			NULL C 0 A_ReFire
			NULL A 0 A_StopSound(5)
			NULL A 0 A_ClearReFire
			Goto Ready
		AltFire:
			TNT1 A 0 A_Jumpifnoammo("Ready")
			TNT1 A 0 A_JumpIfInventory ("Tier4upgradetoken", 1, "GoldAltFire")
			AUTO B 0 A_PlaySound ("Max/autogun", 5)
			AUTO B 0 A_FireCustomMissile ("Bullet",0.25,1,6,-9,0)
			AUTO B 0 A_FireCustomMissile ("Bullet",0.25,0,15,-9,0)
			AUTO B 9 BRIGHT A_FireCustomMissile ("Bullet",0.25,0,9,0,0)
			AUTO C 6
			AUTO C 0 A_ReFire
			Goto Ready
		Flash:
			TNT1 A 2 bright A_Light1
			TNT1 A 2 bright A_Light0
			stop
		GoldReady:
			GYRO A 1 A_WeaponReady
			Loop
		GoldSelect:
			GYRO A 1 A_Raise
			NULL AA 0 A_Raise
			Loop
		GoldDeselect:
			GYRO A 1 A_Lower
			NULL AA 0 A_Lower
			Loop
		GoldFire:
			TNT1 A 0 A_Jumpifnoammo("Ready")
			GYRO B 0 A_GunFlash
			GYRO B 0 A_PlaySound ("Max/GAutogun", 5)
			GYRO B 3 bright A_FireCustomMissile ("GoldBullet",0.25,1,9,0,0)
			GYRO C 1 
			GYRO C 0 A_ReFire
			Goto Ready
		GoldHold:
			TNT1 A 0 A_Jumpifnoammo("Ready")
			NULL A 0 A_GunFlash
			NULL A 0 A_PlaySound ("Max/GAutoloop", 5, 1, 1)
			GYRO C 3
			GYRO B 3 Bright A_FireCustomMissile ("GoldBullet",0.25,1,9,0,0)
			GYRO C 1 Bright 
			GYRO C 0 A_ReFire
			GYRO A 0 A_StopSound(5)
			GYRO A 0 A_ClearReFire
			Goto Ready
		GoldAltFire:
			TNT1 A 0 A_Jumpifnoammo("Ready")
			GYRO B 0 A_PlaySound ("Max/GAutogun", 5)
			GYRO B 0 A_FireCustomMissile ("GoldBullet",0.25,1,4,-9,0)
			GYRO B 0 A_FireCustomMissile ("GoldBullet",0.25,0,15,-9,0)
			GYRO B 9 BRIGHT A_FireCustomMissile ("GoldBullet",0.25,0,9,0,0)
			GYRO C 6
			GYRO C 0 A_ReFire
			Goto Ready
		Spawn:
			AGUN A -1
			Stop
	}
}

actor Bullet
{
	RenderStyle Add
	Alpha 1.0
	+Notimefreeze
	PROJECTILE
	Radius 2
	Height 2
	Speed 60
	Damage (15 * random(1, 4))
	Decal "BulletChip"
	Obituary "%o got blasted by %k, like the rebel scum he is!"
	DeathSound "Max/LZHIT"
	Scale 0.64
	States
	{
	Spawn:
		BULL A 1 BRIGHT 
		loop
	Death:
		BUEX A 0 A_SetTranslucent(1.0, 0)
		BUEX ABCDEFG 2 BRIGHT
		Stop
	}
}

actor GoldBullet : Bullet
{
Damage (20 * random(1, 4))
Scale 0.85
States
	{
	Spawn:
		GBUL A 1 BRIGHT 
		loop
	Death:
		BUEX A 0 A_SetTranslucent(1.0, 0)
		BUEX ABCDEFG 2 BRIGHT
		Stop
	}
}

actor FusionCutter : Weapon 
{
  obituary "%k demonstrated the power of the fusion cutter tool to %o"
  Weapon.selectionorder 4
  Weapon.AmmoUse 1
  Weapon.AmmoUse2 2
  Weapon.AmmoGive 8
  Weapon.AmmoGive2 8
  Weapon.AmmoType "ShellZ"
  Weapon.AmmoType2 "SuperShellZ"
  Weapon.UpSound "Max/WepRaise"
  Weapon.kickback 150
  Inventory.PickupMessage "Fusion Cutter"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 3
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
  weapon.kickback 1536
	states
	{
	Select:
	TNT1 A 0 A_JumpIfInventory ("Tier3upgradetoken", 1, "GoldSelect")
	FUSI A 1 A_Raise
	NULL AA 0 A_Raise
	loop
	Deselect:
	TNT1 A 0 A_JumpIfInventory ("Tier3upgradetoken", 1, "GoldDeselect")
	FUSI A 1 A_Lower
	NULL AA 0 A_Lower
	loop
	Ready:
	TNT1 A 0 A_JumpIfInventory ("Tier3upgradetoken", 1, "GoldReady")
	FUSI A 1 A_WeaponReady
	Loop
	Fire:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory ("Tier3upgradetoken", 1, "GoldFire")
	FUSI A 0 A_JumpIfInventory("Cutshot", 1, "Fire2")
	FUSI A 0 A_GunFlash
	FUSI A 0 A_PlaySound ("Max/fusion")
	FUSI B 7 bright A_FireCustomMissile ("cutblast", 0, 1, -12, 0, 0)
	FUSI A 4 A_GiveInventory ("Cutshot", 1)
	FUSI A 1 A_ReFire
	Goto Ready
Fire2:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUSI A 0 A_JumpIfInventory("Cutshot", 2, "Fire3")
	FUSI C 0 A_GunFlash
	FUSI C 0 A_PlaySound ("Max/fusion")
	FUSI C 7 bright A_FireCustomMissile ("cutblast", 0, 1, -5, 0, 0)
	FUSI A 4 A_GiveInventory ("Cutshot", 1)
	FUSI A 1 A_ReFire
	Goto Ready
Fire3:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUSI A 0 A_JumpIfInventory("Cutshot", 3, "Fire4")
	FUSI D 0 A_GunFlash
	FUSI D 0 A_PlaySound ("Max/fusion")
	FUSI D 7 bright A_FireCustomMissile ("cutblast", 0, 1, 4, 0, 0)
	FUSI A 4 A_GiveInventory ("Cutshot", 1)
	FUSI A 1 A_ReFire
	Goto Ready
Fire4:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUSI A 0 A_JumpIfInventory("Cutshot", 4, "Fire5")
	FUSI E 0 A_GunFlash
	FUSI E 0 A_PlaySound ("Max/fusion")
	FUSI E 7 bright A_FireCustomMissile ("cutblast", 0, 1, 12, 0, 0)
	FUSI A 4 A_GiveInventory ("Cutshot", 1)
	FUSI A 1 A_ReFire
	Goto Ready
Fire5:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUSI A 0 A_JumpIfInventory("Cutshot", 5, "Fire6")
	FUSI D 0 A_GunFlash
	FUSI D 0 A_PlaySound ("Max/fusion")
	FUSI D 7 bright A_FireCustomMissile ("cutblast", 0, 1, 4, 0, 0)
	FUSI A 4 A_GiveInventory ("Cutshot", 1)
	FUSI A 1 A_ReFire
	Goto Ready
Fire6:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUSI C 0 A_GunFlash
	FUSI C 0 A_PlaySound ("Max/fusion")
	FUSI C 7 bright A_FireCustomMissile ("cutblast", 0, 1, -5, 0, 0)
	FUSI A 4 A_TakeInventory ("Cutshot", 5)	
	FUSI A 1 A_ReFire
	Goto Ready
AltFire:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory ("Tier3upgradetoken", 1, "GoldAltFire")
	FUSI F 0 A_GunFlash
	FUSI F 0 A_PlaySound ("Max/fusion", 1)
	TNT1 A 0 A_PlaySound ("Max/fusion", 2)
	TNT1 A 0 A_PlaySound ("Max/fusion", 3)
	TNT1 A 0 A_PlaySound ("Max/fusion", 4)
	FUSI F 0 A_FireCustomMissile ("cutblast", 0, 4, -12, 0, 0)
	FUSI F 0 A_FireCustomMissile ("cutblast", 0, 0, -5, 0, 0)
	FUSI F 0 A_FireCustomMissile ("cutblast", 0, 0, 4, 0, 0)
	FUSI F 0 A_FireCustomMissile ("cutblast", 0, 0, 12, 0, 0)
	FUSI F 8 bright
	FUSI A 16 
	FUSI A 1 A_ReFire
	Goto Ready
Flash:
	TNT1 A 3 bright A_Light1
	TNT1 A 4 bright A_Light0
	stop
	GoldSelect:
	FUS2 A 1 A_Raise
	NULL AA 0 A_Raise
	loop
	GoldDeselect:
	FUS2 A 1 A_Lower
	NULL AA 0 A_Lower
	loop
	GoldReady:
	FUS2 A 1 A_WeaponReady
	Loop
GoldFire:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUS2 A 0 A_JumpIfInventory("Cutshot", 1, "GoldFire2")
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound ("Max/Goob")
	FUS2 B 7 bright A_FireCustomMissile ("goobblast", 0, 1, -12, 0, 0)
	FUS2 A 4 A_GiveInventory ("Cutshot", 1)
	FUS2 A 1 A_ReFire
	Goto Ready
GoldFire2:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory("Cutshot", 2, "GoldFire3")
	FUS2 C 0 A_GunFlash
	FUS2 C 0 A_PlaySound ("Max/Goob")
	FUS2 C 7 bright A_FireCustomMissile ("goobblast", 0, 1, -5, 0, 0)
	FUS2 A 4 A_GiveInventory ("Cutshot", 1)
	FUS2 A 1 A_ReFire
	Goto Ready
GoldFire3:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory("Cutshot", 3, "GoldFire4")
	FUS2 D 0 A_GunFlash
	FUS2 D 0 A_PlaySound ("Max/Goob")
	FUS2 D 7 bright A_FireCustomMissile ("goobblast", 0, 1, 4, 0, 0)
	FUS2 A 4 A_GiveInventory ("Cutshot", 1)
	FUS2 A 1 A_ReFire
	Goto Ready
GoldFire4:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory("Cutshot", 4, "GoldFire5")
	FUS2 E 0 A_GunFlash
	FUS2 E 0 A_PlaySound ("Max/Goob")
	FUS2 E 7 bright A_FireCustomMissile ("goobblast", 0, 1, 12, 0, 0)
	FUS2 A 4 A_GiveInventory ("Cutshot", 1)
	FUS2 A 1 A_ReFire
	Goto Ready
GoldFire5:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	TNT1 A 0 A_JumpIfInventory("Cutshot", 5, "GoldFire6")
	FUS2 D 0 A_GunFlash
	FUS2 D 0 A_PlaySound ("Max/Goob", CHAN_WEAPON)
	FUS2 D 7 bright A_FireCustomMissile ("goobblast", 0, 1, 4, 0, 0)
	FUS2 A 4 A_GiveInventory ("Cutshot", 1)
	FUS2 A 1 A_ReFire
	Goto Ready
GoldFire6:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUS2 C 0 A_GunFlash
	FUS2 C 0 A_PlaySound ("Max/Goob")
	FUS2 C 7 bright A_FireCustomMissile ("goobblast", 0, 1, -5, 0, 0)
	FUS2 A 4 A_TakeInventory ("Cutshot", 5)	
	FUS2 A 1 A_ReFire
	Goto Ready
GoldAltFire:
	TNT1 A 0 A_Jumpifnoammo("Ready")
	FUS2 F 0 A_GunFlash
	FUS2 F 0 A_PlaySound ("Max/Goob", 1)
	TNT1 A 0 A_PlaySound ("Max/Goob", 2)
	TNT1 A 0 A_PlaySound ("Max/Goob", 3)
	TNT1 A 0 A_PlaySound ("Max/Goob", 4)
	FUS2 F 0 A_FireCustomMissile ("goobblast", 0, 4, -12, 0, 0)
	FUS2 F 0 A_FireCustomMissile ("goobblast", 0, 0, -5, 0, 0)
	FUS2 F 0 A_FireCustomMissile ("goobblast", 0, 0, 4, 0, 0)
	FUS2 F 0 A_FireCustomMissile ("goobblast", 0, 0, 12, 0, 0)
	FUS2 F 8 bright
	FUS2 A 16 
	FUS2 A 1 A_ReFire
	Goto Ready
Spawn:
	FCUT A -1
	Stop
}
	}

actor cutblast
{
	+Notimefreeze
	PROJECTILE
	Radius 2
	Height 2
	Speed 50
	Damage (20)
	Obituary "%o was chopped up by %k"
	DeathSound "Max/LZHIT"
	scale 0.65
	States
	{
	Spawn:
		CULT ABCD 4 BRIGHT
		loop
	Death:
		TNT1 A  0 A_Explode (12 * random(2, 8), 48, FALSE)
		CUEX A  0 A_SetTranslucent(1.0, 0)
		CUEX ABCDEFGH 4 BRIGHT
		Stop
	}
}

actor goobblast
{
	+Notimefreeze
	PROJECTILE
	Radius 2
	Height 2
	Speed 50
	Damage (35)
	Obituary "%o was chopped up by %k"
	DeathSound "Max/LZHIT"
	scale 0.65
	States
	{
	Spawn:
		GOOB ABCD 4 BRIGHT
		loop
	Death:
		TNT1 A  0 A_Explode (20 * random(1, 8), 48, FALSE)
		GOSP A  0 A_SetTranslucent(1.0, 0)
		GOSP ABCDEFGH 4 BRIGHT
		Stop
	}
}

actor Cutshot : Inventory
{
	inventory.amount 1
	inventory.maxamount 5
}

actor MortarGun : Weapon
{
weapon.selectionorder 7
weapon.AmmoUse 1
weapon.ammotype "RoketAmmo"
weapon.ammogive 3
Weapon.UpSound "Max/WepRaise"
Inventory.Pickupmessage "Mortar Gun"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
   weapon.kickback 300
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 5
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
   +NOAUTOAIM
   States
   {
   Ready:
	  MORT A 1 A_WeaponReady
	  loop
   Deselect:
	  MORT A 1 A_Lower
	  NULL AA 0 A_Lower
	  loop
   Select:
	  MORT A 1 A_Raise
	  NULL AA 0 A_Raise
	  loop
   Fire:
	  MORT B 0 A_PlaySound ("Max/mortarfire")
	  TNT1 A 0 A_FireCustomMissile("Mortarnade",1,1,0)
	  MORT B 8 bright A_GunFlash
	  MORT C 6 A_PlaySound ("Max/mortarload")
	  MORT D 6
	  MORT A 12 
	  MORT A 2 A_ReFire
	  Goto Ready
//	AltFire:
//	  MORT B 0 A_PlaySound ("Max/mortarfire")
//	  TNT1 A 0 A_FireCustomMissile("Mortarbouncenade",1,1,0)
//	  MORT B 18 bright A_GunFlash
//	  MORT C 6 A_PlaySound ("Max/mortarload")
//	  MORT D 6
//	  MORT A 12 
//	  MORT A 2 A_ReFire
//	  Goto Ready
   Flash:
	  TNT1 A 14 BRIGHT A_Light1
	  stop
   Spawn:
   MOGU A -1
   Stop
}
   }
   
actor Mortarnade
{
	+Notimefreeze
   DeathSound "Max/MedExplo"
   Obituary "%k's Mortar blew %o away "
   Radius 12
	Height 8
	Speed 35
	Damage 20
	Gravity 0.7
	Scale 0.7
   +NOBLOCKMAP
   +ACTIVATEPCROSS
   +ACTIVATEIMPACT
   +DONTFALL
   +MISSILE
   States
   {
   Spawn:
	MORS ABCDEF 4 BRIGHT
	Loop
   Death:
	TNT1 A 0 A_ChangeFlag("NOGRAVITY", TRUE)
	MOEX A 3 bright A_Explode (20 * random(1, 10), 160, 1)
	MOEX BCDEFGHIJKLMN 2 bright
	stop
  }
}

//actor Mortarbouncenade : Mortarnade
// {
//+HereticBounce
// -MISSILE
// States
//   {
//   Spawn:
//    MORS ABCDEF 4
 //   Loop
//   Death:
//	TNT1 A 0 A_ChangeFlag("NOGRAVITY", TRUE)
//	MOEX A 3 bright A_Explode (20 * random(1, 10), 160, 1)
//   MOEX BCDEFGHIJKLMN 2 bright
//	stop
//  }
//}

actor ConcRifle : Weapon
{
obituary "%o was unlucky to meet %k's Concussion Rifle"
weapon.selectionorder 4
  weapon.ammouse 4
  Weapon.AmmoGive 20
  Weapon.AmmoType "Battery"
  Weapon.kickback 100
  Weapon.UpSound "Max/WepRaise"
  Inventory.PickupMessage "Concussion Rifle"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 6
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
	states
	{
	Select:
	CONC A 1 A_Raise
	NULL AA 0 A_Raise
	loop
	Deselect:
	CONC A 1 A_Lower
	NULL AA 0 A_Lower
	loop
	Ready:
	CONC A 1 A_WeaponReady
	Loop
	Fire:
	CONC B 0 A_GunFlash
	CONC B 0 A_PlaySound ("Max/ConcRifle")
	CONC B 14 bright A_FireCustomMissile ("cblast", 0, 1, 0, 0, 0)
	CONC C 6 bright
	CONC A 9 
	CONC A 1 A_ReFire
	Goto Ready
	Flash:
	TNT1 A 7 bright A_Light1
	TNT1 A 7 bright A_Light0
	stop
	Spawn:
	CRIF A -1
	Stop
	}
}

actor cblast
{
	+Notimefreeze
DeathSound "Max/LrgExplo"
PROJECTILE
obituary "%o was unlucky to meet %k's Concussion Rifle"
Radius 6
Height 6
Damage (20 * random(1,4))
speed 80
+NOBLOCKMAP
+ACTIVATEPCROSS
+ACTIVATEIMPACT
+NOGRAVITY
   States
   {
   Spawn:
	  TNT1 A 1
	  Loop
   Death:
	CBLA A 3 bright A_Explode (16, 64, 1)
	CBLA B 3 bright A_BFGSpray ("ConExtra", 8, 16)
	CBLA CDEFGH 3 bright
	stop
  }
}

actor ConExtra
{
	+Notimefreeze
  DamageType Marines
  DeathSound "exp/larg"
  +NOBLOCKMAP
  +NOGRAVITY
  RenderStyle Add
  Alpha 0.75
  States
  {
  Spawn:
  TNT1 A 0
  TNT1 A 0 A_Explode (16, 64, 1)
  CBLA ABCDEFGH 3 bright
  stop
  }
}

actor DisruptorRifle : DoomWeapon
{
 obituary "%o was disintegrated by %k"
 weapon.selectionorder 4
 weapon.ammouse 2
 weapon.ammogive 8
 weapon.ammotype "RailSlugs"
 Inventory.ForbiddenTo "Fiend"
 Inventory.ForbiddenTo "Gosimer"
 Inventory.ForbiddenTo "Kunai"
 Inventory.RestrictedTo "MaximusPrime"
 Inventory.pickupmessage "Disruptor Rifle"
 Weapon.UpSound "Max/WepRaise"
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 7
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
 States
 {
  Select:
  NULL AA 0 A_Raise
  DRIF A 1 A_Raise
  Goto Select+1
  Deselect:
  NULL AA 0 A_Lower
  DRIF A 1 A_Lower
  Goto Deselect+1
  Ready:
  DRIF A 1 A_WeaponReady
  Loop
  Fire:
  DRIF A 1 A_RailAttack(300, 0, 1, "FF FF FF", "FF FF FF", RGF_FULLBRIGHT|RGF_SILENT, 0, "Bulletbuff", 0, 0, 0, 35, 2.0, 4.0, "REDLightRailBlast")
  TNT1 A 0 A_PlaySound("Max/Disrupt", CHAN_WEAPON)
  DRIF B 1 bright A_GunFlash
  DRIF C 1 
  TNT1 A 0 A_PlaySound("Max/DisrCh", 7)
  DRIF D 1
  DRIF E 1
  DRIF F 1
  DRIF E 5
  DRIF D 1
  DRIF A 93
  DRIF A 1 A_Refire
  Goto Ready
  Flash:
  TNT1 A 3 bright A_Light1
  TNT1 A 3 bright A_light0
  stop
  Spawn:
  DIRF A -1
  Stop
  }
}

actor AssaultCannon : Weapon
{
obituary "%o became another victim to %k's Assault Cannon"
weapon.selectionorder 1
  weapon.ammouse 5
  weapon.ammouse2 1
  Weapon.AmmoGive 32
  Weapon.AmmoGive2 1
  Weapon.AmmoType "Battery"
  Weapon.AmmoType2 "BFGCHARGE"
  Weapon.kickback 100
  Weapon.UpSound "Max/WepRaise"
  Inventory.PickupMessage "Assault Cannon"
	Inventory.ForbiddenTo "Fiend"
	Inventory.ForbiddenTo "Gosimer"
	Inventory.ForbiddenTo "Kunai"
	Inventory.RestrictedTo "MaximusPrime"
  weapon.BobStyle "InverseSmooth"
  Weapon.SlotNumber 8
  weapon.BobRangeX 1
  weapon.BobRangeY 1
  weapon.bobspeed 1
  states
  {
  Ready:
  TNT1 A 0 A_JumpIfInventory("Tier7upgradetoken", 1, "GoldReady")
  ASAU A 1 A_WeaponReady
  loop
  Select:
  TNT1 A 0 A_JumpIfInventory("Tier7upgradetoken", 1, "GoldSelect")
  ASAU A 1 A_Raise
  NULL AA 0 A_Raise
  loop
  Deselect:
  TNT1 A 0 A_JumpIfInventory("Tier7upgradetoken", 1, "GoldDeselect")
  ASAU A 1 A_Lower
  NULL AA 0 A_Lower
  loop
  Fire:
  TNT1 A 0 A_Jumpifnoammo("Ready")
  TNT1 A 0 A_JumpIfInventory("Tier7upgradetoken", 1, "GoldFire")
  ASAU B 0 A_GunFlash
  ASAU B 0 A_PlaySound ("Max/Assault")
  ASAU B 8 bright A_FireCustomMissile ("PlasShot", 2, 1, 10, 0, 0)
  ASAU A 2 
  ASAU A 1 A_Refire
  Goto Ready
  AltFire:
  TNT1 A 0 A_Jumpifnoammo("Ready")
  TNT1 A 0 A_JumpIfInventory("Tier7upgradetoken", 1, "GoldAltFire")
  ASAU C 9 A_GunFlash
  ASAU C 0 A_PlaySound ("Max/Missile")
  ASAU D 20 bright A_FireCustomMissile ("missshot", 2, 1, 10, 0, 0)
  ASAU A 13
  ASAU A 1 A_ReFire
  Goto Ready
  Flash:
  TNT1 A 8 bright A_Light1
  TNT1 A 8 bright A_Light0
  stop
  GoldReady:
  BLWH A 1 A_WeaponReady
  loop
  GoldSelect:
  BLWH A 1 A_Raise
  NULL AA 0 A_Raise
  loop
  GoldDeselect:
  BLWH A 1 A_Lower
  NULL AA 0 A_Lower
  loop
  GoldFire:
  TNT1 A 0 A_Jumpifnoammo("Ready")
  BLWH B 0 A_GunFlash
  BLWH B 0 A_PlaySound ("Max/BWPlasma")
  BLWH B 2 Bright A_FireCustomMissile ("GoldPlasShot", 0, 1, 10, -0.5, 0)
  BLWH C 2 Bright
  BLWH D 2 Bright
  BLWH A 2
  BLWH A 1 A_Refire
  Goto Ready
  GoldAltFire:
  TNT1 A 0 A_Jumpifnoammo("Ready")
  BLWH E 2 Bright
  BLWH F 2 Bright
  TNT1 C 0 A_PlaySound ("Max/BWMissile", 1)
  TNT1 C 0 A_PlaySound ("Max/BWRock", 2)
  BLWH G 2 Bright A_FireCustomMissile ("Goldmissshot", 0, 1, 10, 0, 0)
  BLWH H 2 Bright
  BLWH R 29
  BLWH I 2
  BLWH J 2
  BLWH A 1 A_ReFire
  Goto Ready
	Spawn:
	ACAN A -1
	Stop
	}
}

actor PlasShot
{
	+Notimefreeze
	PROJECTILE
	Radius 6
	Height 6
	Speed 45
	Damage (25 * random(1, 5.5))
	obituary "%o became another victim to %k's Assault Cannon"
	DeathSound "Max/MedExplo"
	scale 0.4
	States
	{
	Spawn:
		ACSH ABCD 3 BRIGHT
		loop
	Death:
		TNT1 A 0 A_Explode(5 * random(2, 8), 96, FALSE)
		ACBL A 0 A_SetTranslucent(1.0, 0)
		ACBL BCDEF 3 BRIGHT
		Stop
	}
}

actor GoldPlasShot : PlasShot
{
Damage (25 * random(1.5, 6))
Speed 55
Scale 0.9
States
{
Spawn:
	WPLS AB 3 BRIGHT
	Loop
Death:
	TNT1 A 0 A_Explode(9 * random(2, 12), 144, FALSE)
	WEXP A 0 A_SetTranslucent(1.0, 0)
	WEXP ABCDEF 3 Bright
	stop
	}
}

actor missshot
{
	+Notimefreeze
	PROJECTILE
	Radius 6
	Height 6
	Speed 20
	Damage (2000)
	obituary "%o became another victim to %k's Assault Cannon"
	SeeSound "Max/Trail"
	ActiveSound "Max/Trail"
	DeathSound "Max/MedExplo"
	scale 0.8
	States
	{
	Spawn:
		ACMI AB 4 BRIGHT A_LoopActiveSound
		loop
	Death:
		ACMB A 3 A_Explode (100, 128, 1)
		ACMB BCDEFHIJKL 3 BRIGHT
		Stop
	}
}

actor Goldmissshot : missshot
{
Damage (3000)
Speed 35
States
{
	Spawn:
	 WMSL AB 4 BRIGHT A_LoopActiveSound
	 Loop
	Death:
	 ACMB A 3 A_Explode (150, 128, 1)
	 ACMB BCDEFHIJKL 3 BRIGHT
	Stop
	}
}