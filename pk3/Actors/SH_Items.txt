//SBARINFO DUMMY ITEM (this is for the ammo expansion bar)

Actor Ammoexpansioncheck : Ammo
{
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	Inventory.MaxAmount 10
	ammo.Backpackmaxamount 10
}

//--------------<ARMORS

Actor Greenarmorbonus : Custominventory
{
	Radius 20
	Height 16
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Fiend +5Armor/Gosimer +5Armor/Kunai +10Armor/Max +20Armor"
	var int user_scale_MaximusPrime;
	States
	{
		Spawn:
			TNT1 A 0 NoDelay Thing_ChangeTID(0, 69069)
			goto CheckSprite
		
		RecheckSprite:
			"####" "#" 1
			goto CheckSprite
		CheckSprite:
			"####" "#" -1 A_ClientsideACSExecute("SET_PICKUP_SPRITE")
			loop
		Idle:
			"####" "#" -1
			stop
		SetScale:
			"####" "#" 0 A_SetUserVar(user_scale_MaximusPrime, 80)
			goto Idle

		Base:
			BON2 ABCDCB 6 Bright
			loop
		MaximusPrime:
			MXSB ABCDCB 3 Bright
			loop

		Pickup:
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
			TNT1 A 0 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 0 A_Giveinventory("FiendsgreenArmorbonus")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("ARMRGET",chan_5)
			TNT1 A 0 A_Giveinventory("Kunaisredarmorbonus")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Gosimer/Armorget",chan_5)
			TNT1 A 0 A_Giveinventory("Gosimersbluearmorbonus")
			Stop
		Maxpickup:
			TNT1 A 0 A_Playsound("Max/ArmorBonus",chan_5)
			TNT1 A 0 A_Giveinventory("MaxShield20")
			Stop
	}
}


Actor Redarmorbonus : Greenarmorbonus
{
	TRANSLATION "112:127=174:191"
}

Actor Bluearmorbonus : Greenarmorbonus
{
	TRANSLATION "112:127=198:207"
}

Actor GreenarmorFilter : CustomInventory Replaces Greenarmor
{
	Radius 20
	Height 16
	+INVENTORY.QUIET
	Scale 1.0
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Fiend +100Armor/Gosimer +125Armor/Kunai +200Armor/Max +100Armor"
	var int user_scale_MaximusPrime;
	States
	{
		Spawn:
			TNT1 A 0 NoDelay Thing_ChangeTID(0, 69069)
			goto CheckSprite
		RecheckSprite:
			"####" "#" 1
			goto CheckSprite
		CheckSprite:
			"####" "#" -1 A_ClientsideACSExecute("SET_PICKUP_SPRITE")
			loop
		Idle:
			"####" "#" -1
			stop
		SetScale:
			"####" "#" 0 A_SetUserVar(user_scale_MaximusPrime, 80)
			goto Idle

		Base:
			ARM1 AB 6 Bright
			loop

		MaximusPrime:
			MXSH AB 6 Bright
			loop

		pickup:
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
			TNT1 A 0 A_playsound("ARMOUR/GREEN",Chan_6)
			TNT1 A 0 A_PLAYSOUND("Jim/Taunt5",Chan_7)
			TNT1 A 0 A_Giveinventory("Greenarmorfiend")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("ARMOUR/GREEN",Chan_6)
			TNT1 A 0 A_Giveinventory("GreenarmorKunai")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("ARMOUR/GREEN",Chan_6)
			TNT1 A 0 A_Playsound("GARMGET",CHAN_5)
			TNT1 A 0 A_Giveinventory("Greenarmorgosimer")
			Stop
		Maxpickup:
			TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "Failure")
			TNT1 A 0 A_playsound("Max/ArmorGet",Chan_6)
			TNT1 A 0 A_Giveinventory("MaxShield100")
			Stop
		Failure:
			TNT1 A 0
			fail
	}
}

Actor BluearmorFilter : CustomInventory Replaces Bluearmor
{
	Radius 20
	Height 16
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Fiend +200Armor/Gosimer +250Armor/Kunai +400Armor/Max +200Armor"
	var int user_scale_MaximusPrime;
	States
	{
		Spawn:
			TNT1 A 0 NoDelay Thing_ChangeTID(0, 69069)
			goto CheckSprite
		RecheckSprite:
			"####" "#" 1
			goto CheckSprite
		CheckSprite:
			"####" "#" 1 A_ClientsideACSExecute("SET_PICKUP_SPRITE")
			loop
		Idle:
			"####" "#" -1
			stop
		SetScale:
			"####" "#" 0 A_SetUserVar(user_scale_MaximusPrime, 80)
			goto Idle
	
		Base:
			ARM2 AB 6 Bright
			Loop
		MaximusPrime:
			MXSH CDEFGHIJ 3 Bright
			loop
		
		pickup:
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_JumpIfInventory ("Maxtoken",1,"MaxPickup")
			TNT1 A 0 A_playsound("Fiend/Bluearmorget",Chan_6)
			TNT1 A 0 A_playsound("Jim/Taunt2",chan_7)
			TNT1 A 0 A_Giveinventory("Bluearmorfiend")
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("ARMOUR/BLUE",Chan_6)
			TNT1 A 0 A_Giveinventory("BluearmorKunai")
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("ARMOUR/BLUE",Chan_6)
			TNT1 A 0 A_Playsound("GARMGET",CHAN_5)
			TNT1 A 0 A_Giveinventory("Bluearmorgosimer")
			Stop
		Maxpickup:
			TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "Failure")
			TNT1 A 0 A_playsound("Max/ArmorGet",Chan_6)
			TNT1 A 0 A_Giveinventory("MaxShield200")
			Stop
		Failure:
			TNT1 A 0
			fail
	}
}

ACTOR FiendsGreenArmorBonus : BasicArmorBonus
{
	Radius 20
	Height 16
	+INVENTORY.QUIET
	Inventory.Icon "ARM1A0"
	Inventory.PickupSound "FARMRGET"
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	Armor.SaveAmount 5
	Armor.MaxSaveAmount 300
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	States
	{
		Spawn:
			BON2 ABCDCB 6
			Loop
	}
}

ACTOR DispenserArmorBonus : BasicArmorBonus
{
	Armor.SavePercent 100
	Armor.SaveAmount 1
	Armor.MaxSaveAmount 500
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.QUIET
}

ACTOR KunaisRedArmorBonus : BasicArmorBonus
{
	Radius 20
	Height 16
	TRANSLATION "112:127=174:191"
	+INVENTORY.QUIET
	Inventory.Icon "ARM1A0"
	Inventory.PickupSound "ARMRGET"
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	DamageFactor 0.75
	Armor.SaveAmount 10
	Armor.MaxSaveAmount 400
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	States
	{
		Spawn:
			BON2 ABCDCB 6
			Loop
	}
}


ACTOR GosimersBlueArmorBonus : BasicArmorBonus
{
	Radius 20
	Height 16
	TRANSLATION "112:127=198:207"
	Inventory.Icon "ARM1A0"
	+INVENTORY.QUIET
	Inventory.PickupSound "ARMRGET"
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	Armor.SaveAmount 5
	Armor.MaxSaveAmount 400
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	States
	{
		Spawn:
			BON2 ABCDCB 6
			Loop
	}
}

ACTOR GreenArmorFiend : BasicArmorPickup
{
	Radius 20
	Height 16
	Inventory.PickupMessage "$GOTARMOR" // "Picked up the armor."
	Inventory.Icon "ARM1A0"
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	Armor.SaveAmount 100
	States
	{
		Spawn:
			ARM1 A 6
			ARM1 B 7 Bright
			Loop
	}
}

ACTOR GreenArmorKunai : BasicArmorpickup
{
	Radius 20
	Height 16
	Inventory.PickupMessage "$GOTARMOR" // "Picked up the armor."
	Inventory.Icon "ARM1A0"
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	DamageFactor 0.75
	Armor.SavePercent 100
	Armor.SaveAmount 200
	States
	{
		Spawn:
			ARM1 A 6
			ARM1 B 7 Bright
			Loop
	}
}


ACTOR GreenArmorGosimer : GosimersBlueArmorBonus
{
	Radius 20
	Height 16
	TRANSLATION "112:127=198:207"
	Inventory.Icon "ARM1A0"
	+INVENTORY.QUIET
	Inventory.PickupSound "GARMGET"
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	Armor.SaveAmount 50
	Armor.MaxSaveAmount 400
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	States
	{
		Spawn:
			BON2 ABCDCB 6
			Loop
	}
}

ACTOR MaxShield20 : BasicArmorBonus
{
	Armor.SavePercent 0
	Armor.SaveAmount 20
	Armor.MaxSaveAmount 200
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
}

ACTOR MaxShield100 : BasicArmorBonus
{
	Armor.SavePercent 0
	Armor.SaveAmount 100
	Armor.MaxSaveAmount 200
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
}

ACTOR MaxShield200 : BasicArmorBonus
{
	Armor.SavePercent 0
	Armor.SaveAmount 200
	Armor.MaxSaveAmount 200
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
}

ACTOR BlueArmorFiend : Basicarmorpickup
{
	Radius 20
	Height 16
	Inventory.PickupMessage "$GOTARMOR" // "Picked up the armor."
	Inventory.Icon "ARM1A0"
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	DamageFactor 0.75
	Armor.SavePercent 100
	Armor.SaveAmount 200
	States
	{
		Spawn:
			ARM2 A 6
			ARM2 B 6 Bright
			Loop
	}
}




ACTOR BlueArmorKunai : BasicArmorpickup
{
	Radius 20
	Height 16
	+INVENTORY.QUIET
	Inventory.PickupMessage "$GOTARMOR" // "Picked up the armor."
	Inventory.Icon "ARM1A0"
	Inventory.RespawnTics "99999999"
	Armor.SavePercent 100
	DamageFactor 0.5
	Armor.SaveAmount 400
	States
	{
		Spawn:
			ARM2 A 6
			ARM2 B 6 Bright
			Loop
	}
}




ACTOR Bluearmorgosimer : GosimersBlueArmorBonus
{
  Radius 20
  Height 16
  TRANSLATION "112:127=198:207"
  Inventory.Icon "ARM1A0"
  +INVENTORY.QUIET
  Inventory.PickupSound "GARMGET"
  Inventory.RespawnTics "99999999"
  Armor.SavePercent 100
  Armor.SaveAmount 100
  Armor.MaxSaveAmount 400
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    BON2 ABCDCB 6
    Loop
  }
}

Actor Legendaryarmor : Custominventory
{
	Radius 20
	Height 16
	+COUNTITEM
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "$GOTSUPER" // "Picked up the Legendary armor!!! +999"
	States
	{
		Spawn:
			SHLD A 4 Bright
			Loop
		pickup:
			TNT1 A 0 A_Playsound("ARMOUR/PURPLE", Chan_6)
			TNT1 A 0 A_GIVEINVENTORY("Legendary-Armor")
			Stop
	}
}


ACTOR Legendary-Armor : BasicArmorPickup
{
	Radius 20
	Height 16
	Inventory.PickupMessage "Picked up the Legendary armor!!! +999"
	Inventory.Icon "ARM2A0"
	Inventory.PickupSound ""
	+INVENTORY.QUIET
	Inventory.RespawnTics "99999999"
	Damagefactor 1
	Armor.SavePercent 100
	Armor.SaveAmount 999
	States
	{
		Spawn:
			SHLD A 6 Bright
			Loop
	}
}

Actor Kunaisabilityfilter : CustomInventory
{
	Radius 20
	Height 16
	+INVENTORY.QUIET
	States
	{
		Spawn:
			ARM1 A 6
			ARM1 B 7 Bright
			Loop
		pickup:
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"Kunaipickup")
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_playsound("Fiend/armorget",chan_5)
			TNT1 A 7 A_PLAYSOUND("Jim/Taunt5",Chan_7)
			EUAB A 0 Bright A_RadiusGive("GosimersBlueArmorBonus", 320, RGF_PLAYERS, 20)
			Stop
		Kunaipickup:
			TNT1 A 0 A_playsound("ARMOUR/GREEN",Chan_6)
			TNT1 A 0 A_Giveinventory("GreenarmorKunai")
			Stop
	}
}

ACTOR DEMONENERGY
{
	Radius 8
	Height 16
	RenderStyle Add
	Alpha 1.0
	scale 0.5
	-SOLID
	-BLOCKEDBYSOLIDACTORS
	+NOSPAWNEVENTSCRIPT
	+DROPOFF
	+SLIDESONWALLS
	+NOBLOCKMAP
	+FORCEXYBILLBOARD
	+NOBLOCKMONST
	+THRUACTORS
	+DONTGIB
	+NOTIMEFREEZE
	States
	{
		Spawn:
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
			UENF A 1 Bright
			UENM B 1 Bright
			UENK C 1 Bright
			UENG D 1 Bright
			UENS E 1 Bright
			UENF F 1 Bright
			UENM G 1 Bright
			UENK H 1 Bright
			UENG I 1 Bright
			UENS J 1 Bright
		RNG:
			"####" "#" 0 A_Jump(256, "Green", "Blue", "Gold", "Red", "Violet")
			Stop
		Green:
			TNT1 A 1 A_SpawnItemEx ("DemonenergyGreen", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
			Stop
		Gold:
			TNT1 A 1 A_SpawnItemEx ("DemonenergyGold", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
			Stop
		Red:
			TNT1 A 1 A_SpawnItemEx ("DemonenergyRED", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
			Stop
		Blue:
			TNT1 A 1 A_SpawnItemEx ("DemonenergyBlue", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
			Stop
		Violet:
			TNT1 A 1 A_SpawnItemEx ("DemonenergyViolet", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
			Stop
	}
}

ACTOR DEMON_ENERGY_BASE : CustomInventory
{
	Radius 8
	Height 16
	scale 0.5
	RenderStyle Add
	Alpha 1.0
	Speed 20
	Args 500, 0, 0, 0, 0
	Inventory.PickupSound ""
	Inventory.PickupMessage "Picked up demon energy"
	+INVENTORY.QUIET
	+INVENTORY.NEVERRESPAWN
	+NOSPAWNEVENTSCRIPT
	+SLIDESONWALLS
	+FORCEXYBILLBOARD
	+SEEINVISIBLE
	+NOTIMEFREEZE
	+CANBLAST
	+NOBLOCKMONST
	+DROPOFF
	States
	{
		// States shared via inheritance. "####" makes it use the last sprite called by the actor.
		Succ:
			"####" A 0 A_ChangeFlag("NOGRAVITY", 1)
			"####" A 0 A_ChangeFlag("SEEKERMISSILE", 1)
			"####" A 0 A_ChangeFlag("NOCLIP", 1)
			"####" A 0 A_RearrangePointers(AAPTR_TARGET, AAPTR_MASTER, AAPTR_TARGET, 0)
			goto SuccLoop
		SuccLoop:
			"####" A 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" B 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" C 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" D 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" E 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" F 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" G 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" H 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" I 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			"####" J 1 Bright A_SeekerMissile(11.25, 22.50, SMF_PRECISE, 0, 0)
			"####" "#" 0 Bright A_Weave(4, 4, frandom(-1.0, 1.0), frandom(-1.0, 1.0))
			loop
		Fade:
			"####" ABCDEFGHIJ 2 Bright A_FadeOut(0.1)
			loop
	}
}

ACTOR DEMONENERGYRED : DEMON_ENERGY_BASE
{
	States
	{
		Spawn:
			UENK ABCDEFGHIJ 2 Bright
			"####" A 0 A_LookEx(LOF_NOSOUNDCHECK | LOF_NOSEESOUND, 0.0, 256.0, 256.0, 360.0, "CheckWho")
			"####" A 0 A_CountdownArg(0, "Fade")
			Loop
		CheckWho:
			"####" "#" 0 A_JumpIfInTargetInventory("KunaiToken", 1, "Succ")
			"####" "#" 0 A_ClearTarget
			goto Spawn
		pickup:
			TNT1 A 0 A_Jumpifinventory("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_Jumpifinventory("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"Maxpickup")
			TNT1 A 0 A_Jumpifinventory("StrikerToken", 1,"Strikerpickup")
			TNT1 A 0 A_playsound("Fiend/souls",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			Stop
		Kunaipickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 2)
			stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Demonenergy/Gosimer",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Maxpickup:
			TNT1 A 0 A_playsound("Max/DemonEnergy",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilitycharge", 1)
			stop
		Strikerpickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
	}
}

ACTOR DEMONENERGYGOLD : DEMON_ENERGY_BASE
{
	States
	{
		Spawn:
			UENG ABCDEFGHIJ 2 Bright
			"####" A 0 A_LookEx(LOF_NOSOUNDCHECK | LOF_NOSEESOUND, 0.0, 256.0, 256.0, 360.0, "CheckWho")
			"####" A 0 A_CountdownArg(0, "Fade")
			Loop
		CheckWho:
			"####" "#" 0 A_JumpIfInTargetInventory("GosimerToken", 1, "Succ")
			"####" "#" 0 A_ClearTarget
			goto Spawn
		pickup:
			TNT1 A 0 A_Jumpifinventory("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_Jumpifinventory("GosimerToken", 1,"Gosimerpickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"Maxpickup")
			TNT1 A 0 A_Jumpifinventory("StrikerToken", 1,"Strikerpickup")
			TNT1 A 0 A_playsound("Fiend/souls",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			Stop
		Gosimerpickup:
			TNT1 A 0 A_playsound("Demonenergy/Gosimer",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 2)
			stop
		Kunaipickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Maxpickup:
			TNT1 A 0 A_playsound("Max/DemonEnergy",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Strikerpickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
	}
}

ACTOR DEMONENERGYGREEN : DEMON_ENERGY_BASE
{
	States
	{
		Spawn:
			UENF ABCDEFGHIJ 2 Bright
			"####" A 0 A_LookEx(LOF_NOSOUNDCHECK | LOF_NOSEESOUND, 0.0, 256.0, 256.0, 360.0, "CheckWho")
			"####" A 0 A_CountdownArg(0, "Fade")
			Loop
		CheckWho:
			"####" "#" 0 A_JumpIfInTargetInventory("FiendToken", 1, "Succ")
			"####" "#" 0 A_ClearTarget
			goto Spawn
		pickup:
			TNT1 A 0 A_Jumpifinventory("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_Jumpifinventory("FiendToken", 1,"Fiendpickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"Maxpickup")
			TNT1 A 0 A_Jumpifinventory("StrikerToken", 1,"Strikerpickup")
			TNT1 A 0 A_playsound("Demonenergy/Gosimer",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Fiendpickup:
			TNT1 A 0 A_playsound("Fiend/souls",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 2)
			stop
		Kunaipickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Maxpickup:
			TNT1 A 0 A_playsound("Max/DemonEnergy",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Strikerpickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
	}
}

ACTOR DEMONENERGYBLUE : DEMON_ENERGY_BASE
{
	States
	{
		Spawn:
			UENM ABCDEFGHIJ 2 Bright
			"####" A 0 A_LookEx(LOF_NOSOUNDCHECK | LOF_NOSEESOUND, 0.0, 256.0, 256.0, 360.0, "CheckWho")
			"####" A 0 A_CountdownArg(0, "Fade")
			Loop
		CheckWho:
			"####" "#" 0 A_JumpIfInTargetInventory("MaxToken", 1, "Succ")
			"####" "#" 0 A_ClearTarget
			goto Spawn
		pickup:
			TNT1 A 0 A_Jumpifinventory("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_Jumpifinventory("FiendToken", 1,"Fiendpickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"Maxpickup")
			TNT1 A 0 A_Jumpifinventory("StrikerToken", 1,"Strikerpickup")
			TNT1 A 0 A_playsound("Demonenergy/Gosimer",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Fiendpickup:
			TNT1 A 0 A_playsound("Fiend/souls",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Kunaipickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Maxpickup:
			TNT1 A 0 A_playsound("Max/DemonEnergy",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 2)
			stop
		Strikerpickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
	}
}

ACTOR DEMONENERGYVIOLET : DEMON_ENERGY_BASE
{
	States
	{
		Spawn:
			UENS ABCDEFGHIJ 2 Bright
			"####" A 0 A_LookEx(LOF_NOSOUNDCHECK | LOF_NOSEESOUND, 0.0, 256.0, 256.0, 360.0, "CheckWho")
			"####" A 0 A_CountdownArg(0, "Fade")
			Loop
		CheckWho:
			"####" "#" 0 A_JumpIfInTargetInventory("StrikerToken", 1, "Succ")
			"####" "#" 0 A_ClearTarget
			goto Spawn
		pickup:
			TNT1 A 0 A_Jumpifinventory("KunaiToken", 1,"Kunaipickup")
			TNT1 A 0 A_Jumpifinventory("FiendToken", 1,"Fiendpickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"Maxpickup")
			TNT1 A 0 A_Jumpifinventory("StrikerToken", 1,"Strikerpickup")
			TNT1 A 0 A_playsound("Demonenergy/Gosimer",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Fiendpickup:
			TNT1 A 0 A_playsound("Fiend/souls",chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Kunaipickup:
			TNT1 A 0 A_Playsound("Demonenergy/kunai", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Maxpickup:
			TNT1 A 0 A_playsound("Max/DemonEnergy",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 1)
			stop
		Strikerpickup:
			TNT1 A 0 A_playsound("Demonenergy/kunai",chan_5)
			TNT1 A 0 A_GIVEINVENTORY("Abilitycharge", 1)
			TNT1 A 0 A_GIVEINVENTORY("UltimateAbilityCharge", 2)
			stop
	}
}

ACTOR Legendary-Taco : Health
{
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	Scale 0.05
	Inventory.Amount 999
	Inventory.MaxAmount 999
	Inventory.PickupMessage "$GOTSUPER" // "taco?! MMMMMMMM... HOW REFRESHING!"
	Inventory.PickupSound ""
	States
	{
		Spawn:
			TAKO A 1 Bright
			Loop
	}
}

Actor Takoget : Custominventory
{
	Radius 20
	Height 16
	Scale 0.05
	+COUNTITEM
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "$GOTSUPER" // "taco?! MMMMMMMM... HOW REFRESHING!"
	States
	{
		Spawn:
			TAKO A 4
			Loop
		pickup:
			TNT1 A 0 A_Jump(160, "Pickup2")
			TNT1 A 0 A_Playsound("Kunai/death2", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Legendary-Taco")
			Stop
		pickup2:
			TNT1 A 0 A_Playsound("Kunai/death3", Chan_7)
			TNT1 A 0 A_GIVEINVENTORY("Legendary-Taco")
			stop
	}
}


//--------------<Health

Actor Bluhelffilter : CustomInventory
{
	Radius 20
	Height 16
	Scale 0.75
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Picked up a Health Bonus! +5HP"
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	+COUNTITEM
	States
	{
		Spawn:
			BONB ABCDCB 2
			loop
			
		Pickup:
			TNT1 A 0 A_JumpIfInventory ("GosimerToken", 1,"GosimerPickup")
			TNT1 A 0 A_JumpIfInventory ("KunaiToken", 1,"KunaiPickup")
			TNT1 A 0 A_Jumpifinventory("MaxToken", 1,"MaxPickup")
			TNT1 A 0 A_playsound("Fiend/BOODOOP",chan_5)
			TNT1 A 0 A_Giveinventory("HealthPainis")
			TNT1 A 32
			TNT1 A 16 A_Playsound("Jim/TauntTasty",Chan_6)
			Stop
		KunaiPickup:
			TNT1 A 0 A_playsound("HPGET",chan_5)
			TNT1 A 0 A_Giveinventory("HealthPainis")
			Stop
		GosimerPickup:
			TNT1 A 0 A_playsound("Gosimer/Boodoop",chan_5)
			TNT1 A 0 A_Giveinventory("HealthPainis")
			TNT1 A 0 A_Playsound("Health/burp",Chan_6)
			Stop
		MaxPickup:
			TNT1 A 0 A_playsound("Max/HealthBonus",chan_5)
			TNT1 A 0 A_Giveinventory("HealthPainis_200max")
			Stop
	}
}

Actor REDhelffilter : Bluhelffilter
{
	Inventory.PickupMessage "Picked up a Health Bonus! +5HP"
	States
	{
		Spawn:
			BONR ABCDCB 2
			loop
	}
}

Actor GREENhelffilter : Bluhelffilter
{
	Inventory.PickupMessage "Picked up a Health Bonus! +5HP"
	States
	{
		Spawn:
			BONG ABCDCB 2
			loop
	}
}

ACTOR HealthPainis : Health
{
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	Inventory.Amount 5
	Inventory.MaxAmount 300
}

ACTOR HealthPainis_200max : Health
{
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	Inventory.Amount 5
	Inventory.MaxAmount 200
}

ACTOR Spencerhp : Health
{
	Game Doom
	+COUNTITEM
	+INVENTORY.QUIET
	+INVENTORY.ALWAYSPICKUP
	Inventory.Amount 1
	Inventory.MaxAmount 500
	Inventory.PickupSound ""
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Picked up a health bonus. +5"
	States
	{
		Spawn:
			BONB ABCDCB 2
			Loop
	}
}

ACTOR NerfedMedkit : Health
{
	Game Doom
	scale 1
	Inventory.Amount 20
	Inventory.PickupSound "HEALTH/NMEDKIT"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Small Medkit. +20"
	States
	{
		Spawn:
			MEDI A -1
			Stop
	}
}

ACTOR NerfedStimpack : Health
{
	Game Doom
	scale 1
	Inventory.Amount 5
	Inventory.PickupSound "HEALTH/NSTIM"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Small Stimpack. +5"
	States
	{
		Spawn:
			SMBS A -1
			Stop
	}
}

ACTOR NormalMedkit : Health
{
	Game Doom
	scale 1
	Inventory.Amount 25
	Inventory.PickupSound "HEALTH/MMEDKIT"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Medium Medkit +25"
	States
	{
		Spawn:
			MEDP ABCDEDCB 4
			Loop
	}
}

ACTOR NormalStimpack : Health
{
	Game Doom
	Inventory.Amount 10
	Inventory.PickupSound "HEALTH/MSTIM"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Medium Stimpack +10"
	States
	{
		Spawn:
			STIM A -1
			Stop
	}
}

ACTOR BuffedMedkit : Health
{
	Game Doom
	scale 0.75
	Inventory.Amount 30
	Inventory.PickupSound "HEALTH/BMEDKIT"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Large Medkit +30"
	States
	{
		Spawn:
			QMEG A -1
			Stop
	}
}


ACTOR BuffedStimpack : Health
{
	Game Doom
	scale 1
	Inventory.Amount 15
	Inventory.PickupSound "HEALTH/BSTIM"
	Inventory.RespawnTics "99999999"
	Inventory.PickupMessage "Laege Stimpack +15"
	States
	{
		Spawn:
			QMED A -1
			Stop
	}
}

//Sentry gun!
actor MiniSentryGun
{
	obituary "%o was ventilated by an mini-sentry."
	health 500
	radius 20
	height 32
	mass 10000
	speed 0
	MaxTargetRange 6000
	Monster
	ReactionTime 1
	
	Activation THINGSPEC_TriggerActs | THINGSpec_TriggerTargets | THINGSPEC_NoDeathSpecial
	
	var int user_owner;
	
	+NOBLOCKMONST
	+MISSILEEVENMORE
	+MISSILEMORE
	+FLOORCLIP
	+FRIENDLY
	+NOBLOOD
	+PUSHABLE
	+LOOKALLAROUND
	+NEVERRESPAWN
	+STANDSTILL
	+NEVERFAST
	+NOTAUTOAIMED
	+NOPAIN
	+USESPECIAL
	-BUMPSPECIAL
	-COUNTKILL
	states
	{
	Spawn:
		TNT1 A 0 NoDelay A_SetSpecial(84, 13238) // Set special to PICK_UP_SENTRY ACS Script (13238)
		goto SpawnLoop
	SpawnLoop:
		SEMT AAAAAAAAAAAAAAAA  3 A_Look
		SEMT A 0 A_PlaySound ("Sentry/Active")
		loop
	See:
		SEMT AAAAAAAAAAAAAAAA 3 A_Chase
		SEMT A 0 A_PlaySound ("Sentry/Active")
		SEMT A 0 A_SetSpecial(84, 13238) // Set special to PICK_UP_SENTRY ACS Script (13238) - Again, because Zan loves to fucking clear it for some shitting reason.
		loop
	Missile:
		SEMT A 0 A_PlaySound ("Sentry/See")
		SEMT A 7 A_FaceTarget
		goto SentryShoot
	SentryShoot:
		SEMT A 1 A_FaceTarget
		SEMT B 0 bright A_PlaySound("sentry/attack", CHAN_WEAPON)
		SEMT B 1 bright A_CustomBulletAttack(7.5, 1.0, 1, random(1,5)*3, "BulletPuff", 0, CBAF_NORANDOM)
		SEMT A 0 A_MonsterRefire(40, "SentryRecheck")
		goto SentryShoot
	SentryRecheck:
		SEMT A 0 A_LookEx(LOF_NOJUMP, 0.0, 2048.0, 0.0, 90)
		SEMT A 0 A_JumpIfTargetInLOS("SentryShoot", 90, JLOSF_DEADNOJUMP | JLOSF_ALLYNOJUMP | JLOSF_COMBATANTONLY | JLOSF_CLOSENOFOV, 2048, 128)
		goto See
	Death:
		SEMT C 0 A_NoBlocking
		SEMT C 1 A_PlaySoundEx ("Sentry/KunaiDED", "SoundSlot5")
		SEMT C 0 A_SpawnItem ("SentryBoom", 0, 24)
		SEMT C 0 A_DropItem("Chaingun", 1, 256)
		SEMT C 0 A_DropItem("MGRounds", 1, 256)
		SEMT C 1
	FadeOut:
		SENT C 2 A_FadeOut (0.1)
		loop
	}
}

actor SentryBoom
{
	radius 2
	height 2
	renderstyle Add
	+NOINTERACTION
	+CLIENTSIDEONLY
	states
	{
	Spawn:
		XPL1 ABCDEF 3 bright
		stop
	}
}

ACTOR SentryBox : CustomInventory 12369
{
	Tag "Mini-Sentry Box"
	+DONTGIB
	+INVENTORY.INVBAR
	+INVENTORY.PERSISTENTPOWER
	Inventory.MaxAmount 1
	Inventory.InterHubAmount 1
	Inventory.Icon "SENBB0"
	Inventory.PickupMessage "You picked up a sentry gun!"
	States
	{
		Spawn:
			SENB A -1
			Stop
		Use:
			TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("DROP_SENTRY", false) == 0, "Failure")
			TNT1 A 0 A_RailWait
			Stop
		Failure:
			TNT1 A 0
			fail
	}
}

ACTOR UsedSentryBox : SentryBox
{
	Tag "Unboxed Mini-Sentry"
	Inventory.Icon "USEDSENT"
	States
	{
		Use:
			TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("DROP_SENTRY", true) == 0, "Failure")
			TNT1 A 0 A_RailWait
			Stop
	}
}

Actor AmmoBelt : CustomInventory
{
  +CountItem
  +Inventory.AlwaysPickup
  Inventory.PickupMessage "You got an ammo belt"
  Inventory.PickupSound "misc/i_pkup"
  Scale 1.4
  States
  {
  Spawn:
    ABLT A -1
    Loop
  Pickup:
    TNT1 A 0 A_GiveInventory("peastolClip", 72)
    TNT1 A 0 A_GiveInventory("Shellz", 20)
    TNT1 A 0 A_GiveInventory("SuperShellz", 20)
    TNT1 A 0 A_GiveInventory("MGRounds", 150)
    TNT1 A 0 A_GiveInventory("RoketAmmo", 5)
    TNT1 A 0 A_GiveInventory("battery", 100)
    TNT1 A 0 A_GiveInventory("bfgcharge", 2)
    TNT1 A 0 A_GiveInventory("Nukecharge", 1)
    TNT1 A 0 A_GiveInventory("Railslugs", 10)

    // Gosimer's Class
    TNT1 A 0 A_GiveInventory("DevastatorAmmo", 25)

    // Max's Class
    TNT1 A 0 A_GiveInventory("DF_EnergyUnit", 15)
    TNT1 A 0 A_GiveInventory("DF_PowerCell", 10)
    TNT1 A 0 A_GiveInventory("DF_PlasmaCartridge", 20)
    TNT1 A 0 A_GiveInventory("DF_Missile", 5)

    //Please edit this with the fitting custom ammo types of your mod.
    //Make it give a large pickup worth of ammo
    Stop
  }
}

actor PShieldPart
{
	Species "Player"
	Radius 10
	Height 16
	Scale 0.5
	RenderStyle None
	Alpha 0.25
	Bloodtype "PShieldHit"
	//+SOLID
	+SHOOTABLE
	+NOGRAVITY
	+NOTELEPORT
	+NODAMAGE
	+NORADIUSDMG
	+DONTRIP
	+NOBLOODDECALS
	+FLOORCLIP
	+REFLECTIVE
	+NOTAUTOAIMED
	+FRIENDLY
	+CANPASS
	-COUNTKILL
	//+GHOST	//Give projectiles that you wish to pass through the shield THRUGHOST flag
	States
	{
		Spawn:
			HEXA A 4 bright
			stop
		Death:
			TNT1 A 2
			stop
	}
}

actor RedAPShieldPart : PShieldPart
{
	Bloodtype "RedAPShieldHit"
	States
	{
		Spawn:
			HEXP A 4 bright
			stop
	}
}

actor RedBPShieldPart : PShieldPart
{
	Bloodtype "RedBPShieldHit"
	States
	{
		Spawn:
			HEXQ A 4 bright
			stop
	}
}

actor RedPShieldPart : PShieldPart
{
	Bloodtype "RedPShieldHit"
	States
	{
		Spawn:
			HEXR A 4 bright
			stop
	}
}

actor PShieldPartVisual
{
	Radius 8
	Height 8
	Scale 0.5
	RenderStyle Add	//Fuzzy looks great in software mode
	Alpha 0.25
	+NOINTERACTION
	+CLIENTSIDEONLY
	+FLOORCLIP
	States
	{
		Spawn:
			HEXA A 4 bright
			stop
		Death:
			TNT1 A 2
			stop
	}
}

actor PShieldSpawner5up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 64, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 64, 0, 0, 0, 0, 32)
			stop
	}
}

actor PShieldSpawner4up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 8, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 24, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 40, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 56, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 8, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 24, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 40, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 56, 0, 0, 0, 0, 32)
    stop
  }
}

actor PShieldSpawner3up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("PShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
    stop
  }
}

actor PShieldHit
{
	Radius 1
	Height 1
	Scale 0.5
	Renderstyle Add
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			FHIT A 0 bright
			FHIT A 1 bright A_Stop
			FHIT A 0 bright A_PlaySound ("ForceBarrier/Hit")
			FHIT BCDEFGH 1 bright
			stop
	}
}

//33% red part//

actor RedAPShieldPartVisual
{
	Radius 8
	Height 8
	Scale 0.5
	RenderStyle Add	//Fuzzy looks great in software mode
	Alpha 0.25
	+NOINTERACTION
	+CLIENTSIDEONLY
	+FLOORCLIP
	States
	{
		Spawn:
			HEXP A 4 bright
			stop
		Death:
			TNT1 A 2
			stop
	}
}

actor RedAPShieldSpawner5up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 0, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 64, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 0, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 64, 0, 0, 0, 0, 32)
    stop
  }
}

actor RedAPShieldSpawner4up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 8, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 24, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 40, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 56, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 8, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 24, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 40, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 56, 0, 0, 0, 0, 32)
    stop
  }
}

actor RedAPShieldSpawner3up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
    stop
  }
}

actor RedAPShieldHit
{
	Radius 1
	Height 1
	Scale 0.5
	Renderstyle Add
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
	Spawn:
		FHIP A 0 bright
		FHIP A 1 bright A_Stop
		FHIP A 0 bright A_PlaySound ("ForceBarrier/Hit")
		FHIP BCDEFGH 1 bright
		stop
	}
}

//66% red part//

actor RedBPShieldPartVisual
{
  Radius 8
  Height 8
  Scale 0.5
  RenderStyle Add	//Fuzzy looks great in software mode
  Alpha 0.25
  +NOINTERACTION
  +CLIENTSIDEONLY
  +FLOORCLIP
  States
  {
  Spawn:
    HEXQ A 4 bright
    stop
  Death:
    TNT1 A 2
    stop
  }
}

actor RedBPShieldSpawner5up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 64, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 64, 0, 0, 0, 0, 32)
			stop
	}
}

actor RedBPShieldSpawner4up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 8, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 24, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 40, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 56, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 8, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 24, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 40, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 56, 0, 0, 0, 0, 32)
			stop
	}
}

actor RedBPShieldSpawner3up
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
    //TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
    stop
  }
}

actor RedBPShieldHit
{
	Radius 1
	Height 1
	Scale 0.5
	Renderstyle Add
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			FHIQ A 0 bright
			FHIQ A 1 bright A_Stop
			FHIQ A 0 bright A_PlaySound ("ForceBarrier/Hit")
			FHIQ BCDEFGH 1 bright
			stop
	}
}

//100% red part//

actor RedPShieldPartVisual
{
	Radius 8
	Height 8
	Scale 0.5
	RenderStyle Add	//Fuzzy looks great in software mode
	Alpha 0.25
	+NOINTERACTION
	+CLIENTSIDEONLY
	+FLOORCLIP
	States
	{
		Spawn:
			HEXR A 4 bright
			stop
		Death:
			TNT1 A 2
			stop
	}
}

actor RedPShieldSpawner5up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 64, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 0, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 64, 0, 0, 0, 0, 32)
			stop
	}
}

actor RedPShieldSpawner4up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 8, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 24, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 40, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 56, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 8, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 24, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 40, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 56, 0, 0, 0, 0, 32)
			stop
	}
}

actor RedPShieldSpawner3up
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPart", 0, 0, 48, 0, 0, 0, 0, 32)
			//TNT1 A 0 A_SpawnItemEx ("ShieldPartVisual", 0, 0, 16, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 32, 0, 0, 0, 0, 32)
			TNT1 A 0 A_SpawnItemEx ("RedPShieldPartVisual", 0, 0, 48, 0, 0, 0, 0, 32)
			stop
	}
}

actor RedPShieldHit
{
	Radius 1
	Height 1
	Scale 0.5
	Renderstyle Add
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			FHIR A 0 bright
			FHIR A 1 bright A_Stop
			FHIR A 0 bright A_PlaySound ("ForceBarrier/Hit")
			FHIR BCDEFGH 1 bright
			stop
	}
}

ACTOR DeployableShield : CustomInventory
{
	+COUNTITEM
	+INVENTORY.INVBAR
	Inventory.MaxAmount 3
	Inventory.Icon "I_GSHLD"
	Inventory.PickupMessage "You picked up a deployable shield!"
	States
	{
		Spawn:
			DEPS A -1
			Stop
		Use:
			TNT1 A 1 A_SpawnItemEx ("ActiveShield", 56, 0, 8, 0, 0, 0, 0, 1)
			Stop
	}
}

actor ActiveShield
{
	-SOLID
	-SHOOTABLE
	var int user_shield_time;
	States
	{
		Spawn:
			TNT1 A 1
			TNT1 A 0 A_PlaySound ("ForceBarrier/On")
			DEPS A 26
			DEPS E 3
			DEPS D 3
			DEPS C 3
			goto See
		See:
			DEPS B 1
			TNT1 A 0 A_PlaySound ("ForceBarrier/Loop")
			TNT1 A 0 A_SpawnItemEx ("ShieldSpawner2")
			DEPS B 2
			TNT1 A 0 A_SetUserVar("user_shield_time", user_shield_time+1)
			TNT1 A 0 A_JumpIf (user_shield_time >= 100, "See2")
			Loop
		See2:
			DEPS C 1
			TNT1 A 0 A_PlaySound ("ForceBarrier/Loop")
			TNT1 A 0 A_SpawnItemEx ("RedAShieldSpawner2")
			DEPS C 2
			TNT1 A 0 A_SetUserVar("user_shield_time", user_shield_time+1)
			TNT1 A 0 A_JumpIf (user_shield_time >= 200, "See3")
			Loop
		See3:
			DEPS D 1
			TNT1 A 0 A_PlaySound ("ForceBarrier/Loop")
			TNT1 A 0 A_SpawnItemEx ("RedBShieldSpawner2")
			DEPS D 2
			TNT1 A 0 A_SetUserVar("user_shield_time", user_shield_time+1)
			TNT1 A 0 A_JumpIf (user_shield_time >= 300, "See4")
			Loop
		See4:
			DEPS E 1
			TNT1 A 0 A_PlaySound ("ForceBarrier/Loop")
			TNT1 A 0 A_SpawnItemEx ("RedShieldSpawner2")
			DEPS E 2
			TNT1 A 0 A_SetUserVar("user_shield_time", user_shield_time+1)
			TNT1 A 0 A_JumpIf (user_shield_time >= 400, "Death")
			Loop
		Death:
			DESP A 0 A_PlaySound ("ForceBarrier/Off")
			DEPS A 70
			goto FadeOut
		FadeOut:
			DEPS A 3 A_FadeOut (0.05)
			loop
	}
}

actor ShieldSpawner2
{
	Radius 1
	Height 1
	+NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 1
			TNT1 A 0 A_SpawnItemEx ("PShieldSpawner5up", 8, 0, 0)
			TNT1 A 0 A_SpawnItemEx ("PShieldSpawner4up", 8, 24, 0)
			TNT1 A 0 A_SpawnItemEx ("PShieldSpawner4up", 8, -24, 0)
			TNT1 A 0 A_SpawnItemEx ("PShieldSpawner3up", 8, 48, 0)
			TNT1 A 0 A_SpawnItemEx ("PShieldSpawner3up", 8, -48, 0)
			stop
	}
}

actor RedShieldSpawner2
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedPShieldSpawner5up", 8, 0, 0)
    TNT1 A 0 A_SpawnItemEx ("RedPShieldSpawner4up", 8, 24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedPShieldSpawner4up", 8, -24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedPShieldSpawner3up", 8, 48, 0)
    TNT1 A 0 A_SpawnItemEx ("RedPShieldSpawner3up", 8, -48, 0)
    stop
  }
}

actor RedAShieldSpawner2
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldSpawner5up", 8, 0, 0)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldSpawner4up", 8, 24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldSpawner4up", 8, -24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldSpawner3up", 8, 48, 0)
    TNT1 A 0 A_SpawnItemEx ("RedAPShieldSpawner3up", 8, -48, 0)
    stop
  }
}

actor RedBShieldSpawner2
{
  Radius 1
  Height 1
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    TNT1 A 1
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldSpawner5up", 8, 0, 0)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldSpawner4up", 8, 24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldSpawner4up", 8, -24, 0)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldSpawner3up", 8, 48, 0)
    TNT1 A 0 A_SpawnItemEx ("RedBPShieldSpawner3up", 8, -48, 0)
    stop
  }
}

actor ExtraLifeThingy : CustomInventory
{
	Radius 20
	Height 56
	Inventory.Amount 1
	Inventory.MaxAmount 9999
	Inventory.InterHubAmount 9999
	Inventory.PickupMessage "EXTRA LIIIIIIFE"
	Inventory.PickupSound "oneman"
	+INVENTORY.UNDROPPABLE
	+INVENTORY.UNTOSSABLE
	+INVENTORY.NEVERRESPAWN
	+NOBLOCKMONST
	+CANBLAST
	+DROPOFF
	+DONTGIB
	States
	{
		Spawn:
			ONEM A -1 Bright
			loop
		Pickup:
			TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("ADDLIFE", 0) == 0, "Failure")
			TNT1 A 0 A_RailWait
			stop
		Failure:
			TNT1 A 0
			fail
	}
}
